{"version":3,"file":"src_app_views_admin-workflow-step-cost_admin-workflow-step-cost_module_ts.js","mappings":"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","sources":["./src/app/views/admin-workflow-step-cost/admin-workflow-step-cost-routing.module.ts","./src/app/views/admin-workflow-step-cost/admin-workflow-step-cost.component.ts","./src/app/views/admin-workflow-step-cost/admin-workflow-step-cost.component.html","./src/app/views/admin-workflow-step-cost/admin-workflow-step-cost.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AdminWorkflowStepCostComponent } from './admin-workflow-step-cost.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'create',\r\n    component: AdminWorkflowStepCostComponent,\r\n    data: { type: 'create' },\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: ':workflowcostid',\r\n    component: AdminWorkflowStepCostComponent,\r\n    data: { type: 'properties' },\r\n    pathMatch: 'full',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AdminWorkflowStepCostRoutingModule {}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Data, Params, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { NgxSmartModalService } from 'ngx-smart-modal';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Subscription, combineLatest } from 'rxjs';\r\nimport { FieldDefinition, FixedDataSource, IFieldOptions, MetaDataType } from 'shared-code-lib';\r\nimport { Log } from '../../blocks/core/log';\r\nimport {\r\n  IWorkflowStepPageLicenseCost,\r\n  PricingGroup,\r\n  WorkflowStepCostType,\r\n  WorkflowStepPageLicenseCost,\r\n} from '../../blocks/models/workflow-step-page-license-cost';\r\nimport { ErrorsService } from '../../blocks/services/errors.service';\r\nimport { HydraApiService } from '../../blocks/services/hydra-api.service';\r\nimport { ApiResult, Control } from '../../blocks/services/models';\r\nimport { SpinnerStateService } from '../../blocks/services/spinner-state.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-workflow-step-cost',\r\n  templateUrl: './admin-workflow-step-cost.component.html',\r\n  styleUrls: ['./admin-workflow-step-cost.component.scss'],\r\n})\r\nexport class AdminWorkflowStepCostComponent implements OnInit, OnDestroy {\r\n  rightControls: Array<Control> = [];\r\n\r\n  routeParams: Params;\r\n  routeData: Data;\r\n\r\n  saveButton: Control;\r\n  cancelButton: Control;\r\n\r\n  stepDisplayNameField: FieldDefinition;\r\n  costTypeField: FieldDefinition;\r\n  costValueField: FieldDefinition;\r\n\r\n  workflowStepPageLicenseCost: WorkflowStepPageLicenseCost;\r\n\r\n  get baseCostType(): string {\r\n    return this.workflowStepPageLicenseCost?.baseCostType.toString();\r\n  }\r\n  set baseCostType(val: string) {\r\n    this.workflowStepPageLicenseCost.baseCostType = Number(val);\r\n  }\r\n\r\n  get baseCostValue(): string {\r\n    return this.workflowStepPageLicenseCost?.baseCostValue.toString();\r\n  }\r\n  set baseCostValue(val: string) {\r\n    this.workflowStepPageLicenseCost.baseCostValue = Number(val);\r\n  }\r\n\r\n  subscriptions = new Subscription();\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private hydraApi: HydraApiService,\r\n    private toastr: ToastrService,\r\n    private errorsService: ErrorsService,\r\n    private spinner: SpinnerStateService,\r\n    public ngxSmartModalService: NgxSmartModalService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.createButtons();\r\n    this.createFields();\r\n\r\n    this.subscriptions.add(\r\n      combineLatest([this.route.params, this.route.data]).subscribe(([params, data]) => {\r\n        this.routeParams = params;\r\n        this.routeData = data;\r\n\r\n        if (this.routeData.type == 'create') {\r\n          this.workflowStepPageLicenseCost = new WorkflowStepPageLicenseCost({\r\n            workflowStepClassName: '',\r\n            workflowStepDisplayName: '',\r\n            baseCostType: WorkflowStepCostType.Constant,\r\n            baseCostValue: 0,\r\n            group: PricingGroup.Global,\r\n            dateCreatedUTC: new Date(new Date().toUTCString()),\r\n            dateModifiedUTC: new Date(new Date().toUTCString()),\r\n          } as IWorkflowStepPageLicenseCost);\r\n        } else {\r\n          this.loadItems();\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private createButtons = () => {\r\n    this.saveButton = new Control(this.onSave, 'Save', 'btn btn-primary btn-minwidth', '', '', 'btn', false);\r\n    this.cancelButton = new Control(this.onCancel, 'Cancel', 'btn btn-light btn-minwidth', '', '', 'btn', false);\r\n    this.rightControls.push(this.saveButton);\r\n    this.rightControls.push(this.cancelButton);\r\n\r\n    this.saveButton.setTranslation(this.translateService.instant('Common.Save'));\r\n    this.cancelButton.setTranslation(this.translateService.instant('Common.Cancel'));\r\n  };\r\n\r\n  createFields = (): void => {\r\n    this.stepDisplayNameField = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('admin-workflow-step-cost.step-name'),\r\n      placeholder: this.translateService.instant('admin-workflow-step-cost.step-name'),\r\n      required: true,\r\n    });\r\n\r\n    const options: IFieldOptions[] = [\r\n      { name: this.translateService.instant('admin-workflow-step-cost.constant'), value: '0' },\r\n      { name: this.translateService.instant('admin-workflow-step-cost.multiplier'), value: '1' },\r\n    ];\r\n\r\n    this.costTypeField = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('admin-workflow-step-cost.type'),\r\n      placeholder: this.translateService.instant('admin-workflow-step-cost.type'),\r\n      datasource: new FixedDataSource(options),\r\n      required: true,\r\n    });\r\n\r\n    this.costValueField = new FieldDefinition({\r\n      type: MetaDataType.Decimal,\r\n      label: this.translateService.instant('admin-workflow-step-cost.value'),\r\n      placeholder: this.translateService.instant('admin-workflow-step-cost.value'),\r\n      required: true,\r\n    });\r\n  };\r\n\r\n  loadItems = (): void => {\r\n    if (this.routeData.type !== 'properties') return;\r\n\r\n    this.spinner.show(this.translateService.instant('admin-workflow-step-cost.loading-item'), document.body);\r\n    this.hydraApi.getWorkflowStepCost(\r\n      this.routeParams.workflowcostid,\r\n      this.workflowStepCostLoaded,\r\n      this.loadingWorkflowStepCostFailed\r\n    );\r\n  };\r\n\r\n  workflowStepCostLoaded = (loadedItem: any): void => {\r\n    this.workflowStepPageLicenseCost = loadedItem;\r\n    this.spinner.hide();\r\n  };\r\n\r\n  loadingWorkflowStepCostFailed = (error: any): void => {\r\n    this.toastr.error(this.translateService.instant('admin-workflow-step-cost.loading-item-failed'));\r\n    Log.error('admin-workflow-step-cost.loading-item-failed', error);\r\n    this.spinner.hide();\r\n  };\r\n\r\n  onSave = () => {\r\n    if (this.workflowStepPageLicenseCost.id) {\r\n      this.hydraApi.updateWorkflowStepCost(this.workflowStepPageLicenseCost, this.savedSuccessfully, this.saveFailed);\r\n    } else {\r\n      this.hydraApi.createWorkflowStepCost(this.workflowStepPageLicenseCost, this.savedSuccessfully, this.saveFailed);\r\n    }\r\n\r\n    this.spinner.showSavingSpinner();\r\n  };\r\n\r\n  savedSuccessfully = (result: ApiResult) => {\r\n    if (result.success) {\r\n      this.toastr.success(this.translateService.instant('admin-workflow-step-cost.saved'));\r\n      this.returnToGrid();\r\n    } else {\r\n      this.errorsService.showErrorsModal(result.errors, 'admin-workflow-step-cost.validation-errors');\r\n    }\r\n\r\n    this.spinner.hide();\r\n  };\r\n\r\n  saveFailed = (error: any) => {\r\n    this.toastr.error(this.translateService.instant('admin-workflow-step-cost.save-failed'));\r\n    Log.error('admin-workflow-step-cost.save-failed', error);\r\n    this.spinner.hide();\r\n  };\r\n\r\n  onCancel = () => {\r\n    this.returnToGrid();\r\n  };\r\n\r\n  returnToGrid = () => {\r\n    this.router.navigateByUrl(\r\n      'settings/BambaAdministratorApplication/BambaAdministratorApplication-Upland.Bamba.Application.Settings.WorkflowStepPageLicenseCosts'\r\n    );\r\n  };\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","<div\r\n  class=\"admin-workflow-step-cost project-list-dashboard-body d-flex flex-column container-fluid\"\r\n  appAutoFocusFirstInput\r\n>\r\n  <app-secondary-header\r\n    [headerText]=\"'admin-workflow-step-cost.header-text' | translate\"\r\n    [rightControls]=\"rightControls\"\r\n  >\r\n  </app-secondary-header>\r\n\r\n  <div class=\"container-fluid col h-100\" id=\"spinnerPanel\">\r\n    <div *ngIf=\"workflowStepPageLicenseCost\" class=\"panel row m-0\">\r\n      <div\r\n        class=\"col-xl-3 col-l-4 col-md-5 col-sm-6 properties-panel properties-panel-h\"\r\n        fxFlex=\"auto\"\r\n        [perfectScrollbar]=\"{ suppressScrollY: false }\"\r\n        #panelScroll=\"ngxPerfectScrollbar\"\r\n        [autoUpdatePerfectScroll]=\"panelScroll\"\r\n      >\r\n        <app-field\r\n          [field]=\"stepDisplayNameField\"\r\n          [(value)]=\"workflowStepPageLicenseCost.workflowStepDisplayName\"\r\n          [disabled]=\"true\"\r\n        ></app-field>\r\n\r\n        <app-field [field]=\"costTypeField\" [(value)]=\"baseCostType\"></app-field>\r\n        <app-field [field]=\"costValueField\" [(value)]=\"baseCostValue\"></app-field>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgxSmartModalModule } from 'ngx-smart-modal';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar-portable';\r\n\r\nimport { AdminWorkflowStepCostRoutingModule } from './admin-workflow-step-cost-routing.module';\r\nimport { PageModule } from '../../blocks/page/page.module';\r\nimport { ComponentsModule } from '../../blocks/components/components.module';\r\nimport { AdminWorkflowStepCostComponent } from './admin-workflow-step-cost.component';\r\nimport {\r\n  AutoFocusFirstInputModule,\r\n  AutoUpdatePerfectScrollModule,\r\n  CheckboxModule,\r\n  FieldsModule,\r\n} from 'shared-code-lib';\r\n\r\n@NgModule({\r\n  declarations: [AdminWorkflowStepCostComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AdminWorkflowStepCostRoutingModule,\r\n    TranslateModule,\r\n    PageModule,\r\n    ComponentsModule,\r\n    FieldsModule,\r\n    AutoFocusFirstInputModule,\r\n    CheckboxModule,\r\n    NgxSmartModalModule,\r\n    PerfectScrollbarModule,\r\n    AutoUpdatePerfectScrollModule,\r\n  ],\r\n})\r\nexport class AdminWorkflowStepCostModule {}\r\n"],"names":["RouterModule","AdminWorkflowStepCostComponent","routes","path","component","data","type","pathMatch","AdminWorkflowStepCostRoutingModule","forChild","imports","i1","exports","ActivatedRoute","Router","TranslateService","NgxSmartModalService","ToastrService","Subscription","combineLatest","FieldDefinition","FixedDataSource","MetaDataType","Log","PricingGroup","WorkflowStepCostType","WorkflowStepPageLicenseCost","ErrorsService","HydraApiService","Control","SpinnerStateService","i0","ɵɵelementStart","ɵɵtwoWayListener","AdminWorkflowStepCostComponent_div_4_Template_app_field_valueChange_3_listener","$event","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵtwoWayBindingSet","workflowStepPageLicenseCost","workflowStepDisplayName","ɵɵresetView","ɵɵelementEnd","AdminWorkflowStepCostComponent_div_4_Template_app_field_valueChange_4_listener","baseCostType","AdminWorkflowStepCostComponent_div_4_Template_app_field_valueChange_5_listener","baseCostValue","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","_c0","panelScroll_r3","stepDisplayNameField","ɵɵtwoWayProperty","costTypeField","costValueField","toString","val","Number","constructor","translateService","router","route","hydraApi","toastr","errorsService","spinner","ngxSmartModalService","rightControls","subscriptions","createButtons","saveButton","onSave","cancelButton","onCancel","push","setTranslation","instant","createFields","Text","label","placeholder","required","options","name","value","List","datasource","Decimal","loadItems","routeData","show","document","body","getWorkflowStepCost","routeParams","workflowcostid","workflowStepCostLoaded","loadingWorkflowStepCostFailed","loadedItem","hide","error","id","updateWorkflowStepCost","savedSuccessfully","saveFailed","createWorkflowStepCost","showSavingSpinner","result","success","returnToGrid","showErrorsModal","errors","navigateByUrl","ngOnInit","add","params","subscribe","workflowStepClassName","Constant","group","Global","dateCreatedUTC","Date","toUTCString","dateModifiedUTC","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","i2","i3","i4","i5","i6","i7","selectors","decls","vars","consts","template","AdminWorkflowStepCostComponent_Template","rf","ctx","ɵɵelement","ɵɵtemplate","AdminWorkflowStepCostComponent_div_4_Template","ɵɵpipeBind1","CommonModule","TranslateModule","NgxSmartModalModule","PerfectScrollbarModule","PageModule","ComponentsModule","AutoFocusFirstInputModule","AutoUpdatePerfectScrollModule","CheckboxModule","FieldsModule","AdminWorkflowStepCostModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}