{"version":3,"file":"default-src_app_views_fax-viewer_fax-viewer_module_ts.js","mappings":"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","sources":["./src/app/views/fax-viewer/fax-viewer.module.ts","./src/app/views/fax-viewer/fax-viewer/fax-viewer.component.ts","./src/app/views/fax-viewer/fax-viewer/fax-viewer.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FaxViewerComponent } from './fax-viewer/fax-viewer.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { PdfViewerModule } from 'ng2-pdf-viewer';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgxSmartModalModule } from 'ngx-smart-modal';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar-portable';\r\n\r\nimport { PageModule } from '../../blocks/page/page.module';\r\nimport { ComponentsModule } from '../../blocks/components/components.module';\r\nimport { ModalsModule } from '../../blocks/modals/modals.module';\r\nimport { DirectivesModule } from '../../blocks/directives/directives.module';\r\nimport { ResizableModule } from 'shared-code-lib';\r\nimport { BoxModule } from '../product-item/box/box.module';\r\nimport { ProductItemModule } from '../product-item/product-item.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FaxViewerComponent,\r\n    pathMatch: 'full',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class FaxViewerRoutingModule {}\r\n\r\n@NgModule({\r\n  declarations: [FaxViewerComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    BoxModule,\r\n    PageModule,\r\n    TranslateModule,\r\n    NgxSmartModalModule,\r\n    ModalsModule,\r\n    PdfViewerModule,\r\n    PerfectScrollbarModule,\r\n    DirectivesModule,\r\n    ResizableModule,\r\n    FaxViewerRoutingModule,\r\n    ProductItemModule,\r\n  ],\r\n  exports: [FaxViewerComponent],\r\n})\r\nexport class FaxViewerModule {}\r\n","import { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Params, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Subscription } from 'rxjs';\r\nimport {\r\n  BrandingService,\r\n  ItemTableDataSource,\r\n  ItemsRequest,\r\n  ItemsResult,\r\n  SessionStorageService,\r\n  SortDirection,\r\n  TableItem,\r\n} from 'shared-code-lib';\r\nimport { ItemActionHandler } from '../../../blocks/core/itemActionHandler';\r\nimport { ActionService } from '../../../blocks/services/action.service';\r\nimport { ApiService } from '../../../blocks/services/api.service';\r\nimport { ErrorsService } from '../../../blocks/services/errors.service';\r\nimport { Folder, IAction, IFolder } from '../../../blocks/services/models';\r\nimport { SpinnerStateService } from '../../../blocks/services/spinner-state.service';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { PreviewDocument } from '../../product-item/document-preview/document-preview.component';\r\n\r\n@Component({\r\n  selector: 'app-fax-viewer',\r\n  templateUrl: './fax-viewer.component.html',\r\n  styleUrls: ['./fax-viewer.component.scss'],\r\n})\r\nexport class FaxViewerComponent implements OnInit, OnDestroy {\r\n  @ViewChild('spinnerWrapper', { static: true })\r\n  spinnerWrapper: ElementRef;\r\n\r\n  folder: IFolder;\r\n  selectedItems = new Array<TableItem>();\r\n  datasource: ItemTableDataSource;\r\n\r\n  itemActionHandler: ItemActionHandler;\r\n\r\n  documentId: string;\r\n  subscriptions = new Subscription();\r\n\r\n  previewDocument: PreviewDocument;\r\n\r\n  loading = true;\r\n  folderID = 'InterFAX-Upland.Bamba.InterFAX.Inbox.Folders.Inbox';\r\n\r\n  isFaxMobile = false;\r\n\r\n  constructor(\r\n    private userStateService: UserStateService,\r\n    private api: ApiService,\r\n    private route: ActivatedRoute,\r\n    private spinnerService: SpinnerStateService,\r\n    private translateService: TranslateService,\r\n    private errorsService: ErrorsService,\r\n    private router: Router,\r\n    private sessionStorageService: SessionStorageService,\r\n    private actionService: ActionService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.isFaxMobile = this.sessionStorageService.getIsInterFaxMobile();\r\n    this.subscriptions.add(\r\n      this.sessionStorageService.onIsInterFaxMobileChanged.subscribe((x) => (this.isFaxMobile = x))\r\n    );\r\n\r\n    this.itemActionHandler = this.actionService.createItemActionHandler();\r\n\r\n    this.subscriptions.add(\r\n      this.itemActionHandler.closeFolder.subscribe((_) => {\r\n        this.itemActionHandler.CloseBrowserTab();\r\n      })\r\n    );\r\n\r\n    this.subscriptions.add(this.itemActionHandler.openFolderEX.subscribe(this.changeFolder));\r\n    this.subscriptions.add(this.itemActionHandler.reload.subscribe(this.reloadDocument));\r\n    this.subscriptions.add(this.itemActionHandler.actionCompleted.subscribe(this.reloadDocument));\r\n\r\n    this.spinnerService.show(\r\n      this.translateService.instant('interfax-queue.loading-viewer'),\r\n      this.spinnerWrapper.nativeElement\r\n    );\r\n\r\n    if (!this.isFaxMobile) {\r\n      this.subscriptions.add(\r\n        this.route.queryParams.subscribe((param: any) => {\r\n          if (param['DocID']) {\r\n            this.documentId = param['DocID'];\r\n          }\r\n\r\n          if (param['Folder']) {\r\n            this.folderID = param['Folder'];\r\n          }\r\n\r\n          this.initData();\r\n        })\r\n      );\r\n    }\r\n\r\n    if (this.isFaxMobile) {\r\n      this.subscriptions.add(\r\n        this.route.params.subscribe((param: any) => {\r\n          const ids = param['itemId'].split('~');\r\n          this.documentId = ids[2];\r\n          this.folderID = ids[1];\r\n\r\n          this.initData();\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  initData() {\r\n    this.folder = this.userStateService.findFolderById(this.folderID);\r\n    this.datasource = new ItemTableDataSource(this.folder.product.id, this.folder.id, this.api);\r\n    this.loadDocument();\r\n  }\r\n\r\n  reloadDocument = (): void => {\r\n    this.spinnerService.show(\r\n      this.translateService.instant('interfax-queue.loading-viewer'),\r\n      this.spinnerWrapper.nativeElement\r\n    );\r\n\r\n    this.loadDocument();\r\n  };\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  loadDocument = (): void => {\r\n    const filterByDocumentId = {\r\n      id: 'InterFAX-Upland.Bamba.InterFAX.Inbox.Filtering.ByInterFAXDocumentID',\r\n      value: this.documentId,\r\n    };\r\n\r\n    const request = new ItemsRequest();\r\n    request.filters = [];\r\n    request.filters.push(filterByDocumentId);\r\n    request.pageNumber = 1;\r\n    request.pageSize = 1;\r\n    request.sortBy = '';\r\n    request.sortByDirection = SortDirection.Ascending;\r\n\r\n    this.datasource.loadItems(request, this.documentLoaded, this.documentLoadFailed);\r\n  };\r\n\r\n  changeFolder = (folder: string) => {\r\n    const queryParams: Params = { Folder: folder };\r\n\r\n    this.router.navigate([], {\r\n      relativeTo: this.route,\r\n      queryParams: queryParams,\r\n      queryParamsHandling: 'merge',\r\n    });\r\n  };\r\n\r\n  documentLoaded = (result: ItemsResult): void => {\r\n    this.loading = false;\r\n    this.spinnerService.hide(this.translateService.instant('interfax-queue.loading-viewer'));\r\n    if (result.success) {\r\n      this.selectedItems = result.items.map((i) => new TableItem(i, [], this.translateService));\r\n      this.previewDocument = new PreviewDocument(this.selectedItems[0], this.datasource, this.translateService);\r\n    } else {\r\n      this.showError(result.errors);\r\n    }\r\n  };\r\n\r\n  documentLoadFailed = (err: any): void => {\r\n    this.spinnerService.hide();\r\n    this.showError(err);\r\n  };\r\n\r\n  showError = (err: any): void => {\r\n    this.loading = true; // hide main ui\r\n\r\n    this.subscriptions.add(this.errorsService.closed.subscribe(this.dismissWindow));\r\n    this.errorsService.showErrorsModal(err, this.translateService.instant('interfax-queue.viewer-error-title'));\r\n  };\r\n\r\n  dismissWindow = (): void => {\r\n    window.close();\r\n  };\r\n\r\n  onToolbarAction = (action: IAction) => {\r\n    this.itemActionHandler.invoke(\r\n      this.folder.id,\r\n      action,\r\n      this.selectedItems.map((ti) => ti.data),\r\n      []\r\n    );\r\n  };\r\n\r\n  getIFolderAsFolder = () => this.folder as Folder;\r\n}\r\n","<div class=\"fax-viewer h-100 d-flex flex-column\" #spinnerWrapper>\r\n  <div *ngIf=\"!loading\" class=\"container-fluid h-100\">\r\n    <div class=\"h-100 col d-flex flex-column\">\r\n      <div\r\n        *ngIf=\"!isFaxMobile\"\r\n        appActionPanel\r\n        class=\"action-panel\"\r\n        [folder]=\"getIFolderAsFolder()\"\r\n        [selectedItems]=\"selectedItems\"\r\n        (onActionInvoked)=\"onToolbarAction($event)\"\r\n        [hideFilters]=\"true\"\r\n        [hideColumns]=\"true\"\r\n      ></div>\r\n\r\n      <app-document-preview\r\n        #documentPreview\r\n        [folderId]=\"folder.id\"\r\n        [selectedItems]=\"selectedItems\"\r\n        [previewDocument]=\"previewDocument\"\r\n        [documentNameEditingAllowed]=\"folder.allowDocumentNameEditing\"\r\n        (documentReloadRequired)=\"loadDocument()\"\r\n        class=\"col p-0\"\r\n      >\r\n      </app-document-preview>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"names":["CommonModule","FaxViewerComponent","RouterModule","PdfViewerModule","TranslateModule","NgxSmartModalModule","PerfectScrollbarModule","PageModule","ComponentsModule","ModalsModule","DirectivesModule","ResizableModule","BoxModule","ProductItemModule","routes","path","component","pathMatch","FaxViewerRoutingModule","forChild","imports","i1","exports","FaxViewerModule","declarations","ElementRef","ActivatedRoute","Router","TranslateService","Subscription","ItemTableDataSource","ItemsRequest","ItemsResult","SessionStorageService","SortDirection","TableItem","ActionService","ApiService","ErrorsService","SpinnerStateService","UserStateService","PreviewDocument","i0","ɵɵelementStart","ɵɵlistener","FaxViewerComponent_div_2_div_2_Template_div_onActionInvoked_0_listener","$event","ɵɵrestoreView","_r2","ctx_r2","ɵɵnextContext","ɵɵresetView","onToolbarAction","ɵɵelementEnd","ɵɵproperty","getIFolderAsFolder","selectedItems","ɵɵtemplate","FaxViewerComponent_div_2_div_2_Template","FaxViewerComponent_div_2_Template_app_document_preview_documentReloadRequired_3_listener","_r1","loadDocument","ɵɵadvance","isFaxMobile","folder","id","previewDocument","allowDocumentNameEditing","constructor","userStateService","api","route","spinnerService","translateService","errorsService","router","sessionStorageService","actionService","Array","subscriptions","loading","folderID","reloadDocument","show","instant","spinnerWrapper","nativeElement","filterByDocumentId","value","documentId","request","filters","push","pageNumber","pageSize","sortBy","sortByDirection","Ascending","datasource","loadItems","documentLoaded","documentLoadFailed","changeFolder","queryParams","Folder","navigate","relativeTo","queryParamsHandling","result","hide","success","items","map","i","showError","errors","err","add","closed","subscribe","dismissWindow","showErrorsModal","window","close","action","itemActionHandler","invoke","ti","data","ngOnInit","getIsInterFaxMobile","onIsInterFaxMobileChanged","x","createItemActionHandler","closeFolder","_","CloseBrowserTab","openFolderEX","reload","actionCompleted","param","initData","params","ids","split","findFolderById","product","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","i2","i3","i4","i5","i6","i7","i8","selectors","viewQuery","FaxViewerComponent_Query","rf","ctx","FaxViewerComponent_div_2_Template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}