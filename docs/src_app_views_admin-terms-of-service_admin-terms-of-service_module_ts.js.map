{"version":3,"file":"src_app_views_admin-terms-of-service_admin-terms-of-service_module_ts.js","mappings":"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","sources":["./src/app/views/admin-terms-of-service/admin-terms-of-service-routing.module.ts","./src/app/views/admin-terms-of-service/admin-terms-of-service.component.ts","./src/app/views/admin-terms-of-service/admin-terms-of-service.component.html","./src/app/views/admin-terms-of-service/admin-terms-of-service.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AdminTermsOfServiceComponent } from './admin-terms-of-service.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'create',\r\n    component: AdminTermsOfServiceComponent,\r\n    data: { type: 'create' },\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: ':termsofserviceid',\r\n    component: AdminTermsOfServiceComponent,\r\n    data: { type: 'properties' },\r\n    pathMatch: 'full',\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AdminTermsOfServiceRoutingModule {}\r\n","import { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { ActivatedRoute, Data, Params, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { NgxSmartModalService } from 'ngx-smart-modal';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Subscription, combineLatest } from 'rxjs';\r\nimport { FieldDefinition, ITermsOfService, MetaDataType, TermsOfService } from 'shared-code-lib';\r\nimport { Log } from '../../blocks/core/log';\r\nimport { ErrorsService } from '../../blocks/services/errors.service';\r\nimport { HydraApiService } from '../../blocks/services/hydra-api.service';\r\nimport { ApiResult, Control } from '../../blocks/services/models';\r\nimport { SpinnerStateService } from '../../blocks/services/spinner-state.service';\r\n\r\n@Component({\r\n  selector: 'app-admin-terms-of-service',\r\n  templateUrl: './admin-terms-of-service.component.html',\r\n  styleUrls: ['./admin-terms-of-service.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class AdminTermsOfServiceComponent implements OnInit, OnDestroy {\r\n  rightControls: Array<Control> = [];\r\n\r\n  routeParams: Params;\r\n  routeData: Data;\r\n\r\n  saveButton: Control;\r\n  cancelButton: Control;\r\n  urlField: FieldDefinition;\r\n  versionField: FieldDefinition;\r\n  notesField: FieldDefinition;\r\n  termsOfService: TermsOfService;\r\n\r\n  subscriptions = new Subscription();\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private hydraApi: HydraApiService,\r\n    private toastr: ToastrService,\r\n    private errorsService: ErrorsService,\r\n    private spinner: SpinnerStateService,\r\n    public ngxSmartModalService: NgxSmartModalService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.createButtons();\r\n    this.createFields();\r\n\r\n    this.subscriptions.add(\r\n      combineLatest([this.route.params, this.route.data]).subscribe(([params, data]) => {\r\n        this.routeParams = params;\r\n        this.routeData = data;\r\n\r\n        if (this.routeData.type == 'create') {\r\n          this.termsOfService = new TermsOfService({\r\n            url: '',\r\n            versionNumber: '',\r\n            active: false,\r\n            notes: '',\r\n            dateCreatedUTC: new Date(new Date().toUTCString()),\r\n            dateModifiedUTC: new Date(new Date().toUTCString()),\r\n          } as ITermsOfService);\r\n        } else {\r\n          this.loadTermsOfService();\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private createButtons = () => {\r\n    this.saveButton = new Control(this.onSave, 'Save', 'btn btn-primary btn-minwidth', '', '', 'btn', false);\r\n    this.cancelButton = new Control(this.onCancel, 'Cancel', 'btn btn-light btn-minwidth', '', '', 'btn', false);\r\n    this.rightControls.push(this.saveButton);\r\n    this.rightControls.push(this.cancelButton);\r\n\r\n    this.saveButton.setTranslation(this.translateService.instant('Common.Save'));\r\n    this.cancelButton.setTranslation(this.translateService.instant('Common.Cancel'));\r\n  };\r\n\r\n  createFields = (): void => {\r\n    this.urlField = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('admin-terms-of-service.url'),\r\n      placeholder: this.translateService.instant('admin-terms-of-service.url'),\r\n      required: true,\r\n    });\r\n\r\n    this.versionField = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('admin-terms-of-service.version'),\r\n      placeholder: this.translateService.instant('admin-terms-of-service.version'),\r\n      required: true,\r\n    });\r\n\r\n    this.notesField = new FieldDefinition({\r\n      type: MetaDataType.LargeText,\r\n      label: this.translateService.instant('admin-terms-of-service.notes'),\r\n      placeholder: this.translateService.instant('admin-terms-of-service.notes'),\r\n      required: false,\r\n    });\r\n  };\r\n\r\n  onSave = () => {\r\n    if (this.termsOfService.id) {\r\n      this.hydraApi.updateTermsOfService(this.termsOfService, this.termsOfServiceSaved, this.termsOfServiceSaveFailed);\r\n    } else {\r\n      this.hydraApi.createTermsOfService(this.termsOfService, this.termsOfServiceSaved, this.termsOfServiceSaveFailed);\r\n    }\r\n\r\n    this.spinner.showSavingSpinner();\r\n  };\r\n\r\n  termsOfServiceSaved = (result: ApiResult) => {\r\n    if (result.success) {\r\n      this.toastr.success(this.translateService.instant('admin-terms-of-service.saved'));\r\n      this.returnToGrid();\r\n    } else {\r\n      this.errorsService.showErrorsModal(result.errors, 'admin-terms-of-service.validation-errors');\r\n    }\r\n    this.spinner.hide();\r\n  };\r\n\r\n  termsOfServiceSaveFailed = (error: any) => {\r\n    this.toastr.error(this.translateService.instant('admin-terms-of-service.save-failed'));\r\n    Log.error('admin-terms-of-service.save-failed', error);\r\n    this.spinner.hide();\r\n  };\r\n\r\n  onCancel = () => {\r\n    this.returnToGrid();\r\n  };\r\n\r\n  returnToGrid = () => {\r\n    this.router.navigateByUrl(\r\n      'settings/BambaAdministratorApplication/BambaAdministratorApplication-Upland.Bamba.Application.Settings.TermsOfServices'\r\n    );\r\n  };\r\n\r\n  loadTermsOfService = (): void => {\r\n    if (this.routeData.type !== 'properties') return;\r\n\r\n    this.spinner.show(this.translateService.instant('admin-terms-of-service.loading-terms-of-service'), document.body);\r\n    this.hydraApi.getTermsOfService(\r\n      this.routeParams.termsofserviceid,\r\n      this.termsOfServiceLoaded,\r\n      this.termsOfServiceLoadFailed\r\n    );\r\n  };\r\n\r\n  termsOfServiceLoaded = (termsOfService: any): void => {\r\n    this.termsOfService = termsOfService;\r\n    this.spinner.hide();\r\n  };\r\n\r\n  termsOfServiceLoadFailed = (error: any): void => {\r\n    this.toastr.error(this.translateService.instant('admin-terms-of-service.load-failed'));\r\n    Log.error('admin-terms-of-service.load-failed', error);\r\n    this.spinner.hide();\r\n  };\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","<div\r\n  class=\"admin-terms-of-service project-list-dashboard-body d-flex flex-column min-h-fit-content\"\r\n  appAutoFocusFirstInput\r\n>\r\n  <app-secondary-header [headerText]=\"'admin-terms-of-service.header-text' | translate\" [rightControls]=\"rightControls\">\r\n  </app-secondary-header>\r\n\r\n  <div class=\"container-fluid col min-h-fit-content mh-100 overflow-auto\" id=\"spinnerPanel\">\r\n    <div *ngIf=\"termsOfService\" class=\"panel h-100 row m-0 min-h-fit-content\">\r\n      <div class=\"col-3 col-md-3 properties-panel\" appAutoFocusFirstInput>\r\n        <app-field [field]=\"urlField\" [(value)]=\"termsOfService.url\"></app-field>\r\n        <app-field [field]=\"versionField\" [(value)]=\"termsOfService.versionNumber\"></app-field>\r\n        <app-field [field]=\"notesField\" [(value)]=\"termsOfService.notes\"></app-field>\r\n        <app-checkbox\r\n          [(value)]=\"termsOfService.active\"\r\n          label=\"{{ 'admin-terms-of-service.active' | translate }}\"\r\n        ></app-checkbox>\r\n      </div>\r\n      <div class=\"col-9 col-m-9 d-flex flex-column overflow-auto mh-100 p-0\"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgxSmartModalModule } from 'ngx-smart-modal';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar-portable';\r\n\r\nimport { AdminTermsOfServiceRoutingModule } from './admin-terms-of-service-routing.module';\r\nimport { PageModule } from '../../blocks/page/page.module';\r\nimport { ComponentsModule } from '../../blocks/components/components.module';\r\nimport { AdminTermsOfServiceComponent } from './admin-terms-of-service.component';\r\nimport { AutoFocusFirstInputModule, CheckboxModule, FieldsModule } from 'shared-code-lib';\r\n\r\n@NgModule({\r\n  declarations: [AdminTermsOfServiceComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AdminTermsOfServiceRoutingModule,\r\n    TranslateModule,\r\n    PageModule,\r\n    ComponentsModule,\r\n    FieldsModule,\r\n    AutoFocusFirstInputModule,\r\n    CheckboxModule,\r\n    NgxSmartModalModule,\r\n    PerfectScrollbarModule,\r\n  ],\r\n})\r\nexport class AdminTermsOfServicedModule {}\r\n"],"names":["RouterModule","AdminTermsOfServiceComponent","routes","path","component","data","type","pathMatch","AdminTermsOfServiceRoutingModule","forChild","imports","i1","exports","ActivatedRoute","Router","TranslateService","NgxSmartModalService","ToastrService","Subscription","combineLatest","FieldDefinition","MetaDataType","TermsOfService","Log","ErrorsService","HydraApiService","Control","SpinnerStateService","i0","ɵɵelementStart","ɵɵtwoWayListener","AdminTermsOfServiceComponent_div_4_Template_app_field_valueChange_2_listener","$event","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵtwoWayBindingSet","termsOfService","url","ɵɵresetView","ɵɵelementEnd","AdminTermsOfServiceComponent_div_4_Template_app_field_valueChange_3_listener","versionNumber","AdminTermsOfServiceComponent_div_4_Template_app_field_valueChange_4_listener","notes","AdminTermsOfServiceComponent_div_4_Template_app_checkbox_valueChange_5_listener","active","ɵɵelement","ɵɵadvance","ɵɵproperty","urlField","ɵɵtwoWayProperty","versionField","notesField","ɵɵpropertyInterpolate","ɵɵpipeBind1","constructor","translateService","router","route","hydraApi","toastr","errorsService","spinner","ngxSmartModalService","rightControls","subscriptions","createButtons","saveButton","onSave","cancelButton","onCancel","push","setTranslation","instant","createFields","Text","label","placeholder","required","LargeText","id","updateTermsOfService","termsOfServiceSaved","termsOfServiceSaveFailed","createTermsOfService","showSavingSpinner","result","success","returnToGrid","showErrorsModal","errors","hide","error","navigateByUrl","loadTermsOfService","routeData","show","document","body","getTermsOfService","routeParams","termsofserviceid","termsOfServiceLoaded","termsOfServiceLoadFailed","ngOnInit","add","params","subscribe","dateCreatedUTC","Date","toUTCString","dateModifiedUTC","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","i2","i3","i4","i5","i6","i7","selectors","decls","vars","consts","template","AdminTermsOfServiceComponent_Template","rf","ctx","ɵɵtemplate","AdminTermsOfServiceComponent_div_4_Template","CommonModule","TranslateModule","NgxSmartModalModule","PerfectScrollbarModule","PageModule","ComponentsModule","AutoFocusFirstInputModule","CheckboxModule","FieldsModule","AdminTermsOfServicedModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}