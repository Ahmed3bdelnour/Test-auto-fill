{"version":3,"file":"src_app_views_admin-workflow_admin-workflow_module_ts.js","mappings":"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","sources":["./src/app/blocks/formatters/formatters.module.ts","./src/app/blocks/models/email-destination.ts","./src/app/blocks/models/invoice-extraction-fields.ts","./src/app/blocks/services/modals-utilities.service.ts","./src/app/blocks/services/sharepoint.service.ts","./src/app/views/admin-workflow/admin-workflow-routing.module.ts","./src/app/views/admin-workflow/admin-workflow.component.ts","./src/app/views/admin-workflow/admin-workflow.component.html","./src/app/views/admin-workflow/admin-workflow.module.ts","./src/app/views/admin-workflow/components/export-metadata-csv/export-metadata-csv.component.ts","./src/app/views/admin-workflow/components/export-metadata-csv/export-metadata-csv.component.html","./src/app/views/admin-workflow/components/export-metadata-xml/export-metadata-xml.component.ts","./src/app/views/admin-workflow/components/export-metadata-xml/export-metadata-xml.component.html","./src/app/views/admin-workflow/components/export-metadata/export-metadata.component.ts","./src/app/views/admin-workflow/components/export-metadata/export-metadata.component.html","./src/app/views/admin-workflow/components/step-metadata-mapping/step-metadata-mapping.component.ts","./src/app/views/admin-workflow/components/step-metadata-mapping/step-metadata-mapping.component.html","./src/app/views/admin-workflow/models/document-field-mapping.ts","./src/app/views/admin-workflow/prompts/prompts.component.ts","./src/app/views/admin-workflow/prompts/prompts.component.html","./src/app/views/admin-workflow/role-selector/role-selector.component.ts","./src/app/views/admin-workflow/role-selector/role-selector.component.html","./src/app/views/admin-workflow/scan-settings/scan-settings.component.ts","./src/app/views/admin-workflow/scan-settings/scan-settings.component.html","./src/app/views/admin-workflow/step-add-template/step-add-template.component.ts","./src/app/views/admin-workflow/step-add-template/step-add-template.component.html","./src/app/views/admin-workflow/step-barcode-cover-page/step-barcode-cover-page.component.ts","./src/app/views/admin-workflow/step-barcode-cover-page/step-barcode-cover-page.component.html","./src/app/views/admin-workflow/step-barcode-data-mapping/barcode-mappings/barcode-mappings.component.ts","./src/app/views/admin-workflow/step-barcode-data-mapping/barcode-mappings/barcode-mappings.component.html","./src/app/views/admin-workflow/step-barcode-data-mapping/step-barcode-data-mapping.component.ts","./src/app/views/admin-workflow/step-barcode-data-mapping/step-barcode-data-mapping.component.html","./src/app/views/admin-workflow/step-bursting/step-bursting.component.ts","./src/app/views/admin-workflow/step-bursting/step-bursting.component.html","./src/app/views/admin-workflow/step-classifier/step-classifier.component.ts","./src/app/views/admin-workflow/step-classifier/step-classifier.component.html","./src/app/views/admin-workflow/step-decision-point/step-decision-point.component.ts","./src/app/views/admin-workflow/step-decision-point/step-decision-point.component.html","./src/app/views/admin-workflow/step-deliver-to-email/step-deliver-to-email-general/step-deliver-to-email-general.component.ts","./src/app/views/admin-workflow/step-deliver-to-email/step-deliver-to-email-general/step-deliver-to-email-general.component.html","./src/app/views/admin-workflow/step-deliver-to-email/step-deliver-to-email.component.ts","./src/app/views/admin-workflow/step-deliver-to-email/step-deliver-to-email.component.html","./src/app/views/admin-workflow/step-deliver-to-ftp/step-deliver-to-ftp-general/step-deliver-to-ftp-general.component.ts","./src/app/views/admin-workflow/step-deliver-to-ftp/step-deliver-to-ftp-general/step-deliver-to-ftp-general.component.html","./src/app/views/admin-workflow/step-deliver-to-ftp/step-deliver-to-ftp.component.ts","./src/app/views/admin-workflow/step-deliver-to-ftp/step-deliver-to-ftp.component.html","./src/app/views/admin-workflow/step-deliver-to-interfax/step-deliver-to-interfax.component.ts","./src/app/views/admin-workflow/step-deliver-to-interfax/step-deliver-to-interfax.component.html","./src/app/views/admin-workflow/step-deliver-to-s3/step-deliver-to-s3-general/step-deliver-to-s3-general.component.ts","./src/app/views/admin-workflow/step-deliver-to-s3/step-deliver-to-s3-general/step-deliver-to-s3-general.component.html","./src/app/views/admin-workflow/step-deliver-to-s3/step-deliver-to-s3.component.ts","./src/app/views/admin-workflow/step-deliver-to-s3/step-deliver-to-s3.component.html","./src/app/views/admin-workflow/step-deliver-to-sharepoint365/models/sharepoint-folder.ts","./src/app/views/admin-workflow/step-deliver-to-sharepoint365/sharepoint-folder/sharepoint-folder.component.ts","./src/app/views/admin-workflow/step-deliver-to-sharepoint365/sharepoint-folder/sharepoint-folder.component.html","./src/app/views/admin-workflow/step-deliver-to-sharepoint365/step-deliver-to-sharepoint365-general/step-deliver-to-sharepoint365-general.component.ts","./src/app/views/admin-workflow/step-deliver-to-sharepoint365/step-deliver-to-sharepoint365-general/step-deliver-to-sharepoint365-general.component.html","./src/app/views/admin-workflow/step-deliver-to-sharepoint365/step-deliver-to-sharepoint365.component.ts","./src/app/views/admin-workflow/step-deliver-to-sharepoint365/step-deliver-to-sharepoint365.component.html","./src/app/views/admin-workflow/step-delivery-filebound/step-delivery-filebound-general/step-delivery-filebound-general.component.ts","./src/app/views/admin-workflow/step-delivery-filebound/step-delivery-filebound-general/step-delivery-filebound-general.component.html","./src/app/views/admin-workflow/step-delivery-filebound/step-delivery-filebound.component.ts","./src/app/views/admin-workflow/step-delivery-filebound/step-delivery-filebound.component.html","./src/app/views/admin-workflow/step-delivery-to-netdocs/step-delivery-to-netdocs-general/step-delivery-to-netdocs-general.component.ts","./src/app/views/admin-workflow/step-delivery-to-netdocs/step-delivery-to-netdocs-general/step-delivery-to-netdocs-general.component.html","./src/app/views/admin-workflow/step-delivery-to-netdocs/step-delivery-to-netdocs.component.ts","./src/app/views/admin-workflow/step-delivery-to-netdocs/step-delivery-to-netdocs.component.html","./src/app/views/admin-workflow/step-detect-pii/step-detect-pii.component.ts","./src/app/views/admin-workflow/step-detect-pii/step-detect-pii.component.html","./src/app/views/admin-workflow/step-detect-signature/step-detect-signature.component.ts","./src/app/views/admin-workflow/step-detect-signature/step-detect-signature.component.html","./src/app/views/admin-workflow/step-document-stamp/step-document-stamp.component.ts","./src/app/views/admin-workflow/step-document-stamp/step-document-stamp.component.html","./src/app/views/admin-workflow/step-document-stamp/step-document-stamp.enums.ts","./src/app/views/admin-workflow/step-export-to-api/step-export-to-api.component.ts","./src/app/views/admin-workflow/step-export-to-api/step-export-to-api.component.html","./src/app/views/admin-workflow/step-export-to-webservice/step-export-to-webservice.component.ts","./src/app/views/admin-workflow/step-export-to-webservice/step-export-to-webservice.component.html","./src/app/views/admin-workflow/step-forms-ai/step-forms-ai.component.ts","./src/app/views/admin-workflow/step-forms-ai/step-forms-ai.component.html","./src/app/views/admin-workflow/step-forms/step-forms.component.ts","./src/app/views/admin-workflow/step-forms/step-forms.component.html","./src/app/views/admin-workflow/step-imageprocessing/step-imageprocessing.component.ts","./src/app/views/admin-workflow/step-imageprocessing/step-imageprocessing.component.html","./src/app/views/admin-workflow/step-interactive/step-interactive-advanced/step-interactive-advanced.component.ts","./src/app/views/admin-workflow/step-interactive/step-interactive-advanced/step-interactive-advanced.component.html","./src/app/views/admin-workflow/step-interactive/step-interactive-capabilities/step-interactive-capabilities.component.ts","./src/app/views/admin-workflow/step-interactive/step-interactive-capabilities/step-interactive-capabilities.component.html","./src/app/views/admin-workflow/step-interactive/step-interactive-groupings/step-interactive-groupings.component.ts","./src/app/views/admin-workflow/step-interactive/step-interactive-groupings/step-interactive-groupings.component.html","./src/app/views/admin-workflow/step-interactive/step-interactive-indexing/step-interactive-indexing.component.ts","./src/app/views/admin-workflow/step-interactive/step-interactive-indexing/step-interactive-indexing.component.html","./src/app/views/admin-workflow/step-interactive/step-interactive-outcomes/step-interactive-outcomes.component.ts","./src/app/views/admin-workflow/step-interactive/step-interactive-outcomes/step-interactive-outcomes.component.html","./src/app/views/admin-workflow/step-interactive/step-interactive-roles/step-interactive-roles.component.ts","./src/app/views/admin-workflow/step-interactive/step-interactive-roles/step-interactive-roles.component.html","./src/app/views/admin-workflow/step-interactive/step-interactive-thresholds/step-interactive-thresholds.component.ts","./src/app/views/admin-workflow/step-interactive/step-interactive-thresholds/step-interactive-thresholds.component.html","./src/app/views/admin-workflow/step-interactive/step-interactive-training/step-interactive-training.component.ts","./src/app/views/admin-workflow/step-interactive/step-interactive-training/step-interactive-training.component.html","./src/app/views/admin-workflow/step-interactive/step-interactive.component.ts","./src/app/views/admin-workflow/step-interactive/step-interactive.component.html","./src/app/views/admin-workflow/step-invoice-extraction/step-invoice-extraction.component.ts","./src/app/views/admin-workflow/step-invoice-extraction/step-invoice-extraction.component.html","./src/app/views/admin-workflow/step-keyword-extraction/step-keyword-extraction.component.ts","./src/app/views/admin-workflow/step-keyword-extraction/step-keyword-extraction.component.html","./src/app/views/admin-workflow/step-move-to-workflow/step-move-to-workflow.component.ts","./src/app/views/admin-workflow/step-move-to-workflow/step-move-to-workflow.component.html","./src/app/views/admin-workflow/step-ocr/step-ocr.component.ts","./src/app/views/admin-workflow/step-ocr/step-ocr.component.html","./src/app/views/admin-workflow/step-ocrplus/step-ocrplus.component.ts","./src/app/views/admin-workflow/step-ocrplus/step-ocrplus.component.html","./src/app/views/admin-workflow/step-rename-document/step-rename-document.component.ts","./src/app/views/admin-workflow/step-rename-document/step-rename-document.component.html","./src/app/views/admin-workflow/step-set-data-fields/step-set-data-fields.component.ts","./src/app/views/admin-workflow/step-set-data-fields/step-set-data-fields.component.html","./src/app/views/admin-workflow/step-simple-classifier/classification/classification.component.ts","./src/app/views/admin-workflow/step-simple-classifier/classification/classification.component.html","./src/app/views/admin-workflow/step-simple-classifier/classification/content-criteria/content-criteria.component.ts","./src/app/views/admin-workflow/step-simple-classifier/classification/content-criteria/content-criteria.component.html","./src/app/views/admin-workflow/step-simple-classifier/classification/content-criteria/text-content-criteria-options/text-content-criteria-options.component.ts","./src/app/views/admin-workflow/step-simple-classifier/classification/content-criteria/text-content-criteria-options/text-content-criteria-options.component.html","./src/app/views/admin-workflow/step-simple-classifier/step-simple-classifier.component.ts","./src/app/views/admin-workflow/step-simple-classifier/step-simple-classifier.component.html","./src/app/views/admin-workflow/step-start/step-start.component.ts","./src/app/views/admin-workflow/step-start/step-start.component.html","./src/app/views/admin-workflow/step-summarization/step-summarization.component.ts","./src/app/views/admin-workflow/step-summarization/step-summarization.component.html","./src/app/views/admin-workflow/step-translate-document/step-translate-document.component.ts","./src/app/views/admin-workflow/step-translate-document/step-translate-document.component.html","./src/app/views/admin-workflow/step.ts","./src/app/views/admin-workflow/workflow-editor/workflow-editor.component.ts","./src/app/views/admin-workflow/workflow-editor/workflow-editor.component.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { CheckboxModule, FieldsModule, LabelModule, AutoFocusFirstInputModule, ErrorsModule } from 'shared-code-lib';\r\nimport { FormattersComponent } from './formatters.component';\r\nimport { FormatterComponent } from './formatter/formatter.component';\r\nimport { CaseComponent } from './formatter/actions/case/case.component';\r\nimport { PrefixAndSuffixComponent } from './formatter/actions/prefix-and-suffix/prefix-and-suffix.component';\r\nimport { TextCriteriaComponent } from './formatter/criterias/text/text.component';\r\nimport { LengthComponent } from './formatter/criterias/length/length.component';\r\nimport { ReplaceComponent } from './formatter/actions/replace/replace.component';\r\nimport { RemoveComponent } from './formatter/actions/remove/remove.component';\r\nimport { InsertComponent } from './formatter/actions/insert/insert.component';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar-portable';\r\nimport { NgxSmartModalModule } from 'ngx-smart-modal';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FormattersComponent,\r\n    FormatterComponent,\r\n    CaseComponent,\r\n    PrefixAndSuffixComponent,\r\n    RemoveComponent,\r\n    TextCriteriaComponent,\r\n    LengthComponent,\r\n    ReplaceComponent,\r\n    RemoveComponent,\r\n    InsertComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    FieldsModule,\r\n    CheckboxModule,\r\n    LabelModule,\r\n    DragDropModule,\r\n    PerfectScrollbarModule,\r\n    NgxSmartModalModule,\r\n    AutoFocusFirstInputModule,\r\n    ErrorsModule,\r\n  ],\r\n  exports: [FormattersComponent],\r\n})\r\nexport class FormattersModule {}\r\n","export class EmailDestination {\r\n  constructor(public emailAddress: string, public name: string, public type: EmailDestinationType) {}\r\n}\r\n\r\nexport enum EmailDestinationType {\r\n  To = 1,\r\n  CC = 2,\r\n  BCC = 3,\r\n}\r\n","export interface IInvoiceExtractionField {\r\n  name: string;\r\n  value: string;\r\n  autoMapTags: Array<string>;\r\n}\r\n\r\nexport class InvoiceExtractionField implements IInvoiceExtractionField {\r\n  public name: string;\r\n  public value: string;\r\n  public autoMapTags: Array<string>;\r\n\r\n  constructor(initializer: IInvoiceExtractionField) {\r\n    this.name = initializer ? initializer.name : '';\r\n    this.value = initializer ? initializer.value : '';\r\n    this.autoMapTags = initializer ? initializer.autoMapTags : [];\r\n  }\r\n\r\n  mappingMatches = (matchText: string): boolean => {\r\n    let matchFound = false;\r\n    this.autoMapTags.find((t) => {\r\n      if (!matchText.replace(' ', '').toLowerCase().includes(t.toLowerCase())) return;\r\n      matchFound = true;\r\n    });\r\n\r\n    return matchFound;\r\n  };\r\n}\r\n\r\nexport class InvoiceExtractionFields {\r\n  public fields: Array<InvoiceExtractionField> = [];\r\n\r\n  constructor(translations: any) {\r\n    const keys = Object.keys(translations);\r\n\r\n    keys.forEach((key) => {\r\n      const mapping = translations[key];\r\n      this.fields.push(\r\n        new InvoiceExtractionField({\r\n          name: mapping.name,\r\n          value: key,\r\n          autoMapTags: this.getAutoMapTags(mapping.autoMapTags),\r\n        })\r\n      );\r\n    });\r\n  }\r\n\r\n  private getAutoMapTags(tags: any): Array<string> {\r\n    const autoMapTags: Array<string> = [];\r\n    const keys = Object.keys(tags);\r\n\r\n    keys.forEach((k) => {\r\n      autoMapTags.push(tags[k]);\r\n    });\r\n\r\n    return autoMapTags;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { NgxSmartModalService } from 'ngx-smart-modal';\r\nimport { ModalInstance } from 'ngx-smart-modal/lib/services/modal-instance';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ModalsUtilitiesService {\r\n  constructor(private ngxSmartModalService: NgxSmartModalService) {}\r\n\r\n  isAnyModalOpened() {\r\n    const openedModals = this.ngxSmartModalService.getOpenedModals();\r\n    if (openedModals.length === 0) return false;\r\n    return openedModals.length > 1 || !this.onlyHiddenScanToModal(openedModals);\r\n  }\r\n\r\n  private onlyHiddenScanToModal(openedModals: ModalInstance[]) {\r\n    return (\r\n      openedModals.length === 1 &&\r\n      openedModals[0]?.id === 'ScanToModal' &&\r\n      !!document.querySelector('.scan-to-modal-hidden')\r\n    );\r\n  }\r\n}\r\n","import { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { SharePointFieldsResult } from '../../views/admin-workflow/step-deliver-to-sharepoint365/models/sharepoint-fields-result';\r\nimport { SharePointFolder } from '../../views/admin-workflow/step-deliver-to-sharepoint365/models/sharepoint-folder';\r\nimport { SharePointFolderResult } from '../../views/admin-workflow/step-deliver-to-sharepoint365/models/sharepoint-folders-result';\r\nimport { DeliverToSharePoint365WorkflowStep } from '../models/workflow-step';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SharePointService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  private _sharePointFolderSelected = new Subject<SharePointFolder>();\r\n  onSelectFolder = this._sharePointFolderSelected.asObservable();\r\n\r\n  private _expandAndSelect = new Subject<any>();\r\n  onExpandAndSelect = this._expandAndSelect.asObservable();\r\n\r\n  private _showWarningMessage = new Subject<string>();\r\n  onShowWarningMessage = this._showWarningMessage.asObservable();\r\n\r\n  private _showSpinner = new Subject<boolean>();\r\n  onShowSpinner = this._showSpinner.asObservable();\r\n\r\n  selectedFolder(folder: SharePointFolder) {\r\n    this._sharePointFolderSelected.next(folder);\r\n  }\r\n\r\n  expandAndSelect(selectionInfo: any) {\r\n    this._expandAndSelect.next(selectionInfo);\r\n  }\r\n\r\n  showWarningMessage(message: string) {\r\n    this._showWarningMessage.next(message);\r\n  }\r\n\r\n  showSpinner(show: boolean) {\r\n    this._showSpinner.next(show);\r\n  }\r\n\r\n  public getDocumentLibraryFields(\r\n    sharePoint365Step: DeliverToSharePoint365WorkflowStep,\r\n    documentLibraryId: string,\r\n    successCallBack: (result: SharePointFieldsResult) => void,\r\n    failureCallBack: (err: any) => void\r\n  ): void {\r\n    let params = this.createSharePointParms(sharePoint365Step);\r\n    this.http\r\n      .get(`api/sharepoint/documentlibraries/${documentLibraryId}/fields`, { params: params })\r\n      .subscribe((result: SharePointFieldsResult) => {\r\n        successCallBack(result);\r\n      }, failureCallBack);\r\n  }\r\n\r\n  public getSiteDocumentLibraries(\r\n    sharePoint365Step: DeliverToSharePoint365WorkflowStep,\r\n    successCallBack: (result: SharePointFolderResult) => void,\r\n    failureCallBack: (err: any) => void\r\n  ): void {\r\n    let params = this.createSharePointParms(sharePoint365Step);\r\n    this.http\r\n      .get('api/sharepoint/documentlibraries', { params: params })\r\n      .subscribe((result: SharePointFolderResult) => {\r\n        successCallBack(result);\r\n      }, failureCallBack);\r\n  }\r\n\r\n  public getFolderChildren(\r\n    sharePoint365Step: DeliverToSharePoint365WorkflowStep,\r\n    folderId: string,\r\n    successCallBack: (result: SharePointFolderResult) => void,\r\n    failureCallBack: (err: any) => void\r\n  ): void {\r\n    let params = this.createSharePointParms(sharePoint365Step);\r\n    this.http\r\n      .get(`api/sharepoint/folders/${folderId}/folders`, { params: params })\r\n      .subscribe((result: SharePointFolderResult) => {\r\n        successCallBack(result);\r\n      }, failureCallBack);\r\n  }\r\n\r\n  createSharePointParms(sharePoint365Step: DeliverToSharePoint365WorkflowStep): HttpParams {\r\n    let params = new HttpParams();\r\n    params = params.append('siteUrl', sharePoint365Step.siteUrl);\r\n    params = params.append('username', sharePoint365Step.sharePointUsername);\r\n    params = params.append('password', sharePoint365Step.sharePointPassword);\r\n\r\n    return params;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AdminWorkflowComponent } from './admin-workflow.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'duplicate/:workflowid',\r\n    component: AdminWorkflowComponent,\r\n    data: { type: 'duplicate' },\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: ':workflowid',\r\n    component: AdminWorkflowComponent,\r\n    data: { type: 'properties' },\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: 'create/:workflowtemplate',\r\n    component: AdminWorkflowComponent,\r\n    data: { type: 'create' },\r\n    pathMatch: 'full',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AdminWorkflowRoutingModule {}\r\n","import { AfterViewInit, Component, ElementRef, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { ActivatedRoute, Data, Params, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ApiResult, Control } from '../../blocks/services/models';\r\nimport { UserStateService } from '../../blocks/services/user-state.service';\r\n\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar-portable';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Subscription, combineLatest } from 'rxjs';\r\nimport { Feature, FieldDefinition, MetaDataType } from 'shared-code-lib';\r\nimport { WorfklowDesignerProperties, Workflow } from '../../blocks/models/workflow';\r\nimport { Deliver, IWorkflowStep } from '../../blocks/models/workflow-step';\r\nimport { ErrorsService } from '../../blocks/services/errors.service';\r\nimport { HydraApiService } from '../../blocks/services/hydra-api.service';\r\nimport { SpinnerStateService } from '../../blocks/services/spinner-state.service';\r\nimport { Step, StepCategory } from './step';\r\nimport { WorkflowEditorComponent } from './workflow-editor/workflow-editor.component';\r\n\r\n@Component({\r\n  selector: 'app-admin-workflow',\r\n  templateUrl: './admin-workflow.component.html',\r\n  styleUrls: ['./admin-workflow.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class AdminWorkflowComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  saveButton: Control;\r\n  cancelButton: Control;\r\n  formControls: Array<Control> = [];\r\n  fieldName: FieldDefinition;\r\n  fieldDescription: FieldDefinition;\r\n  workflow: Workflow;\r\n  workflowSteps: Array<IWorkflowStep> = [];\r\n  toolbars: { [key: number]: mxToolbar } = {};\r\n  graph: mxGraph;\r\n\r\n  workflowRoutingSheetsEnabled: boolean;\r\n\r\n  routeParams: Params;\r\n  routeData: Data;\r\n\r\n  @ViewChild(WorkflowEditorComponent, { static: true })\r\n  workflowEditor: WorkflowEditorComponent;\r\n  @ViewChild('processActionstoolbarContainer', { static: true })\r\n  processToolbarContainer: ElementRef;\r\n  @ViewChild('exportActionstoolbarContainer', { static: true })\r\n  exportToolbarContainer: ElementRef;\r\n  @ViewChild(PerfectScrollbarDirective, { static: true })\r\n  directiveRef?: PerfectScrollbarDirective;\r\n\r\n  subscriptions = new Subscription();\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private router: Router,\r\n    private hydraApi: HydraApiService,\r\n    private route: ActivatedRoute,\r\n    private toastr: ToastrService,\r\n    public errorsService: ErrorsService,\r\n    private spinner: SpinnerStateService,\r\n    private userState: UserStateService\r\n  ) {\r\n    mxToolbar.prototype.addMode = function (title: string, element: HTMLElement, selectFunc: (evt, cell) => {}) {\r\n      if (this.enabled) {\r\n        mxEvent.addListener(\r\n          element,\r\n          'click',\r\n          mxUtils.bind(this, function (evt) {\r\n            this.selectMode(element, selectFunc);\r\n            this.noReset = false;\r\n          })\r\n        );\r\n\r\n        mxEvent.addListener(\r\n          element,\r\n          'dblclick',\r\n          mxUtils.bind(this, function (evt) {\r\n            this.selectMode(element, selectFunc);\r\n            this.noReset = true;\r\n          })\r\n        );\r\n\r\n        if (this.defaultMode == null) {\r\n          this.defaultMode = element;\r\n          this.defaultFunction = selectFunc;\r\n          this.selectMode(element, selectFunc);\r\n        }\r\n      }\r\n\r\n      (this.container as HTMLElement).appendChild(element);\r\n      return element;\r\n    };\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.workflowRoutingSheetsEnabled = this.userState.hasFeature(Feature.WorkflowStepRoutingSheet);\r\n\r\n    this.workflow = new Workflow(\r\n      '',\r\n      '',\r\n      '',\r\n      [],\r\n      [],\r\n      '',\r\n      new Date(),\r\n      new Date(),\r\n      new WorfklowDesignerProperties({\r\n        translateX: 0,\r\n        translateY: 0,\r\n      }),\r\n      false,\r\n      [],\r\n      []\r\n    );\r\n\r\n    this.createButtons();\r\n    this.createFields();\r\n\r\n    this.subscriptions.add(\r\n      combineLatest([this.route.params, this.route.data]).subscribe(([params, data]) => {\r\n        this.routeParams = params;\r\n        this.routeData = data;\r\n        this.loadWorkflow();\r\n      })\r\n    );\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.toolbars[StepCategory.Process] = new mxToolbar(this.processToolbarContainer.nativeElement);\r\n    this.toolbars[StepCategory.Export] = new mxToolbar(this.exportToolbarContainer.nativeElement);\r\n    Object.values(this.toolbars).forEach((toolbar: mxToolbar) => (toolbar.enabled = false));\r\n    this.graph = this.workflowEditor.graph;\r\n    this.hydraApi.getWorkflowSteps(this.workflowStepsLoaded, this.workflowStepsLoadFailed);\r\n  }\r\n\r\n  private workflowStepsLoadFailed = () => {\r\n    //todo: toastr\r\n  };\r\n\r\n  private workflowStepsLoaded = (steps: Array<IWorkflowStep>) => {\r\n    this.workflowSteps = steps;\r\n    this.buildToolbar();\r\n  };\r\n\r\n  buildToolbar = (): void => {\r\n    for (let ws of this.workflowSteps) {\r\n      const step = Step.getStepFor(ws.stepType);\r\n      step.workflowStep = ws;\r\n\r\n      this.addToToolbar(step, `assets/img/workflow-editor/${step.stepType}.svg`);\r\n    }\r\n  };\r\n\r\n  addToToolbar = (step: Step, icon): void => {\r\n    let toolbar;\r\n    if (step.workflowStep instanceof Deliver) {\r\n      toolbar = this.toolbars[StepCategory.Export];\r\n    } else {\r\n      toolbar = this.toolbars[StepCategory.Process];\r\n    }\r\n    var img = this.addToolbarItem(step, this.graph, toolbar, icon);\r\n    img.enabled = true;\r\n  };\r\n\r\n  addToolbarItem = (step: Step, graph: mxGraph, toolbar: mxToolbar, image) => {\r\n    // Function that is executed when the image is dropped on\r\n    // the graph. The cell argument points to the cell under\r\n    // the mousepointer if there is one.\r\n\r\n    var that = this;\r\n    var onItemDrop = function (graph: mxGraph, evt, cell: mxCell, x, y) {\r\n      graph.stopEditing(false);\r\n\r\n      if (!(step instanceof Step)) return;\r\n\r\n      const ws = step.workflowStep.clone();\r\n      ws.generateId();\r\n\r\n      const vertex = that.workflowEditor.createVertexForStep(ws);\r\n      vertex.geometry.x = x;\r\n      vertex.geometry.y = y;\r\n      that.workflowEditor.addWorkflowStepVertex(vertex, ws);\r\n      that.workflowEditor.connectVertexStep(ws);\r\n\r\n      graph.setSelectionCell(vertex);\r\n\r\n      that.workflow.workflowSteps.push(ws);\r\n    };\r\n\r\n    // Creates the image which is used as the drag icon (preview)\r\n    const iconContainer = document.createElement('div');\r\n    iconContainer.className = 'mxToolbarMode';\r\n    iconContainer.title = this.translate\r\n      .instant('admin-workflow.toolbar-step-tooltip')\r\n      .replace('$step$', step.getCellName(this.translate));\r\n    (iconContainer as any).initialClassName = iconContainer.className;\r\n\r\n    const iconImage = document.createElement('img');\r\n    iconImage.className = 'mx-icon-image';\r\n    iconImage.src = image;\r\n    iconImage.width = 30;\r\n    iconImage.height = 30;\r\n    iconContainer.appendChild(iconImage);\r\n\r\n    const iconTitle = document.createElement('div');\r\n    iconTitle.className = 'mx-icon-title';\r\n    iconTitle.innerText = step.getCellName(this.translate);\r\n    iconContainer.appendChild(iconTitle);\r\n\r\n    var img = toolbar.addMode(step.getCellName(this.translate), iconContainer, function (evt, cell) {\r\n      var pt = this.graph.getPointForEvent(evt);\r\n      onItemDrop(graph, evt, cell, pt.x, pt.y);\r\n    });\r\n\r\n    // Disables dragging if element is disabled. This is a workaround\r\n    // for wrong event order in IE. Following is a dummy listener that\r\n    // is invoked as the last listener in IE.\r\n    mxEvent.addListener(img, 'mousedown', function (evt) {\r\n      // do nothing\r\n    });\r\n\r\n    // This listener is always called first before any other listener\r\n    // in all browsers.\r\n    mxEvent.addListener(img, 'mousedown', function (evt) {\r\n      if (img.enabled == false) {\r\n        mxEvent.consume(evt);\r\n      }\r\n    });\r\n\r\n    mxUtils.makeDraggable(img, graph, onItemDrop);\r\n\r\n    return img;\r\n  };\r\n\r\n  onSave = () => {\r\n    if (this.workflow.id) {\r\n      this.hydraApi.updateWorkflow(this.workflow, this.workflowSaved, this.workflowSaveFailed);\r\n    } else {\r\n      this.hydraApi.createWorkflow(this.workflow, this.workflowSaved, this.workflowSaveFailed);\r\n    }\r\n\r\n    this.spinner.showSavingSpinner();\r\n  };\r\n\r\n  normalizeGraphY = () => {\r\n    const minY = this.workflow.workflowSteps\r\n      .map((step) => step.designerProperties.y)\r\n      .reduce((min, y) => (y < min ? y : min), Number.POSITIVE_INFINITY);\r\n    this.workflow.workflowSteps.forEach((step) => {\r\n      if (minY < 0) {\r\n        step.designerProperties.y += minY * -1;\r\n      }\r\n    });\r\n  };\r\n\r\n  workflowSaved = (result: ApiResult) => {\r\n    if (result.success) {\r\n      const workflow = new Workflow(\r\n        result.object.id,\r\n        result.object.tenantId,\r\n        result.object.name,\r\n        result.object.workflowSteps,\r\n        result.object.scanSettings,\r\n        result.object.description,\r\n        result.object.dateCreatedUTC,\r\n        result.object.dateModifiedUTC,\r\n        result.object.designerProperties,\r\n        result.object.allowRoutingSheetGeneration,\r\n        result.object.rolesAllowedToSubmitFrom,\r\n        result.object.prompts\r\n      );\r\n\r\n      this.workflowFullySaved(workflow);\r\n    } else {\r\n      this.errorsService.showErrorsModal(result.errors, 'admin-workflow.validation-errors');\r\n    }\r\n\r\n    this.spinner.hide();\r\n  };\r\n\r\n  workflowFullySaved = (workflow: Workflow): void => {\r\n    this.toastr.success(this.translate.instant('admin-workflow.workflow-saved'));\r\n    this.returnToGrid();\r\n  };\r\n\r\n  workflowSaveFailed = (err: any) => {\r\n    this.toastr.error(this.translate.instant('admin-workflow.workflow-save-failed'));\r\n    this.spinner.hide();\r\n  };\r\n\r\n  onCancel = () => {\r\n    this.returnToGrid();\r\n  };\r\n\r\n  returnToGrid = () => {\r\n    this.router.navigateByUrl(\r\n      'settings/BambaSettingsApplication/BambaSettingsApplication-Upland.Bamba.Application.Settings.Workflows'\r\n    ); // todo - handle this \"better\"\r\n  };\r\n\r\n  private workflowLoaded = (w: Workflow) => {\r\n    if (this.isDuplicate()) {\r\n      w.name = `${this.translate.instant('Admin.CopyOf')} ${w.name}`;\r\n      w.id = '';\r\n    } else if (this.routeData.type == 'create') {\r\n      w.id = '';\r\n    }\r\n\r\n    this.workflow = w;\r\n  };\r\n\r\n  private workflowLoadFailed = () => {\r\n    //todo: toastr\r\n  };\r\n\r\n  private loadWorkflow = () => {\r\n    if (this.routeData.type == 'properties' || this.isDuplicate()) {\r\n      this.hydraApi.getWorkflow(this.routeParams.workflowid, this.workflowLoaded, this.workflowLoadFailed);\r\n    } else if (this.routeData.type == 'create') {\r\n      this.hydraApi.getWorkflowTemplate(\r\n        this.routeParams.workflowtemplate,\r\n        this.workflowLoaded,\r\n        this.workflowLoadFailed\r\n      );\r\n    }\r\n  };\r\n\r\n  private createFields = () => {\r\n    this.fieldName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('admin-workflow.name'),\r\n      placeholder: this.translate.instant('admin-workflow.name-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldDescription = new FieldDefinition({\r\n      type: MetaDataType.LargeText,\r\n      label: this.translate.instant('admin-workflow.description'),\r\n      placeholder: this.translate.instant('admin-workflow.description-placeholder'),\r\n    });\r\n  };\r\n\r\n  private createButtons() {\r\n    this.saveButton = new Control(\r\n      this.onSave,\r\n      this.translate.instant('admin-workflow.save'),\r\n      'btn btn-primary btn-minwidth',\r\n      '',\r\n      '',\r\n      'btn',\r\n      false\r\n    );\r\n    this.cancelButton = new Control(\r\n      this.onCancel,\r\n      this.translate.instant('admin-workflow.cancel'),\r\n      'btn btn-light btn-minwidth',\r\n      '',\r\n      '',\r\n      'btn',\r\n      false\r\n    );\r\n    this.formControls.push(this.saveButton);\r\n    this.formControls.push(this.cancelButton);\r\n  }\r\n\r\n  private isDuplicate(): boolean {\r\n    return this.routeData.type == 'duplicate';\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"content-wrapper d-flex flex-column\">\r\n  <app-secondary-header [headerText]=\"'admin-workflow.HeadText' | translate\" [rightControls]=\"formControls\">\r\n  </app-secondary-header>\r\n\r\n  <div class=\"admin-workflow col\">\r\n    <div class=\"container-fluid overflow-visible h-100\">\r\n      <div id=\"spinnerPanel\" class=\"h-100\">\r\n        <div class=\"row panel h-100 d-flex\">\r\n          <div class=\"column-1 properties-panel form-group h-100\" [perfectScrollbar]=\"{}\">\r\n            <app-created-modified\r\n              [id]=\"workflow.id\"\r\n              [createdDate]=\"workflow.dateCreatedUTC\"\r\n              [modifiedDate]=\"workflow.dateModifiedUTC\"\r\n            ></app-created-modified>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <app-field [field]=\"fieldName\" [(value)]=\"workflow.name\" [focused]=\"true\"></app-field>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <app-field [field]=\"fieldDescription\" [(value)]=\"workflow.description\"></app-field>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\" *ngIf=\"workflowRoutingSheetsEnabled\">\r\n              <div class=\"col\">\r\n                <app-checkbox\r\n                  [(value)]=\"workflow.allowRoutingSheetGeneration\"\r\n                  label=\"admin-workflow.allowRoutingSheetGeneration\"\r\n                ></app-checkbox>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <app-role-selector [(roles)]=\"workflow.rolesAllowedToSubmitFrom\"></app-role-selector>\r\n              </div>\r\n            </div>\r\n\r\n            <hr class=\"properties-panel-separator\" />\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <app-label [localize]=\"true\" [text]=\"'admin-workflow.actions'\"></app-label>\r\n              </div>\r\n            </div>\r\n            <div class=\"toolbar-container\">\r\n              <div class=\"base mx-toolbar\" #processActionstoolbarContainer></div>\r\n            </div>\r\n\r\n            <hr class=\"properties-panel-separator\" />\r\n\r\n            <div class=\"row\">\r\n              <div class=\"col\">\r\n                <app-label [localize]=\"true\" [text]=\"'admin-workflow.exports'\"></app-label>\r\n              </div>\r\n            </div>\r\n            <div class=\"toolbar-container\">\r\n              <div class=\"base mx-toolbar\" #exportActionstoolbarContainer></div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"column-2 step-panel h-100\">\r\n            <app-workflow-editor [workflow]=\"workflow\"></app-workflow-editor>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgxFileDropModule } from 'ngx-file-drop';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar-portable';\r\nimport { NgxSmartModalModule } from 'ngx-smart-modal';\r\n\r\nimport {\r\n  AutoFocusFirstInputModule,\r\n  CheckboxModule,\r\n  FieldsModule,\r\n  IconsModule,\r\n  LabelModule,\r\n  ModalHeaderModule,\r\n  RadioButtonsGroupModule,\r\n  TabBarModule,\r\n} from 'shared-code-lib';\r\nimport { ComponentsModule } from '../../blocks/components/components.module';\r\nimport { DirectivesModule } from '../../blocks/directives/directives.module';\r\nimport { FormattersModule } from '../../blocks/formatters/formatters.module';\r\nimport { PageModule } from '../../blocks/page/page.module';\r\nimport { AdminWorkflowRoutingModule } from './admin-workflow-routing.module';\r\nimport { AdminWorkflowComponent } from './admin-workflow.component';\r\nimport { ExportMetaDataCsvComponent } from './components/export-metadata-csv/export-metadata-csv.component';\r\nimport { ExportMetaDataXmlComponent } from './components/export-metadata-xml/export-metadata-xml.component';\r\nimport { ExportMetaDataComponent } from './components/export-metadata/export-metadata.component';\r\nimport { StepMetaDataMappingComponent } from './components/step-metadata-mapping/step-metadata-mapping.component';\r\nimport { PromptsComponent } from './prompts/prompts.component';\r\nimport { RoleSelectorComponent } from './role-selector/role-selector.component';\r\nimport { ScanSettingsComponent } from './scan-settings/scan-settings.component';\r\nimport { StepAddTemplateComponent } from './step-add-template/step-add-template.component';\r\nimport { StepBarcodeCoverPageComponent } from './step-barcode-cover-page/step-barcode-cover-page.component';\r\nimport { BarcodeMappingsComponent } from './step-barcode-data-mapping/barcode-mappings/barcode-mappings.component';\r\nimport { StepBarcodeDataMappingComponent } from './step-barcode-data-mapping/step-barcode-data-mapping.component';\r\nimport { StepBurstingComponent } from './step-bursting/step-bursting.component';\r\nimport { StepClassifierComponent } from './step-classifier/step-classifier.component';\r\nimport { StepDecisionPointComponent } from './step-decision-point/step-decision-point.component';\r\nimport { StepDeliverToEmailGeneralComponent } from './step-deliver-to-email/step-deliver-to-email-general/step-deliver-to-email-general.component';\r\nimport { StepDeliverToEmailComponent } from './step-deliver-to-email/step-deliver-to-email.component';\r\nimport { StepDeliverToFtpGeneralComponent } from './step-deliver-to-ftp/step-deliver-to-ftp-general/step-deliver-to-ftp-general.component';\r\nimport { StepDeliverToFtpComponent } from './step-deliver-to-ftp/step-deliver-to-ftp.component';\r\nimport { StepDeliverToInterFAXComponent } from './step-deliver-to-interfax/step-deliver-to-interfax.component';\r\nimport { StepDeliverToNetDocsCodeComponent } from './step-deliver-to-net-docs-code/step-deliver-to-net-docs-code.component';\r\nimport { StepDeliverToS3GeneralComponent } from './step-deliver-to-s3/step-deliver-to-s3-general/step-deliver-to-s3-general.component';\r\nimport { StepDeliverToS3Component } from './step-deliver-to-s3/step-deliver-to-s3.component';\r\nimport { SharePointFolderComponent } from './step-deliver-to-sharepoint365/sharepoint-folder/sharepoint-folder.component';\r\nimport { StepDeliverToSharepoint365GeneralComponent } from './step-deliver-to-sharepoint365/step-deliver-to-sharepoint365-general/step-deliver-to-sharepoint365-general.component';\r\nimport { StepDeliverToSharepoint365Component } from './step-deliver-to-sharepoint365/step-deliver-to-sharepoint365.component';\r\nimport { StepDeliveryFileboundGeneralComponent } from './step-delivery-filebound/step-delivery-filebound-general/step-delivery-filebound-general.component';\r\nimport { StepDeliveryFileboundComponent } from './step-delivery-filebound/step-delivery-filebound.component';\r\nimport { StepDeliveryToNetdocsGeneralComponent } from './step-delivery-to-netdocs/step-delivery-to-netdocs-general/step-delivery-to-netdocs-general.component';\r\nimport { StepDeliveryToNetdocsComponent } from './step-delivery-to-netdocs/step-delivery-to-netdocs.component';\r\nimport { StepDetectPiiComponent } from './step-detect-pii/step-detect-pii.component';\r\nimport { StepDetectSignatureComponent } from './step-detect-signature/step-detect-signature.component';\r\nimport { StepDocumentStampComponent } from './step-document-stamp/step-document-stamp.component';\r\nimport { StepExportToAPIComponent } from './step-export-to-api/step-export-to-api.component';\r\nimport { StepExportToWebServiceComponent } from './step-export-to-webservice/step-export-to-webservice.component';\r\nimport { StepFormsAiComponent } from './step-forms-ai/step-forms-ai.component';\r\nimport { StepFormsComponent } from './step-forms/step-forms.component';\r\nimport { StepImageprocessingComponent } from './step-imageprocessing/step-imageprocessing.component';\r\nimport { StepInteractiveAdvancedComponent } from './step-interactive/step-interactive-advanced/step-interactive-advanced.component';\r\nimport { StepInteractiveCapabilitiesComponent } from './step-interactive/step-interactive-capabilities/step-interactive-capabilities.component';\r\nimport { StepInteractiveGroupingsComponent } from './step-interactive/step-interactive-groupings/step-interactive-groupings.component';\r\nimport { StepInteractiveIndexingComponent } from './step-interactive/step-interactive-indexing/step-interactive-indexing.component';\r\nimport { StepInteractiveOutcomesComponent } from './step-interactive/step-interactive-outcomes/step-interactive-outcomes.component';\r\nimport { StepInteractiveRolesComponent } from './step-interactive/step-interactive-roles/step-interactive-roles.component';\r\nimport { StepInteractiveThresholdsComponent } from './step-interactive/step-interactive-thresholds/step-interactive-thresholds.component';\r\nimport { StepInteractiveTrainingComponent } from './step-interactive/step-interactive-training/step-interactive-training.component';\r\nimport { StepInteractiveComponent } from './step-interactive/step-interactive.component';\r\nimport { StepInvoiceExtractionComponent } from './step-invoice-extraction/step-invoice-extraction.component';\r\nimport { StepKeywordExtractionComponent } from './step-keyword-extraction/step-keyword-extraction.component';\r\nimport { StepMoveToWorkflowComponent } from './step-move-to-workflow/step-move-to-workflow.component';\r\nimport { StepOcrComponent } from './step-ocr/step-ocr.component';\r\nimport { StepOcrPlusComponent } from './step-ocrplus/step-ocrplus.component';\r\nimport { StepRenameDocumentComponent } from './step-rename-document/step-rename-document.component';\r\nimport { StepSetDataFieldsComponent } from './step-set-data-fields/step-set-data-fields.component';\r\nimport { ClassificationComponent } from './step-simple-classifier/classification/classification.component';\r\nimport { ContentCriteriaComponent } from './step-simple-classifier/classification/content-criteria/content-criteria.component';\r\nimport { TextContentCriteriaOptionsComponent } from './step-simple-classifier/classification/content-criteria/text-content-criteria-options/text-content-criteria-options.component';\r\nimport { StepSimpleClassifierComponent } from './step-simple-classifier/step-simple-classifier.component';\r\nimport { StepStartComponent } from './step-start/step-start.component';\r\nimport { StepSummarizationComponent } from './step-summarization/step-summarization.component';\r\nimport { StepTranslateDocumentComponent } from './step-translate-document/step-translate-document.component';\r\nimport { WorkflowEditorComponent } from './workflow-editor/workflow-editor.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule,\r\n    PageModule,\r\n    FormsModule,\r\n    NgxFileDropModule,\r\n    DragDropModule,\r\n    IconsModule,\r\n    NgxSmartModalModule,\r\n    PerfectScrollbarModule,\r\n    AdminWorkflowRoutingModule,\r\n    FieldsModule,\r\n    AutoFocusFirstInputModule,\r\n    LabelModule,\r\n    CheckboxModule,\r\n    RadioButtonsGroupModule,\r\n    ModalHeaderModule,\r\n    ComponentsModule,\r\n    TabBarModule,\r\n    DirectivesModule,\r\n    FormattersModule,\r\n  ],\r\n  declarations: [\r\n    AdminWorkflowComponent,\r\n    StepOcrComponent,\r\n    StepFormsComponent,\r\n    StepDeliveryFileboundComponent,\r\n    StepInteractiveComponent,\r\n    StepInteractiveRolesComponent,\r\n    StepInteractiveIndexingComponent,\r\n    StepInteractiveGroupingsComponent,\r\n    StepInteractiveOutcomesComponent,\r\n    ScanSettingsComponent,\r\n    StepBurstingComponent,\r\n    WorkflowEditorComponent,\r\n    StepInteractiveCapabilitiesComponent,\r\n    StepStartComponent,\r\n    StepImageprocessingComponent,\r\n    StepDecisionPointComponent,\r\n    StepMoveToWorkflowComponent,\r\n    StepDeliverToEmailComponent,\r\n    StepDeliverToInterFAXComponent,\r\n    StepDeliverToSharepoint365Component,\r\n    SharePointFolderComponent,\r\n    StepMetaDataMappingComponent,\r\n    StepInteractiveThresholdsComponent,\r\n    StepExportToAPIComponent,\r\n    StepBarcodeDataMappingComponent,\r\n    BarcodeMappingsComponent,\r\n    RoleSelectorComponent,\r\n    PromptsComponent,\r\n    StepDeliveryToNetdocsComponent,\r\n    StepDeliverToNetDocsCodeComponent,\r\n    StepDeliverToS3Component,\r\n    StepDeliverToFtpComponent,\r\n    StepInteractiveTrainingComponent,\r\n    StepFormsAiComponent,\r\n    StepSetDataFieldsComponent,\r\n    StepExportToWebServiceComponent,\r\n    StepInteractiveAdvancedComponent,\r\n    StepBarcodeCoverPageComponent,\r\n    StepInvoiceExtractionComponent,\r\n    StepDetectSignatureComponent,\r\n    StepDetectPiiComponent,\r\n    StepTranslateDocumentComponent,\r\n    StepSummarizationComponent,\r\n    StepSimpleClassifierComponent,\r\n    ClassificationComponent,\r\n    ContentCriteriaComponent,\r\n    TextContentCriteriaOptionsComponent,\r\n    StepAddTemplateComponent,\r\n    StepKeywordExtractionComponent,\r\n    StepDeliveryFileboundGeneralComponent,\r\n    StepDeliverToFtpGeneralComponent,\r\n    StepDeliverToEmailGeneralComponent,\r\n    StepDeliveryToNetdocsGeneralComponent,\r\n    StepDeliverToS3GeneralComponent,\r\n    StepDeliverToSharepoint365GeneralComponent,\r\n    ExportMetaDataComponent,\r\n    ExportMetaDataCsvComponent,\r\n    ExportMetaDataXmlComponent,\r\n    StepClassifierComponent,\r\n    StepRenameDocumentComponent,\r\n    StepOcrPlusComponent,\r\n    StepDocumentStampComponent,\r\n  ],\r\n})\r\nexport class AdminWorkflowModule {}\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { ExportMetaDataCSV } from '../../models/export-metadata';\r\nimport { FieldDefinition } from '../../../../../../../../Bamba.Shared/src/models/field-definition';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { MetaDataType } from 'shared-code-lib';\r\n\r\n@Component({\r\n  selector: 'app-export-metadata-csv',\r\n  templateUrl: './export-metadata-csv.component.html',\r\n  styleUrls: ['./export-metadata-csv.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class ExportMetaDataCsvComponent implements OnInit {\r\n  @Input() exportMetaDataCSV: ExportMetaDataCSV;\r\n\r\n  fieldDelimiter: FieldDefinition;\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.createFields();\r\n  }\r\n\r\n  createFields(): void {\r\n    this.fieldDelimiter = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('export-metadata.delimiter'),\r\n      placeholder: this.translate.instant('export-metadata.delimiter-placeholder'),\r\n    });\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-6\">\r\n    <app-field [field]=\"fieldDelimiter\" [(value)]=\"exportMetaDataCSV.delimiter\"></app-field>\r\n  </div>\r\n\r\n  <div class=\"col-6 mt-3\">\r\n    <app-checkbox\r\n      [(value)]=\"exportMetaDataCSV.includeHeaderRow\"\r\n      label=\"export-metadata.includeHeaderRow\"\r\n      class=\"ml-1\"\r\n    ></app-checkbox>\r\n  </div>\r\n</div>\r\n","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nimport { ExportMetaDataXML } from '../../models/export-metadata';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Filename } from '../../../../blocks/core/fileName';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n  selector: 'app-export-metadata-xml',\r\n  templateUrl: './export-metadata-xml.component.html',\r\n  styleUrls: ['./export-metadata-xml.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class ExportMetaDataXmlComponent {\r\n  @Input() exportMetaDataXML: ExportMetaDataXML;\r\n\r\n  constructor(private translate: TranslateService, private toastr: ToastrService) {}\r\n\r\n  get xltFilename(): string {\r\n    return !!this.exportMetaDataXML.xltFilename\r\n      ? this.exportMetaDataXML.xltFilename\r\n      : this.translate.instant('export-metadata.no-file-selected');\r\n  }\r\n\r\n  onXltFileSelected(event: any): void {\r\n    if (!event.target.files?.length) return;\r\n\r\n    const file = event.target.files[0];\r\n\r\n    if (!Filename.extensionIsOneOf(file.name, ['xslt'])) {\r\n      this.toastr.error(this.translate.instant('export-metadata.only-xslt-supported'));\r\n      return;\r\n    }\r\n\r\n    this.exportMetaDataXML.xltFilename = file.name;\r\n\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = (e: ProgressEvent<FileReader>) => {\r\n      this.exportMetaDataXML.xltContent = e.target?.result?.toString() || '';\r\n    };\r\n\r\n    reader.readAsText(file);\r\n  }\r\n}\r\n","<div class=\"export-metadata-xml\">\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-checkbox [(value)]=\"exportMetaDataXML.applyXLT\" label=\"export-metadata.applyXLT\"></app-checkbox>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"d-flex import-file w-100\" *ngIf=\"exportMetaDataXML.applyXLT\">\r\n      <div class=\"col-6\">\r\n        <div class=\"filename\">\r\n          <app-label [text]=\"xltFilename\"></app-label>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <button class=\"btn btn-minwidth btn-primary\" (click)=\"xltImportInput.click()\">\r\n          {{ 'FileUpload.ChooseFile' | translate }}\r\n        </button>\r\n        <input\r\n          type=\"file\"\r\n          #xltImportInput\r\n          name=\"xltFile\"\r\n          accept=\".xslt, text/plain\"\r\n          (change)=\"onXltFileSelected($event)\"\r\n          style=\"display: none\"\r\n          id=\"xlt-select-file\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { EnumDataSource, MetaDataDefinition, MetaDataType, MetadataWithDocumentNameDatasource } from 'shared-code-lib';\r\nimport { FieldDefinition } from '../../../../../../../../Bamba.Shared/src/models/field-definition';\r\nimport { UserStateService } from '../../../../../app/blocks/services/user-state.service';\r\nimport {\r\n  ExportMetaData,\r\n  ExportMetaDataCSV,\r\n  ExportMetaDataEncoding,\r\n  ExportMetaDataType,\r\n  ExportMetaDataXML,\r\n} from '../../models/export-metadata';\r\n\r\n@Component({\r\n  selector: 'app-export-metadata',\r\n  templateUrl: './export-metadata.component.html',\r\n  styleUrls: ['./export-metadata.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class ExportMetaDataComponent implements OnInit {\r\n  @Input() exportMetaData: ExportMetaData;\r\n  @Input() workflowId: string;\r\n  @Output() metaDataTypeChanged = new EventEmitter<any>();\r\n\r\n  ExportType = ExportMetaDataType;\r\n  EncodingType = ExportMetaDataEncoding;\r\n\r\n  dataFields: Array<MetaDataDefinition> = [];\r\n  availableDataFields: Array<MetaDataDefinition> = [];\r\n  currentDataFields: Array<MetaDataDefinition> = [];\r\n\r\n  fieldFilename: FieldDefinition;\r\n  fieldEncoding: FieldDefinition;\r\n  fieldType: FieldDefinition;\r\n\r\n  get exportType(): string {\r\n    return `${this.exportMetaData.type}`;\r\n  }\r\n  set exportType(val: string) {\r\n    this.exportMetaData.type = Number(val);\r\n  }\r\n\r\n  get encodingType(): string {\r\n    return `${this.exportMetaData.encodingType}`;\r\n  }\r\n  set encodingType(val: string) {\r\n    this.exportMetaData.encodingType = Number(val);\r\n  }\r\n\r\n  get exportMetaDataCSV(): ExportMetaDataCSV {\r\n    return this.exportMetaData as ExportMetaDataCSV;\r\n  }\r\n\r\n  get exportMetaDataXML(): ExportMetaDataXML {\r\n    return this.exportMetaData as ExportMetaDataXML;\r\n  }\r\n\r\n  constructor(private translate: TranslateService, private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.createFields();\r\n    this.setupMetaData();\r\n  }\r\n\r\n  createFields(): void {\r\n    this.fieldFilename = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('export-metadata.filename'),\r\n      placeholder: this.translate.instant('export-metadata.filename-placeholder'),\r\n      substitutable: true,\r\n      datasource: new MetadataWithDocumentNameDatasource(this.userState, this.translate),\r\n    });\r\n\r\n    this.fieldEncoding = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('export-metadata.encoding'),\r\n      datasource: new EnumDataSource(ExportMetaDataEncoding, 'exportMetadataEncoding', this.translate),\r\n    });\r\n\r\n    this.fieldType = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('export-metadata.type'),\r\n      datasource: new EnumDataSource(ExportMetaDataType, 'exportMetadataType', this.translate),\r\n    });\r\n  }\r\n\r\n  onExportTypeChanged(event: any): void {\r\n    this.exportMetaData = ExportMetaData.create({ ...this.exportMetaData });\r\n    this.metaDataTypeChanged.emit(this.exportMetaData);\r\n    this.dataFieldsChanged();\r\n  }\r\n\r\n  onEncodingTypeChanged(event: any): void {\r\n    if (this.exportMetaData.encodingType !== ExportMetaDataEncoding.ASCII) return;\r\n\r\n    this.exportMetaData.includeBOM = false;\r\n  }\r\n\r\n  setupMetaData(): void {\r\n    this.dataFields = this.userState.user.metaData;\r\n    this.dataFieldsChanged();\r\n  }\r\n\r\n  dataFieldsChanged(): void {\r\n    if (!this.dataFields || !this.exportMetaData) return;\r\n\r\n    this.availableDataFields = this.dataFields.filter(this.filterAllowedMetaData);\r\n\r\n    this.exportMetaData.metaDataFields = this.exportMetaData.metaDataFields.filter((id) =>\r\n      this.availableDataFields.some((mdd) => mdd.id === id)\r\n    );\r\n\r\n    this.currentDataFields = this.availableDataFields.filter((mdd) =>\r\n      this.exportMetaData.metaDataFields.some((id) => mdd.id === id)\r\n    );\r\n  }\r\n\r\n  filterAllowedMetaData = (mdd: MetaDataDefinition): boolean => {\r\n    if (mdd == null || !mdd.allowedForWorkflow(this.workflowId)) return false;\r\n\r\n    if (mdd.type === MetaDataType.CascadingOptions) return false;\r\n\r\n    if (\r\n      this.exportMetaData.type === ExportMetaDataType.CSV &&\r\n      [MetaDataType.LineItems, MetaDataType.LargeText].includes(mdd.type)\r\n    ) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  currentDataFieldsChanged = (items: Array<MetaDataDefinition>): void => {\r\n    this.exportMetaData.metaDataFields = items.map((item) => item.id);\r\n  };\r\n}\r\n","<div class=\"export-metadata container-fluid\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <app-checkbox [(value)]=\"exportMetaData.enabled\" label=\"export-metadata.enabled\"></app-checkbox>\r\n  </div>\r\n\r\n  <div *ngIf=\"exportMetaData.enabled\">\r\n    <div class=\"ml-1\">\r\n      <app-label [localize]=\"true\" [text]=\"'export-metadata.data-fields'\"></app-label>\r\n\r\n      <app-dual-picklist\r\n        [available]=\"availableDataFields\"\r\n        [current]=\"currentDataFields\"\r\n        (currentChange)=\"currentDataFieldsChanged($event)\"\r\n        [displayField]=\"'name'\"\r\n        [keyField]=\"'id'\"\r\n      ></app-dual-picklist>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-6\"><app-field [field]=\"fieldFilename\" [(value)]=\"exportMetaData.filename\"></app-field></div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field\r\n          [field]=\"fieldEncoding\"\r\n          [(value)]=\"encodingType\"\r\n          (fieldChanged)=\"onEncodingTypeChanged($event)\"\r\n        ></app-field>\r\n      </div>\r\n\r\n      <div class=\"col-6 mt-3\">\r\n        <app-checkbox\r\n          [(value)]=\"exportMetaData.includeBOM\"\r\n          label=\"export-metadata.includeBom\"\r\n          class=\"ml-1\"\r\n          [disabled]=\"exportMetaData.encodingType === EncodingType.ASCII\"\r\n        ></app-checkbox>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field [field]=\"fieldType\" [(value)]=\"exportType\" (fieldChanged)=\"onExportTypeChanged($event)\"></app-field>\r\n      </div>\r\n    </div>\r\n\r\n    <app-export-metadata-csv\r\n      *ngIf=\"exportMetaData.type === ExportType.CSV\"\r\n      [exportMetaDataCSV]=\"exportMetaDataCSV\"\r\n    ></app-export-metadata-csv>\r\n    <app-export-metadata-xml\r\n      *ngIf=\"exportMetaData.type === ExportType.XML\"\r\n      [exportMetaDataXML]=\"exportMetaDataXML\"\r\n    ></app-export-metadata-xml>\r\n  </div>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FileBoundFields, FileBoundProjectField } from '../../../../blocks/models/filebound';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\nimport { DocumentFieldMapping } from '../../models/document-field-mapping';\r\n\r\nimport {\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  IFieldOptions,\r\n  IMetaData,\r\n  MetaDataCollection,\r\n  MetadataIntellisenseDatasource,\r\n  MetaDataType,\r\n  MetaDataValidity,\r\n  MetaDataValueType,\r\n  Tab,\r\n} from 'shared-code-lib';\r\n\r\n@Component({\r\n  selector: 'app-step-metadata-mapping',\r\n  templateUrl: './step-metadata-mapping.component.html',\r\n  styleUrls: ['./step-metadata-mapping.component.scss'],\r\n})\r\nexport class StepMetaDataMappingComponent implements OnInit, OnChanges {\r\n  @Input() documentFields: Array<DocumentFieldMapping> = [];\r\n  @Input() metaDataFields: Array<FileBoundProjectField> = [];\r\n  @Input() lineitemFields: Array<FileBoundProjectField> = [];\r\n  @Input() lineItemMappings: MetaDataCollection;\r\n  @Input() lineItemMetaDataId: string;\r\n  @Output() lineItemMetaDataIdChange = new EventEmitter<string>();\r\n  @Input() mappings: MetaDataCollection;\r\n  @Input() metaDataHeaderText: string;\r\n\r\n  fieldLineItems: FieldDefinition;\r\n  documentFieldDefinitions = new Array<FieldDefinition>();\r\n\r\n  activeTab = 'metadata';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private userService: UserStateService, private translateService: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.createFields();\r\n    this.createTabs();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes.lineitemFields) {\r\n      this.createTabs();\r\n    }\r\n  }\r\n\r\n  createTabs = (): void => {\r\n    this.tabs = [];\r\n    this.tabs.push(new Tab('metadata', this.translateService.instant('step-delivery-filebound.metadata-mappings')));\r\n\r\n    if (this.lineitemFields && this.lineitemFields.length > 0) {\r\n      this.tabs.push(new Tab('lineitems', this.translateService.instant('step-delivery-filebound.lineitem-mappings')));\r\n    }\r\n  };\r\n\r\n  createFields() {\r\n    for (const field of this.documentFields) {\r\n      const fieldDefinition = new FieldDefinition({\r\n        type: MetaDataType.Text,\r\n        label: '',\r\n        placeholder: '',\r\n        required: false,\r\n        substitutable: true,\r\n        datasource: new MetadataIntellisenseDatasource(this.userService),\r\n      });\r\n\r\n      this.documentFieldDefinitions.push(fieldDefinition);\r\n    }\r\n\r\n    if (this.lineitemFields) {\r\n      const lineItemMetaData = new Array<IFieldOptions>();\r\n      lineItemMetaData.push({ name: this.translateService.instant('admin-workflow.not-mapped'), value: '' });\r\n\r\n      for (const mdd of this.userService.user.metaData) {\r\n        if (mdd.type != MetaDataType.LineItems) continue;\r\n\r\n        lineItemMetaData.push({ name: mdd.name, value: mdd.id });\r\n      }\r\n\r\n      this.fieldLineItems = new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        label: '',\r\n        placeholder: '',\r\n        required: false,\r\n        datasource: new FixedDataSource(lineItemMetaData),\r\n      });\r\n    }\r\n  }\r\n\r\n  getDocumentFieldValue = (field: DocumentFieldMapping): string => {\r\n    return this.getMetaData(field.fieldName);\r\n  };\r\n\r\n  onDocumentFieldChanged = (field: DocumentFieldMapping, value: string): void => {\r\n    this.mappings.set(field.fieldName, value, MetaDataValidity.valid);\r\n  };\r\n\r\n  getMetaData = (name: string, mappings: MetaDataCollection = null): string => {\r\n    if (!mappings) mappings = this.mappings;\r\n\r\n    const md: IMetaData = mappings.get(name);\r\n    if (!md) return '';\r\n\r\n    if (md.valueType == MetaDataValueType.String) return <string>md.value;\r\n\r\n    return '';\r\n  };\r\n\r\n  autoMapFields = (): void => {\r\n    if (this.metaDataFields) {\r\n      for (const field of this.metaDataFields) {\r\n        if (this.getMetaData(field.name)) continue;\r\n\r\n        const mapping = this.autoMapField(field.name);\r\n        if (mapping) this.mappings.set(field.name, mapping, MetaDataValidity.valid);\r\n      }\r\n    }\r\n\r\n    if (this.lineitemFields) {\r\n      for (const field of this.lineitemFields) {\r\n        if (this.getMetaData(field.name, this.lineItemMappings)) continue;\r\n\r\n        const mapping = this.autoMapField(field.name);\r\n        if (mapping) this.lineItemMappings.set(field.name, mapping, MetaDataValidity.valid);\r\n      }\r\n    }\r\n  };\r\n\r\n  autoMapField = (name: string): string => {\r\n    if (this.userService.findMetaDataByName(name)) return `%${name}%`;\r\n\r\n    const nameNoSpaces = name.replace(' ', '');\r\n    if (this.userService.findMetaDataByName(nameNoSpaces)) return `%${nameNoSpaces}%`;\r\n\r\n    if (name == FileBoundFields.FileBoundDivider && this.userService.findMetaDataByName('divider')) return '%divider%';\r\n    if (name == FileBoundFields.FileBoundSeparator && this.userService.findMetaDataByName('separator'))\r\n      return '%separator%';\r\n\r\n    return '';\r\n  };\r\n\r\n  getLineItemsFieldValue = (field: FileBoundProjectField): string => {\r\n    return this.getMetaData(field.name, this.lineItemMappings);\r\n  };\r\n\r\n  onLineItemsFieldChanged = (value: string, field: FileBoundProjectField): void => {\r\n    this.lineItemMappings.set(field.name, value, MetaDataValidity.valid);\r\n  };\r\n\r\n  onLineItemsChanged = (value: string): void => {\r\n    this.lineItemMetaDataId = value;\r\n    this.lineItemMetaDataIdChange.emit(this.lineItemMetaDataId);\r\n  };\r\n\r\n  getFieldValue = (field: FileBoundProjectField): string => {\r\n    return this.getMetaData(field.name);\r\n  };\r\n\r\n  onFieldChanged = (value: string, field: FileBoundProjectField): void => {\r\n    this.mappings.set(field.name, value, MetaDataValidity.valid);\r\n  };\r\n\r\n  getFieldDefinition(): FieldDefinition {\r\n    return new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: '',\r\n      placeholder: '',\r\n      required: false,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userService),\r\n    });\r\n  }\r\n\r\n  activateTab = (tab: string): void => {\r\n    this.activeTab = tab;\r\n  };\r\n}\r\n","<div class=\"step-delivery-metadata-mapping\">\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div *ngIf=\"activeTab === 'metadata'\" class=\"col-12\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr class=\"table-header\">\r\n            <td width=\"50%\">\r\n              <app-label [localize]=\"true\" [text]=\"metaDataHeaderText\"></app-label>\r\n            </td>\r\n            <td width=\"50%\">\r\n              <app-label [localize]=\"true\" [text]=\"'step-delivery-filebound.intelligentcapture-metadata'\"></app-label>\r\n            </td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor=\"let documentField of documentFields; let fieldIndex = index\">\r\n            <td *ngIf=\"documentField.enabled\" class=\"table-row\">\r\n              <app-label [localize]=\"true\" [text]=\"documentField.displayName\"></app-label>\r\n            </td>\r\n            <td *ngIf=\"documentField.enabled\" class=\"table-row\">\r\n              <app-field\r\n                [field]=\"documentFieldDefinitions[fieldIndex]\"\r\n                [value]=\"getDocumentFieldValue(documentField)\"\r\n                (blur)=\"onDocumentFieldChanged(documentField, $event)\"\r\n              ></app-field>\r\n            </td>\r\n          </tr>\r\n\r\n          <tr *ngFor=\"let field of metaDataFields\">\r\n            <td class=\"table-row\"><app-label [text]=\"field.name\"></app-label></td>\r\n            <td class=\"table-row\">\r\n              <app-field\r\n                [field]=\"getFieldDefinition()\"\r\n                [value]=\"getFieldValue(field)\"\r\n                (valueChange)=\"onFieldChanged($event, field)\"\r\n              ></app-field>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div *ngIf=\"activeTab === 'lineitems'\" class=\"col-12\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr class=\"table-header\">\r\n            <td width=\"50%\">\r\n              <app-label [localize]=\"true\" [text]=\"metaDataHeaderText\"></app-label>\r\n            </td>\r\n            <td width=\"50%\">\r\n              <app-label [localize]=\"true\" [text]=\"'step-delivery-filebound.intelligentcapture-metadata'\"></app-label>\r\n            </td>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td class=\"table-row\">\r\n              <app-label [localize]=\"true\" [text]=\"'step-delivery-filebound.field-lineitem'\"></app-label>\r\n            </td>\r\n            <td class=\"table-row\">\r\n              <app-field\r\n                [field]=\"fieldLineItems\"\r\n                [value]=\"lineItemMetaDataId\"\r\n                (blur)=\"onLineItemsChanged($event)\"\r\n              ></app-field>\r\n            </td>\r\n          </tr>\r\n          <tr *ngFor=\"let field of lineitemFields\">\r\n            <td class=\"table-row\"><app-label [text]=\"field.name\"></app-label></td>\r\n            <td class=\"table-row\">\r\n              <app-field\r\n                [field]=\"getFieldDefinition()\"\r\n                [value]=\"getLineItemsFieldValue(field)\"\r\n                (valueChange)=\"onLineItemsFieldChanged($event, field)\"\r\n              ></app-field>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","export class DocumentFieldMapping {\r\n  displayName: string;\r\n  fieldName: string;\r\n  enabled: boolean;\r\n\r\n  constructor(fieldName: string, displayName: string, enabled: boolean) {\r\n    this.fieldName = fieldName;\r\n    this.displayName = displayName;\r\n    this.enabled = enabled;\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { MetaDataDefinition, MetaDataType } from 'shared-code-lib';\r\nimport { Workflow } from '../../../blocks/models/workflow';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-prompts',\r\n  templateUrl: './prompts.component.html',\r\n  styleUrls: ['./prompts.component.scss'],\r\n})\r\nexport class PromptsComponent implements OnInit {\r\n  @Input() workflow: Workflow;\r\n\r\n  available: Array<MetaDataDefinition> = [];\r\n  current: Array<MetaDataDefinition> = [];\r\n\r\n  constructor(private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setupMetaData();\r\n  }\r\n\r\n  setupMetaData(): void {\r\n    const mdds = this.userState.user.metaData;\r\n    this.current = [];\r\n\r\n    this.available = mdds.filter((i) => i.type !== MetaDataType.LineItems && i.allowedForWorkflow(this.workflow.id));\r\n\r\n    for (let id of this.workflow.prompts) {\r\n      const item = mdds.find((m) => m.id === id);\r\n      if (item) this.current.push(item);\r\n    }\r\n  }\r\n\r\n  currentChanged(items: Array<MetaDataDefinition>): void {\r\n    this.workflow.prompts = items.map((item) => item.id);\r\n  }\r\n}\r\n","<app-dual-picklist\r\n  [available]=\"available\"\r\n  [current]=\"current\"\r\n  [allowOrderSelectedItems]=\"true\"\r\n  (currentChange)=\"currentChanged($event)\"\r\n  [displayField]=\"'name'\"\r\n  [listName]=\"'admin-workflow.prompts' | translate\"\r\n></app-dual-picklist>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ViewEncapsulation,\r\n  Input,\r\n  ElementRef,\r\n  ViewChild,\r\n  AfterViewInit,\r\n  Output,\r\n  EventEmitter,\r\n  OnChanges,\r\n  SimpleChanges,\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { NgxSmartModalComponent, NgxSmartModalService } from 'ngx-smart-modal';\r\nimport { HydraApiService } from '../../../blocks/services/hydra-api.service';\r\nimport { Role } from 'shared-code-lib';\r\n\r\n@Component({\r\n  selector: 'app-role-selector',\r\n  templateUrl: './role-selector.component.html',\r\n  styleUrls: ['./role-selector.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class RoleSelectorComponent implements OnInit, AfterViewInit, OnChanges {\r\n  @ViewChild('roleSelectorModal', { static: true }) stepPropertiesModalElement: ElementRef;\r\n  @Input() roles: Array<string>;\r\n  @Output() rolesChange = new EventEmitter<Array<string>>();\r\n\r\n  roleNames = '';\r\n\r\n  allRoles: Array<Role>;\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private userStateService: UserStateService,\r\n    private ngxSmartModalService: NgxSmartModalService,\r\n    private hydraApi: HydraApiService\r\n  ) {}\r\n\r\n  roleSelectorModal: NgxSmartModalComponent;\r\n\r\n  ngOnInit() {\r\n    this.loadPicklistItems();\r\n    this.updateRoleNames();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (!changes.roles) return;\r\n\r\n    this.updateRoleNames();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.roleSelectorModal = this.ngxSmartModalService.getModal('roleSelectorModal');\r\n  }\r\n\r\n  loadPicklistItems = () => {\r\n    this.hydraApi.getRoles(this.loaded, this.loadFailed);\r\n  };\r\n\r\n  loaded = (roles: Array<Role>) => {\r\n    this.allRoles = roles;\r\n\r\n    this.updateRoleNames();\r\n  };\r\n\r\n  loadFailed = () => {};\r\n\r\n  updateRoleNames = (): void => {\r\n    this.roleNames = '';\r\n    if (!this.roles) return;\r\n    if (!this.allRoles) return;\r\n\r\n    if (this.roles.length == 0) {\r\n      this.roleNames = this.translateService.instant('role-selector.any');\r\n    } else {\r\n      for (const rid of this.roles) {\r\n        const role = this.allRoles.find((r) => r.id == rid);\r\n        if (!role) continue;\r\n\r\n        if (this.roleNames.length) this.roleNames += ', ';\r\n        this.roleNames += role.name;\r\n      }\r\n    }\r\n  };\r\n\r\n  onUpdateSubmitRoles = (): void => {\r\n    this.roleSelectorModal.open();\r\n\r\n    this.ngxSmartModalService.setModalData(\r\n      {\r\n        selectedRoles: this.allRoles.filter((r) => this.roles.find((ri) => ri == r.id) != null),\r\n        allowedRoles: this.allRoles,\r\n      },\r\n      'roleSelectorModal',\r\n      true\r\n    );\r\n  };\r\n\r\n  closeRoleSelectorModal = (): void => {\r\n    this.roleSelectorModal.close();\r\n  };\r\n\r\n  currentChanged = (items: Array<Role>): void => {\r\n    const data = this.ngxSmartModalService.getModalData('roleSelectorModal') as any;\r\n\r\n    data.selectedRoles = items;\r\n  };\r\n\r\n  saveProperties = (): void => {\r\n    this.roleSelectorModal.close();\r\n\r\n    const data = this.ngxSmartModalService.getModalData('roleSelectorModal') as any;\r\n    if (!data) return;\r\n\r\n    this.roles = data.selectedRoles.map((r) => r.id);\r\n\r\n    this.rolesChange.emit(this.roles);\r\n\r\n    this.updateRoleNames();\r\n  };\r\n}\r\n","<div class=\"role-selector w-100 h-100\">\r\n  <app-label [localize]=\"true\" [text]=\"'role-selector.roles-allowed-submit'\"></app-label>\r\n  <div *ngIf=\"allRoles\" class=\"row\">\r\n    <div\r\n      class=\"col-10 role-names\"\r\n      [title]=\"'role-selector.click-to-update' | translate\"\r\n      (click)=\"onUpdateSubmitRoles()\"\r\n    >\r\n      <span id=\"role-selector-names\">{{ roleNames }}</span>\r\n    </div>\r\n    <i\r\n      class=\"col-2 fa fa-edit role-edit\"\r\n      [title]=\"'role-selector.click-to-update' | translate\"\r\n      (click)=\"onUpdateSubmitRoles()\"\r\n      id=\"role-selector-edit\"\r\n    ></i>\r\n  </div>\r\n\r\n  <div *ngIf=\"!allRoles\">----</div>\r\n\r\n  <ngx-smart-modal\r\n    #roleSelectorModal\r\n    [closable]=\"false\"\r\n    [escapable]=\"true\"\r\n    [dismissable]=\"false\"\r\n    customClass=\"modal-content workflow-step-properties-modal\"\r\n    identifier=\"roleSelectorModal\"\r\n  >\r\n    <app-modal-header\r\n      [title]=\"'role-selector.modal-title' | translate\"\r\n      [closeIconHandler]=\"closeRoleSelectorModal\"\r\n    ></app-modal-header>\r\n\r\n    <div class=\"modal-body\" #modalBody>\r\n      <div *ngIf=\"roleSelectorModal.hasData()\" class=\"h-100\">\r\n        <app-dual-picklist\r\n          class=\"max-height\"\r\n          [available]=\"$any(roleSelectorModal.getData()).allowedRoles\"\r\n          [current]=\"$any(roleSelectorModal.getData()).selectedRoles\"\r\n          [allowOrderSelectedItems]=\"false\"\r\n          (currentChange)=\"currentChanged($event)\"\r\n          [displayField]=\"'name'\"\r\n          [listName]=\"'step-interactive.roles' | translate\"\r\n        ></app-dual-picklist>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n      <button class=\"btn btn-light btn-minwidth\" data-dismiss=\"modal\" (click)=\"closeRoleSelectorModal()\">\r\n        {{ 'admin-workflow.cancel' | translate }}\r\n      </button>\r\n      <button class=\"btn btn-primary btn-minwidth\" (click)=\"saveProperties()\" id=\"btn-modal-save\">\r\n        {{ 'admin-workflow.save' | translate }}\r\n      </button>\r\n    </div>\r\n  </ngx-smart-modal>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport { FieldDefinition, IFieldDataSource, IFieldOptions, MetaDataType } from 'shared-code-lib';\r\nimport { Workflow } from '../../../blocks/models/workflow';\r\n\r\n@Component({\r\n  selector: 'app-scan-settings',\r\n  templateUrl: './scan-settings.component.html',\r\n  styleUrls: ['./scan-settings.component.scss'],\r\n})\r\nexport class ScanSettingsComponent implements OnInit {\r\n  @Input() workflow: Workflow;\r\n\r\n  fieldColorMode: FieldDefinition;\r\n  fieldDPI: FieldDefinition;\r\n  fieldPageSize: FieldDefinition;\r\n  fieldSides: FieldDefinition;\r\n\r\n  listColorMode: ListDataSource;\r\n  listDPI: ListDataSource;\r\n  listPageSize: ListDataSource;\r\n  listSides: ListDataSource;\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.createDataSources();\r\n    this.createFields();\r\n  }\r\n\r\n  getValue = (name: string): string => {\r\n    const scansetting = this.workflow.scanSettings.find((s) => s.name == name);\r\n    if (!scansetting) return '';\r\n\r\n    return scansetting.value;\r\n  };\r\n\r\n  setValue = (name: string, value: string): void => {\r\n    const scansetting = this.workflow.scanSettings.find((s) => s.name == name);\r\n    if (!scansetting) return;\r\n\r\n    scansetting.value = value;\r\n  };\r\n\r\n  createDataSources = (): void => {\r\n    this.listColorMode = new ListDataSource(this.translate);\r\n    this.listColorMode.addItem('scan-settings.color-mode-blackwhite', 'BlackWhite');\r\n    this.listColorMode.addItem('scan-settings.color-mode-gray', 'Gray');\r\n    this.listColorMode.addItem('scan-settings.color-mode-rgb', 'RGB');\r\n\r\n    this.listDPI = new ListDataSource(this.translate);\r\n    this.listDPI.addItem('100', '100');\r\n    this.listDPI.addItem('150', '150');\r\n    this.listDPI.addItem('200', '200');\r\n    this.listDPI.addItem('300', '300');\r\n    this.listDPI.addItem('400', '400');\r\n    this.listDPI.addItem('500', '500');\r\n    this.listDPI.addItem('600', '600');\r\n\r\n    this.listPageSize = new ListDataSource(this.translate);\r\n    this.listPageSize.addItem('scan-settings.page-size-usletter', 'USLetter');\r\n    this.listPageSize.addItem('scan-settings.page-size-uslegal', 'USLegal');\r\n    this.listPageSize.addItem('scan-settings.page-size-a4', 'A4');\r\n\r\n    this.listSides = new ListDataSource(this.translate);\r\n    this.listSides.addItem('scan-settings.sides-duplex', '1');\r\n    this.listSides.addItem('scan-settings.sides-simplex', '0');\r\n  };\r\n\r\n  createFields = (): void => {\r\n    this.fieldColorMode = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('scan-settings.color-mode'),\r\n      placeholder: this.translate.instant('scan-settings.color-mode-placeholder'),\r\n      required: true,\r\n      datasource: this.listColorMode,\r\n    });\r\n\r\n    this.fieldDPI = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('scan-settings.dpi'),\r\n      placeholder: this.translate.instant('scan-settings.dpi-placeholder'),\r\n      required: true,\r\n      datasource: this.listDPI,\r\n    });\r\n\r\n    this.fieldPageSize = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('scan-settings.page-size'),\r\n      placeholder: this.translate.instant('scan-settings.page-size-placeholder'),\r\n      required: true,\r\n      datasource: this.listPageSize,\r\n    });\r\n\r\n    this.fieldSides = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('scan-settings.sides'),\r\n      placeholder: this.translate.instant('scan-settings.sides-placeholder'),\r\n      required: true,\r\n      datasource: this.listSides,\r\n    });\r\n  };\r\n}\r\n\r\nclass ListDataSource implements IFieldDataSource {\r\n  changed = new Subject<void>();\r\n  items = new Array<IFieldOptions>();\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  addItem = (name: string, value: string): void => {\r\n    this.items.push({ name: this.translate.instant(name), value: value });\r\n  };\r\n\r\n  getItems(\r\n    startsWith: string,\r\n    currentValue: string,\r\n    successCallBack: (items: IFieldOptions[]) => void,\r\n    failureCallBack: (err: any) => void\r\n  ): void {\r\n    successCallBack(this.items);\r\n  }\r\n}\r\n","<div class=\"container-fluid scan-settings-panel\">\r\n  <div class=\"row\">\r\n    <div class=\"col-4\">\r\n      <app-field\r\n        [field]=\"fieldColorMode\"\r\n        [value]=\"getValue('colormode')\"\r\n        (valueChange)=\"setValue('colormode', $event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-4\">\r\n      <app-field [field]=\"fieldDPI\" [value]=\"getValue('dpi')\" (valueChange)=\"setValue('dpi', $event)\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-4\">\r\n      <app-field\r\n        [field]=\"fieldPageSize\"\r\n        [value]=\"getValue('pagesize')\"\r\n        (valueChange)=\"setValue('pagesize', $event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-4\">\r\n      <app-field\r\n        [field]=\"fieldSides\"\r\n        [value]=\"getValue('duplex')\"\r\n        (valueChange)=\"setValue('duplex', $event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, ElementRef, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { EnumDataSource, FieldDefinition, MetaDataType } from '../../../../../../../Bamba.Shared';\r\nimport { FileDropEvent } from '../../../blocks/directives/drop-zone.directive';\r\nimport { AddTemplateInsertPosition, AddTemplateWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { HydraApiService } from '../../../blocks/services/hydra-api.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-add-template',\r\n  templateUrl: './step-add-template.component.html',\r\n  styleUrls: ['./step-add-template.component.scss'],\r\n})\r\nexport class StepAddTemplateComponent implements OnInit {\r\n  @ViewChild('file', { static: true })\r\n  fileInputRef: ElementRef;\r\n  @Input() step: Step;\r\n\r\n  fileInput: HTMLInputElement;\r\n  addTemplateWorkflowStep: AddTemplateWorkflowStep;\r\n  fieldPagePosition: FieldDefinition;\r\n  fieldPageNumber: FieldDefinition;\r\n\r\n  constructor(private translate: TranslateService, private hydraApi: HydraApiService) {}\r\n\r\n  ngOnInit() {\r\n    this.addTemplateWorkflowStep = this.step.workflowStep as AddTemplateWorkflowStep;\r\n    this.fileInput = this.fileInputRef.nativeElement;\r\n    this.createFields();\r\n  }\r\n\r\n  createFields = (): void => {\r\n    this.fieldPagePosition = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-add-template.add-to-document'),\r\n      required: true,\r\n      datasource: new EnumDataSource(AddTemplateInsertPosition, 'step-add-template.insert-position', this.translate),\r\n    });\r\n\r\n    this.fieldPageNumber = new FieldDefinition({\r\n      type: MetaDataType.Integer,\r\n      allowNegativeNumbers: false,\r\n      label: this.translate.instant('step-add-template.insert-at-page'),\r\n      placeholder: this.translate.instant('step-add-template.insert-at-page'),\r\n      required: true,\r\n    });\r\n  };\r\n\r\n  onFileSelected = (evt: any): void => {\r\n    if (this.fileInput.files.length == 0) return;\r\n    this.readFile(this.fileInput.files[0]);\r\n    this.addTemplateWorkflowStep.pathname = this.fileInput.files[0].name;\r\n  };\r\n\r\n  public onFilesDropped = (event: FileDropEvent) => {\r\n    if (event.files.length == 0) return;\r\n    this.readFile(event.files[0]);\r\n    this.addTemplateWorkflowStep.pathname = event.files[0].name;\r\n  };\r\n\r\n  getTemplateFile = (): string => {\r\n    if (this.addTemplateWorkflowStep.pathname) return this.addTemplateWorkflowStep.pathname;\r\n\r\n    return this.translate.instant('step-add-template.no-template-selected');\r\n  };\r\n\r\n  readFile = (file: File): void => {\r\n    this.addTemplateWorkflowStep.file = null;\r\n    const reader = new FileReader();\r\n    reader.onload = (event: any) => {\r\n      this.addTemplateWorkflowStep.file = event.target.result.split(',')[1];\r\n    };\r\n\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  updatePagePosition(value: string) {\r\n    this.addTemplateWorkflowStep.insertPosition = +value;\r\n  }\r\n\r\n  updatePageNumber(value: string) {\r\n    this.addTemplateWorkflowStep.insertPageNumber = +value;\r\n  }\r\n}\r\n","<div class=\"container-fluid step-add-template\">\r\n  <div class=\"row\">\r\n    <div class=\"col-4\">\r\n      <div class=\"row\">\r\n        <div class=\"col-14 drop-down\">\r\n          <app-label [localize]=\"true\" [required]=\"true\" [text]=\"'step-add-template.template-file'\"></app-label>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-14\">\r\n          <span class=\"file-item w-100 text-truncate template-file\" [title]=\"getTemplateFile()\">\r\n            {{ getTemplateFile() }}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-14 drop-down\">\r\n          <app-field\r\n            *ngIf=\"fieldPagePosition\"\r\n            [field]=\"fieldPagePosition\"\r\n            [value]=\"addTemplateWorkflowStep.insertPosition + ''\"\r\n            (fieldChanged)=\"updatePagePosition($event)\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"fieldPageNumber && addTemplateWorkflowStep?.insertPosition == 2\" class=\"row\">\r\n        <div class=\"col-14\">\r\n          <app-field\r\n            [field]=\"fieldPageNumber\"\r\n            [value]=\"addTemplateWorkflowStep.insertPageNumber + ''\"\r\n            (valueChange)=\"updatePageNumber($event)\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-8 template-column\">\r\n      <div class=\"ngx-file-drop__drop-zone\">\r\n        <div class=\"w-100 h-100\" (appDropZone)=\"onFilesDropped($event)\">\r\n          <div style=\"text-align: center;\">\r\n            <p>&nbsp;</p>\r\n\r\n            <input type=\"file\" accept=\".rtf, .doc, .docx\" #file style=\"display: none;\" (change)=\"onFileSelected($event)\" />\r\n\r\n            <button class=\"btn btn-info btn-minwidth mb-3\" (click)=\"file.click()\">\r\n              {{ 'FileUpload.ChooseFile' | translate }}\r\n            </button>\r\n\r\n            <p>&nbsp;</p>\r\n            <span>{{ 'step-add-template.template-file-instructions' | translate }} </span>\r\n            <p>&nbsp;</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Component, Input, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar-portable';\r\nimport { FieldDefinition, FixedDataSource, IFieldOptions, MetaDataType } from 'shared-code-lib';\r\nimport { BarcodeCoverPageWorkflowStep, BarcodeMapping } from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-barcode-cover-page',\r\n  templateUrl: './step-barcode-cover-page.component.html',\r\n  styleUrls: ['./step-barcode-cover-page.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepBarcodeCoverPageComponent implements OnInit {\r\n  @ViewChild(PerfectScrollbarDirective, { static: true }) directiveRef?: PerfectScrollbarDirective;\r\n  @Input() step: Step;\r\n\r\n  fieldDisplayName: FieldDefinition;\r\n  fieldExpectedBarcodeCount: FieldDefinition;\r\n  workflowStep: BarcodeCoverPageWorkflowStep;\r\n  dataFieldsDataSource: FixedDataSource;\r\n  dataFieldsLoaded: boolean = false;\r\n  expectedNumberOfBarcodes: string;\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private userState: UserStateService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.workflowStep = <BarcodeCoverPageWorkflowStep>this.step.workflowStep;\r\n    this.dataFieldsDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n    if (!this.workflowStep.barcodeMappings.length) this.workflowStep.barcodeMappings.push(BarcodeMapping.create());\r\n    this.expectedNumberOfBarcodes = this.workflowStep.barcodeMappings.length.toString();\r\n    this.loadMetaData();\r\n    this.createFields();\r\n  }\r\n\r\n  loadMetaData = (): void => {\r\n    const metadataFields: Array<IFieldOptions> = [];\r\n\r\n    metadataFields.push({\r\n      name: this.translate.instant('admin-workflow.none'),\r\n      value: '',\r\n    });\r\n\r\n    const mdds = this.userState.user.metaData.filter(\r\n      (mdd) =>\r\n        mdd.type !== MetaDataType.Expression &&\r\n        mdd.type !== MetaDataType.CascadingOptions &&\r\n        mdd.type !== MetaDataType.LineItems\r\n    );\r\n\r\n    mdds.forEach((mdd) => {\r\n      metadataFields.push({\r\n        name: mdd.name,\r\n        value: mdd.id,\r\n      });\r\n    });\r\n\r\n    this.dataFieldsDataSource.updateOptions(metadataFields);\r\n    this.dataFieldsLoaded = true;\r\n  };\r\n\r\n  createFields() {\r\n    this.fieldDisplayName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('admin-workflow.interactive-step-displayname'),\r\n      placeholder: this.translate.instant('admin-workflow.interactive-step-displayname-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    const expectedCounts: Array<IFieldOptions> = [];\r\n    for (let i = 1; i <= 50; i++) {\r\n      expectedCounts.push({ name: i.toString(), value: i.toString() });\r\n    }\r\n\r\n    this.fieldExpectedBarcodeCount = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('admin-workflow.expected-barcode-count'),\r\n      placeholder: this.translate.instant('admin-workflow.expected-barcode-count'),\r\n      required: true,\r\n      datasource: new FixedDataSource(expectedCounts),\r\n    });\r\n  }\r\n\r\n  createListField = (label: string, placeholder: string, datasource: FixedDataSource) => {\r\n    return new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: label ? this.translate.instant(label) : '',\r\n      placeholder: this.translate.instant(placeholder),\r\n      required: true,\r\n      datasource: datasource,\r\n    });\r\n  };\r\n\r\n  createTextField = (label: string, placeholder: string) => {\r\n    return new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: label ? this.translate.instant(label) : '',\r\n      placeholder: this.translate.instant(placeholder),\r\n    });\r\n  };\r\n\r\n  dropped(event: CdkDragDrop<string[]>) {\r\n    moveItemInArray(this.workflowStep.barcodeMappings, event.previousIndex, event.currentIndex);\r\n  }\r\n\r\n  onExpectedBarcodesChanged = (): void => {\r\n    const count = parseInt(this.expectedNumberOfBarcodes);\r\n    if (this.workflowStep.barcodeMappings.length > count) {\r\n      this.workflowStep.barcodeMappings.splice(count);\r\n      return;\r\n    }\r\n\r\n    do {\r\n      this.workflowStep.barcodeMappings.push(BarcodeMapping.create());\r\n    } while (this.workflowStep.barcodeMappings.length < count);\r\n  };\r\n}\r\n","<div class=\"step-barcode-cover-page container-fluid d-flex flex-column\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldDisplayName\" [(value)]=\"workflowStep.name\"></app-field>\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <app-field\r\n        [field]=\"fieldExpectedBarcodeCount\"\r\n        [(value)]=\"expectedNumberOfBarcodes\"\r\n        (fieldChanged)=\"onExpectedBarcodesChanged()\"\r\n      ></app-field>\r\n    </div>\r\n    <div class=\"col-6 ml-1 mt-1\">\r\n      <app-checkbox\r\n        [(value)]=\"workflowStep.removeCoverPage\"\r\n        label=\"{{ 'admin-workflow.remove-cover-page' | translate }}\"\r\n      ></app-checkbox>\r\n    </div>\r\n  </div>\r\n  <div class=\"flex-grow-1\">\r\n    <div class=\"pick-list__configuration h-100 d-flex flex-column\">\r\n      <table class=\"table draggable\">\r\n        <thead>\r\n          <tr>\r\n            <th width=\"4%\" class=\"table__th-control action-th\">\r\n              <div></div>\r\n            </th>\r\n            <th width=\"6%\" class=\"table__th-content\">\r\n              <div>{{ 'admin-workflow.barcode-index' | translate }}</div>\r\n            </th>\r\n            <th width=\"45%\" class=\"table__th-content\">\r\n              <div>{{ 'admin-workflow.data-field' | translate }}</div>\r\n            </th>\r\n            <th width=\"45%\" class=\"table__th-content\">\r\n              <div>{{ 'admin-workflow.barcode-regex' | translate }}</div>\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody\r\n          class=\"table__body ps col p-0\"\r\n          fxFlex=\"auto\"\r\n          [perfectScrollbar]=\"{ suppressScrollY: false }\"\r\n          cdkDropList\r\n          (cdkDropListDropped)=\"dropped($event)\"\r\n          #mappingsScroll=\"ngxPerfectScrollbar\"\r\n          [autoUpdatePerfectScroll]=\"mappingsScroll\"\r\n        >\r\n          <tr class=\"table__table-row\" *ngFor=\"let item of workflowStep.barcodeMappings; let i = index\" cdkDrag>\r\n            <td\r\n              width=\"4%\"\r\n              class=\"table__control-cell p-1 h-100 align-items-center justify-content-center\"\r\n              style=\"cursor: default !important\"\r\n            >\r\n              <div class=\"checkbox table__checkbox d-flex align-items-center justify-content-center h-100\">\r\n                <i cdkDragHandle class=\"icomoon-grip-small table__th-grip\"></i>\r\n              </div>\r\n            </td>\r\n            <td width=\"6%\" class=\"table__cell\" style=\"cursor: default !important\">\r\n              <div class=\"table__cell-content\">\r\n                {{ i + 1 }}\r\n              </div>\r\n            </td>\r\n            <td width=\"45%\" class=\"table__cell\" style=\"cursor: default !important\">\r\n              <div class=\"table__cell-content\">\r\n                <app-field\r\n                  [field]=\"createListField('', 'admin-workflow.data-field', dataFieldsDataSource)\"\r\n                  [(value)]=\"item.dataFieldId\"\r\n                ></app-field>\r\n              </div>\r\n            </td>\r\n            <td width=\"45%\" class=\"table__cell\" style=\"cursor: default !important\">\r\n              <div class=\"table__cell-content mr-2\">\r\n                <app-field\r\n                  [field]=\"createTextField('', 'admin-workflow.barcode-regex-hint')\"\r\n                  [(value)]=\"item.regEx\"\r\n                  [disabled]=\"!item.dataFieldId\"\r\n                ></app-field>\r\n              </div>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport {\r\n  DelayService,\r\n  EnumDataSource,\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  MappingHandleMultiple,\r\n  MetaDataType,\r\n} from 'shared-code-lib';\r\nimport { BarcodeMapping } from '../../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-barcode-mappings',\r\n  templateUrl: './barcode-mappings.component.html',\r\n  styleUrls: ['./barcode-mappings.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class BarcodeMappingsComponent implements OnInit {\r\n  @Input() mappings: Array<BarcodeMapping> = [];\r\n  @Output() mappingsChange = new EventEmitter<Array<BarcodeMapping>>();\r\n\r\n  dataFieldsDropLists = new Array<FieldDefinition>();\r\n  handleMultipleDropLists = new Array<FieldDefinition>();\r\n\r\n  dataFieldsDataSource: FixedDataSource;\r\n  handleMultipleDataSource: FixedDataSource;\r\n\r\n  constructor(private delay: DelayService, private translate: TranslateService, private userState: UserStateService) {}\r\n\r\n  ngOnInit() {\r\n    this.handleMultipleDataSource = new EnumDataSource(\r\n      MappingHandleMultiple,\r\n      'MappingHandleMultipleEnum',\r\n      this.translate\r\n    );\r\n\r\n    const dataFieldsOptions = this.userState.user.metaData\r\n      .map((mdd) => {\r\n        return { name: mdd.name, value: mdd.id };\r\n      })\r\n      .sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n    this.dataFieldsDataSource = new FixedDataSource(dataFieldsOptions);\r\n  }\r\n\r\n  getDataFieldsDropList(index: number): FieldDefinition {\r\n    return this.getDropListField(index, this.dataFieldsDropLists, this.dataFieldsDataSource);\r\n  }\r\n\r\n  getHandleMultipleDropList(index: number): FieldDefinition {\r\n    return this.getDropListField(index, this.handleMultipleDropLists, this.handleMultipleDataSource);\r\n  }\r\n\r\n  getDropListField = (index: number, dropLists: Array<FieldDefinition>, ds: FixedDataSource): FieldDefinition => {\r\n    while (dropLists.length <= index) {\r\n      dropLists.push(\r\n        new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          label: '',\r\n          placeholder: '',\r\n          datasource: ds,\r\n          required: false,\r\n        })\r\n      );\r\n    }\r\n\r\n    return dropLists[index];\r\n  };\r\n\r\n  onDeleteMapping = (mapping: BarcodeMapping, index: number): void => {\r\n    this.mappings.splice(index, 1);\r\n    this.mappingsChange.emit(this.mappings);\r\n  };\r\n\r\n  onAddMapping = (): void => {\r\n    this.mappings.push(BarcodeMapping.create());\r\n    this.mappingsChange.emit(this.mappings);\r\n\r\n    this.delay.execute(this.setFocusToAddedMapping, 1);\r\n  };\r\n\r\n  setFocusToAddedMapping = (): void => {\r\n    const id = `barcode-mapping-${this.mappings.length - 1}`;\r\n    const lastMapping = document.getElementById(id);\r\n    if (lastMapping) {\r\n      lastMapping.focus();\r\n    }\r\n  };\r\n\r\n  getMappingHandle = (index: number): string => {\r\n    return `${this.mappings[index].mappingHandleMultiple}`;\r\n  };\r\n  setMappingHandle = (index: number, val: string) => {\r\n    this.mappings[index].mappingHandleMultiple = Number(val);\r\n  };\r\n}\r\n","<div class=\"step-interactive-properties step-interactive-outcomes\">\r\n  <table class=\"table\">\r\n    <thead>\r\n      <tr>\r\n        <td>{{ 'step-interactive.barcode-mapping-data-field' | translate }}</td>\r\n        <td>{{ 'step-interactive.barcode-mapping-regex' | translate }}</td>\r\n        <td>{{ 'step-interactive.barcode-mapping-multiple-handle' | translate }}</td>\r\n        <td width=\"24px\">\r\n          <button\r\n            class=\"button-icon\"\r\n            (click)=\"onAddMapping()\"\r\n            title=\"{{ 'step-interactive.tooltip-addmapping' | translate }}\"\r\n          >\r\n            <div class=\"add-circle d-flex justify-content-center align-items-center\">\r\n              <i class=\"icon-plus\"></i>\r\n            </div>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </thead>\r\n\r\n    <tbody [perfectScrollbar]=\"{ suppressScrollX: true }\">\r\n      <tr *ngFor=\"let mapping of mappings; let i = index\">\r\n        <td class=\"small-drop-list\">\r\n          <app-field [field]=\"getDataFieldsDropList(i)\" [(value)]=\"mapping.dataFieldId\"></app-field>\r\n        </td>\r\n\r\n        <td class=\"regex-text-list\">\r\n          <input\r\n            class=\"form-control\"\r\n            type=\"text\"\r\n            [ngModel]=\"mapping.regEx\"\r\n            (ngModelChange)=\"mapping.regEx = $event\"\r\n            [ngModelOptions]=\"{ standalone: true }\"\r\n            [id]=\"'barcode-mapping-' + i.toString()\"\r\n          />\r\n        </td>\r\n\r\n        <td class=\"small-drop-list\">\r\n          <app-field\r\n            [field]=\"getHandleMultipleDropList(i)\"\r\n            [value]=\"getMappingHandle(i)\"\r\n            (valueChange)=\"setMappingHandle(i, $event)\"\r\n          ></app-field>\r\n        </td>\r\n\r\n        <td class=\"delete-icon-column\" title=\"{{ 'step-interactive.tooltip-deleteaction' | translate }}\">\r\n          <app-delete-icon class=\"step-action-edit-button\" (click)=\"onDeleteMapping(mapping, i)\"></app-delete-icon>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, MetaDataType, Tab } from 'shared-code-lib';\r\nimport { BarcodeDataMappingWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-barcode-data-mapping',\r\n  templateUrl: './step-barcode-data-mapping.component.html',\r\n  styleUrls: ['./step-barcode-data-mapping.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepBarcodeDataMappingComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  fieldDisplayName: FieldDefinition;\r\n  barcodeDataMappingStep: BarcodeDataMappingWorkflowStep;\r\n\r\n  activeTab = 'barcode-mappings';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.barcodeDataMappingStep = <BarcodeDataMappingWorkflowStep>this.step.workflowStep;\r\n    this.createFields();\r\n    this.createTabs();\r\n  }\r\n\r\n  createFields() {\r\n    this.fieldDisplayName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('admin-workflow.interactive-step-displayname'),\r\n      placeholder: this.translate.instant('admin-workflow.interactive-step-displayname-placeholder'),\r\n      required: true,\r\n    });\r\n  }\r\n\r\n  createTabs() {\r\n    this.tabs.push(new Tab('barcode-mappings', this.translate.instant('step-interactive.barcode-mappings')));\r\n  }\r\n\r\n  activateTab(view: string) {\r\n    this.activeTab = view;\r\n  }\r\n}\r\n","<div class=\"step-barcode-data-mapping container-fluid\">\r\n  <div class=\"row\">\r\n    <div class=\"col-6\" appAutoFocusFirstInput>\r\n      <app-field [field]=\"fieldDisplayName\" [(value)]=\"barcodeDataMappingStep.name\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'barcode-mappings' == activeTab\">\r\n      <app-barcode-mappings [mappings]=\"barcodeDataMappingStep.barcodeMappings\"></app-barcode-mappings>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, MetaDataType } from 'shared-code-lib';\r\nimport { BurstingType, BurstingWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-bursting',\r\n  templateUrl: './step-bursting.component.html',\r\n  styleUrls: ['./step-bursting.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepBurstingComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  fieldBarcodeValue: FieldDefinition;\r\n  fieldPageCount: FieldDefinition;\r\n\r\n  burstingWorkflowStep: BurstingWorkflowStep;\r\n\r\n  get burstingWorkflowStepPageCount() {\r\n    return `${this.burstingWorkflowStep.pageCount}`;\r\n  }\r\n  set burstingWorkflowStepPageCount(val: string) {\r\n    this.burstingWorkflowStep.pageCount = Number(val);\r\n  }\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.burstingWorkflowStep = <BurstingWorkflowStep>this.step.workflowStep;\r\n    this.createFields();\r\n  }\r\n\r\n  onTypeChanged = (value: BurstingType): void => {\r\n    this.burstingWorkflowStep.burstingType = value;\r\n  };\r\n\r\n  createFields = (): void => {\r\n    this.fieldBarcodeValue = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('admin-workflow.barcode-value'),\r\n      placeholder: this.translate.instant('admin-workflow.barcode-value-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldPageCount = new FieldDefinition({\r\n      type: MetaDataType.Integer,\r\n      label: this.translate.instant('admin-workflow.pagecount-value'),\r\n      placeholder: this.translate.instant('admin-workflow.pagecount-value-placeholder'),\r\n      required: true,\r\n    });\r\n  };\r\n}\r\n","<div class=\"step-bursting-panel container-fluid\">\r\n  <div>\r\n    <label>\r\n      <input\r\n        type=\"radio\"\r\n        name=\"burstingWorkflowStep\"\r\n        (change)=\"onTypeChanged(1)\"\r\n        [checked]=\"burstingWorkflowStep.burstingType == 1\"\r\n      />\r\n      {{ 'admin-workflow.step-barcode-enabled' | translate }}\r\n    </label>\r\n\r\n    <div [class.disabled]=\"burstingWorkflowStep.burstingType != 1\" class=\"container-fluid barcode-options\">\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <app-field [field]=\"fieldBarcodeValue\" [(value)]=\"burstingWorkflowStep.barcodeValue\"></app-field>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <app-checkbox\r\n            name=\"burstingWorkflowStep.retainBarcode\"\r\n            [(value)]=\"burstingWorkflowStep.retainBarcode\"\r\n            label=\"{{ 'admin-workflow.step-barcode-retain' | translate }}\"\r\n          ></app-checkbox>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div>\r\n    <label>\r\n      <input\r\n        type=\"radio\"\r\n        name=\"burstingWorkflowStep\"\r\n        (change)=\"onTypeChanged(2)\"\r\n        [checked]=\"burstingWorkflowStep.burstingType == 2\"\r\n      />\r\n      {{ 'admin-workflow.step-pagecount-enabled' | translate }}\r\n    </label>\r\n\r\n    <div [class.disabled]=\"burstingWorkflowStep.burstingType != 2\" class=\"container-fluid pagecount-options\">\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <app-field\r\n            [field]=\"fieldPageCount\"\r\n            [(value)]=\"burstingWorkflowStepPageCount\"\r\n            [disabled]=\"burstingWorkflowStep.burstingType != 2\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div>\r\n    <label>\r\n      <input\r\n        type=\"radio\"\r\n        name=\"burstingWorkflowStep\"\r\n        (change)=\"onTypeChanged(3)\"\r\n        [checked]=\"burstingWorkflowStep.burstingType == 3\"\r\n      />\r\n      {{ 'admin-workflow.step-emptypage-enabled' | translate }}\r\n    </label>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport {\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  IFieldOptions,\r\n  MetadataIntellisenseDatasource,\r\n  MetaDataType,\r\n} from 'shared-code-lib';\r\nimport { ClassifierWorkflowStep, FormsAIWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-classifier',\r\n  templateUrl: './step-classifier.component.html',\r\n  styleUrls: ['./step-classifier.component.scss'],\r\n})\r\nexport class StepClassifierComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  classifierStep: ClassifierWorkflowStep;\r\n  formsWorkflowStep: FormsAIWorkflowStep;\r\n  metaDataOptions: IFieldOptions[] = [];\r\n  formTypeDataField: FieldDefinition;\r\n  confidenceThresholdField: FieldDefinition;\r\n  fieldDisplayName: FieldDefinition;\r\n  splitDocumentNameField: FieldDefinition;\r\n\r\n  get confidenceThreshold() {\r\n    return `${this.classifierStep.confidenceThreshold}`;\r\n  }\r\n  set confidenceThreshold(val: string) {\r\n    this.classifierStep.confidenceThreshold = Number(val);\r\n  }\r\n\r\n  constructor(private translateService: TranslateService, private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.classifierStep = this.step.workflowStep as ClassifierWorkflowStep;\r\n\r\n    this.setupMetaData();\r\n    this.createFields();\r\n  }\r\n\r\n  setupMetaData(): void {\r\n    this.metaDataOptions = this.userState.user.metaData\r\n      .filter((metaData) => metaData.type !== MetaDataType.LineItems)\r\n      .map((metaData) => ({ name: metaData.name, value: metaData.id }));\r\n\r\n    this.metaDataOptions.unshift({\r\n      name: this.translateService.instant('simple-classifier-step-properties.form-type'),\r\n      value: '',\r\n    });\r\n  }\r\n\r\n  createFields(): void {\r\n    this.confidenceThresholdField = this.createField(\r\n      MetaDataType.Integer,\r\n      'confidence-threshold-label',\r\n      'confidence-threshold-label',\r\n      null,\r\n      true,\r\n      false\r\n    );\r\n\r\n    this.splitDocumentNameField = this.createField(\r\n      MetaDataType.Text,\r\n      'split-document-name',\r\n      'split-document-name',\r\n      new MetadataIntellisenseDatasource(this.userState),\r\n      true,\r\n      true\r\n    );\r\n\r\n    this.fieldDisplayName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('admin-workflow.interactive-step-displayname'),\r\n      placeholder: this.translateService.instant('admin-workflow.interactive-step-displayname-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.formTypeDataField = this.createField(\r\n      MetaDataType.List,\r\n      'data-field-label',\r\n      '',\r\n      new FixedDataSource(this.metaDataOptions),\r\n      true,\r\n      false\r\n    );\r\n  }\r\n\r\n  createField(\r\n    type: MetaDataType = MetaDataType.Text,\r\n    label: string = null,\r\n    placeholder: string = '',\r\n    datasource: FixedDataSource = null,\r\n    required: boolean = false,\r\n    substitutable: boolean = false\r\n  ): FieldDefinition {\r\n    return new FieldDefinition({\r\n      type: type,\r\n      label: label ? this.translateService.instant(`simple-classifier-step-properties.${label}`) : '',\r\n      placeholder: placeholder ? this.translateService.instant(`simple-classifier-step-properties.${placeholder}`) : '',\r\n      required: required,\r\n      substitutable: substitutable,\r\n      datasource: datasource,\r\n    });\r\n  }\r\n}\r\n","<div class=\"container-fluid\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field *ngIf=\"fieldDisplayName\" [field]=\"fieldDisplayName\" [(value)]=\"classifierStep.name\"></app-field>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field\r\n        *ngIf=\"formTypeDataField\"\r\n        [field]=\"formTypeDataField\"\r\n        [(value)]=\"classifierStep.formTypeFieldId\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field\r\n        *ngIf=\"splitDocumentNameField\"\r\n        [field]=\"splitDocumentNameField\"\r\n        [(value)]=\"classifierStep.splitDocumentName\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field\r\n        *ngIf=\"confidenceThresholdField\"\r\n        [field]=\"confidenceThresholdField\"\r\n        [(value)]=\"confidenceThreshold\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, MetaDataType } from 'shared-code-lib';\r\nimport { DecisionPoint } from '../../../blocks/models/workflow-step';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-decision-point',\r\n  templateUrl: './step-decision-point.component.html',\r\n  styleUrls: ['./step-decision-point.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDecisionPointComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  decisionPointWorkflowStep: DecisionPoint;\r\n\r\n  fieldDisplayName: FieldDefinition;\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.decisionPointWorkflowStep = <DecisionPoint>this.step.workflowStep;\r\n    this.createFields();\r\n  }\r\n\r\n  private createFields = () => {\r\n    this.fieldDisplayName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('admin-workflow.interactive-step-displayname'),\r\n      placeholder: this.translate.instant('admin-workflow.interactive-step-displayname-placeholder'),\r\n      required: true,\r\n    });\r\n  };\r\n}\r\n","<div class=\"container-fluid step-decision-point-panel\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <app-field [field]=\"fieldDisplayName\" [(value)]=\"decisionPointWorkflowStep.name\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <app-label [required]=\"true\" [localize]=\"true\" [text]=\"'step-decision-point.expression'\"></app-label>\r\n      <textarea\r\n        class=\"form-control\"\r\n        [(ngModel)]=\"decisionPointWorkflowStep.expression\"\r\n        rows=\"10\"\r\n        style=\"width: 100%\"\r\n      ></textarea>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport {\r\n  DeliveryFormatsDataSource,\r\n  FieldDefinition,\r\n  MetadataIntellisenseDatasource,\r\n  MetaDataType,\r\n} from 'shared-code-lib';\r\nimport { EmailDestination, EmailDestinationType } from '../../../../blocks/models/email-destination';\r\nimport { DeliverToEmailWorkflowStep } from '../../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-step-deliver-to-email-general',\r\n  templateUrl: './step-deliver-to-email-general.component.html',\r\n  styleUrls: ['./step-deliver-to-email-general.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliverToEmailGeneralComponent implements OnInit {\r\n  @Input() deliverToEmail: DeliverToEmailWorkflowStep;\r\n\r\n  fieldEmailAddress: FieldDefinition;\r\n  fieldSubject: FieldDefinition;\r\n  fieldBody: FieldDefinition;\r\n  fieldDeliveryFormat: FieldDefinition;\r\n  fieldDocumentName: FieldDefinition;\r\n\r\n  constructor(private translate: TranslateService, private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    if (!this.deliverToEmail.destinations.length) {\r\n      this.deliverToEmail.destinations.push(new EmailDestination('', '', EmailDestinationType.To));\r\n    }\r\n\r\n    this.createFields();\r\n    this.onIncludeDocumentChanged();\r\n  }\r\n\r\n  createFields = (): void => {\r\n    this.fieldEmailAddress = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-deliver-to-email.email-address'),\r\n      placeholder: this.translate.instant('step-deliver-to-email.email-address-placeholder'),\r\n      required: true,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userState),\r\n    });\r\n\r\n    this.fieldSubject = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-deliver-to-email.subject'),\r\n      placeholder: this.translate.instant('step-deliver-to-email.subject-placeholder'),\r\n      required: false,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userState),\r\n    });\r\n\r\n    this.fieldBody = new FieldDefinition({\r\n      type: MetaDataType.LargeText,\r\n      label: this.translate.instant('step-deliver-to-email.body'),\r\n      placeholder: this.translate.instant('step-deliver-to-email.body-placeholder'),\r\n      required: false,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userState),\r\n    });\r\n\r\n    this.fieldDeliveryFormat = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('workflow-step.delivery-format'),\r\n      placeholder: '',\r\n      datasource: new DeliveryFormatsDataSource(this.translate, this.userState),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldDocumentName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-deliver-to-email.document-name'),\r\n      placeholder: this.translate.instant('step-deliver-to-email.document-name-placeholder'),\r\n      required: false,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userState),\r\n    });\r\n  };\r\n\r\n  onIncludeDocumentChanged = (): void => {\r\n    this.fieldBody.required = !this.deliverToEmail.includeDocument;\r\n  };\r\n}\r\n","<div class=\"step-delivery-to-email-general container-fluid\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldEmailAddress\" [(value)]=\"deliverToEmail.destinations[0].emailAddress\"></app-field>\r\n    </div>\r\n    <div class=\"col-6 include-document\">\r\n      <app-checkbox\r\n        [(value)]=\"deliverToEmail.includeDocument\"\r\n        label=\"{{ 'step-deliver-to-email.include-document' | translate }}\"\r\n        (valueChange)=\"onIncludeDocumentChanged()\"\r\n      ></app-checkbox>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldSubject\" [(value)]=\"deliverToEmail.subject\"></app-field>\r\n    </div>\r\n    <div class=\"col-6\" *ngIf=\"deliverToEmail.includeDocument\">\r\n      <app-field [field]=\"fieldDeliveryFormat\" [(value)]=\"deliverToEmail.finalFormCode\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldBody\" [(value)]=\"deliverToEmail.body\"></app-field>\r\n    </div>\r\n    <div class=\"col-6\" *ngIf=\"deliverToEmail.includeDocument\">\r\n      <app-field [field]=\"fieldDocumentName\" [(value)]=\"deliverToEmail.documentName\"></app-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Tab } from '../../../../../../../Bamba.Shared/src/form/tab-bar/tab-bar.component';\r\nimport { DeliverToEmailWorkflowStep } from '../../../../app/blocks/models/workflow-step';\r\nimport { ExportMetaData } from '../models/export-metadata';\r\n\r\n@Component({\r\n  selector: 'app-step-deliver-to-email',\r\n  templateUrl: './step-deliver-to-email.component.html',\r\n  styleUrls: ['./step-deliver-to-email.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliverToEmailComponent implements OnInit {\r\n  @Input() deliverToEmail: DeliverToEmailWorkflowStep;\r\n  @Input() workflowId: string;\r\n\r\n  activeTab = 'general';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.tabs.push(new Tab('general', this.translate.instant('step-deliver.general')));\r\n    this.tabs.push(new Tab('export-metadata', this.translate.instant('step-deliver.export-metadata')));\r\n  }\r\n\r\n  activateTab = (view: string): void => {\r\n    this.activeTab = view;\r\n  };\r\n\r\n  onMetaDataTypeChanged(exportMetaData: ExportMetaData): void {\r\n    this.deliverToEmail.exportMetaData = exportMetaData;\r\n  }\r\n}\r\n","<div class=\"step-delivery-to-email container-fluid\">\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'general' === activeTab\">\r\n      <app-step-deliver-to-email-general [deliverToEmail]=\"deliverToEmail\"></app-step-deliver-to-email-general>\r\n    </div>\r\n    <div *ngIf=\"'export-metadata' === activeTab\">\r\n      <app-export-metadata\r\n        [exportMetaData]=\"deliverToEmail.exportMetaData\"\r\n        [workflowId]=\"workflowId\"\r\n        (metaDataTypeChanged)=\"onMetaDataTypeChanged($event)\"\r\n      ></app-export-metadata>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport {\r\n  DeliveryFormatsDataSource,\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  IFieldOptions,\r\n  MetadataIntellisenseDatasource,\r\n  MetaDataType,\r\n} from 'shared-code-lib';\r\nimport { FileDropEvent } from '../../../../blocks/directives/drop-zone.directive';\r\nimport { DeliverToFtpWorkflowStep } from '../../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-step-deliver-to-ftp-general',\r\n  templateUrl: './step-deliver-to-ftp-general.component.html',\r\n  styleUrls: ['./step-deliver-to-ftp-general.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliverToFtpGeneralComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() deliverToFtpStep: DeliverToFtpWorkflowStep;\r\n  @ViewChild('ppkFile', { static: true }) ppkFileInputRef: ElementRef;\r\n  ppkFileInput: HTMLInputElement;\r\n\r\n  fieldType: FieldDefinition;\r\n  fieldAddress: FieldDefinition;\r\n  fieldPortt: FieldDefinition;\r\n  fieldUsername: FieldDefinition;\r\n  fieldPassword: FieldDefinition;\r\n  fieldPort: FieldDefinition;\r\n  fieldSecurityType: FieldDefinition;\r\n  fieldPPKPassphrase: FieldDefinition;\r\n  fieldDeliveryFormat: FieldDefinition;\r\n  fieldDocumentName: FieldDefinition;\r\n\r\n  get deliverToFtpStepPort() {\r\n    return `${this.deliverToFtpStep.port}`;\r\n  }\r\n  set deliverToFtpStepPort(val: string) {\r\n    this.deliverToFtpStep.port = Number(val);\r\n  }\r\n  get deliverToFtpStepSecurityType() {\r\n    return `${this.deliverToFtpStep.securityType}`;\r\n  }\r\n  set deliverToFtpStepSecurityType(val: string) {\r\n    this.deliverToFtpStep.securityType = Number(val);\r\n  }\r\n\r\n  constructor(private translateService: TranslateService, private userStateService: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.ppkFileInput = this.ppkFileInputRef.nativeElement;\r\n    this.createFields();\r\n\r\n    if (!this.deliverToFtpStep.usePPKFile) {\r\n      this.deliverToFtpStep.ppkFileBase64 = '';\r\n      this.deliverToFtpStep.ppkFilename = '';\r\n      this.deliverToFtpStep.ppkPassphrase = '';\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {}\r\n\r\n  ngOnDestroy(): void {}\r\n\r\n  onDeliveryTypeChanged = (type: number): void => {};\r\n\r\n  createFields = (): void => {\r\n    const ftpTypes = [\r\n      { value: 'sftp', name: this.translateService.instant('step-deliver-to-ftp.type-sftp') },\r\n      { value: 'ftp', name: this.translateService.instant('step-deliver-to-ftp.type-ftp') },\r\n      { value: 'ftps', name: this.translateService.instant('step-deliver-to-ftp.type-ftps') },\r\n    ];\r\n\r\n    this.fieldType = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('step-deliver-to-ftp.type-label'),\r\n      placeholder: '',\r\n      datasource: new FixedDataSource(ftpTypes),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldAddress = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('step-deliver-to-ftp.address'),\r\n      placeholder: this.translateService.instant('step-deliver-to-ftp.address-placeholder'),\r\n      required: true,\r\n      substitutable: false,\r\n    });\r\n\r\n    this.fieldPort = new FieldDefinition({\r\n      type: MetaDataType.Integer,\r\n      label: this.translateService.instant('step-deliver-to-ftp.port'),\r\n      placeholder: this.translateService.instant('step-deliver-to-ftp.port-placeholder'),\r\n      required: true,\r\n      substitutable: false,\r\n    });\r\n\r\n    this.fieldUsername = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('step-deliver-to-ftp.username'),\r\n      placeholder: this.translateService.instant('step-deliver-to-ftp.username-placeholder'),\r\n      required: true,\r\n      substitutable: false,\r\n    });\r\n\r\n    this.fieldPassword = new FieldDefinition({\r\n      type: MetaDataType.Password,\r\n      label: this.translateService.instant('step-deliver-to-ftp.password'),\r\n      placeholder: this.translateService.instant('step-deliver-to-ftp.password-placeholder'),\r\n      required: true,\r\n      substitutable: false,\r\n    });\r\n\r\n    this.fieldPPKPassphrase = new FieldDefinition({\r\n      type: MetaDataType.Password,\r\n      label: this.translateService.instant('step-deliver-to-ftp.passphrase'),\r\n      placeholder: this.translateService.instant('step-deliver-to-ftp.passphrase-placeholder'),\r\n      required: false,\r\n      substitutable: false,\r\n    });\r\n\r\n    this.fieldDocumentName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('step-deliver-to-email.document-name'),\r\n      placeholder: this.translateService.instant('step-deliver-to-email.document-name-placeholder'),\r\n      required: false,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userStateService),\r\n    });\r\n\r\n    this.fieldDeliveryFormat = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('workflow-step.delivery-format'),\r\n      placeholder: '',\r\n      datasource: new DeliveryFormatsDataSource(this.translateService, this.userStateService),\r\n      required: true,\r\n    });\r\n\r\n    const ftpSecurityTypes: IFieldOptions[] = [\r\n      { value: '1', name: this.translateService.instant('step-deliver-to-ftp.security-type-tls') },\r\n      { value: '2', name: this.translateService.instant('step-deliver-to-ftp.security-type-ssl') },\r\n      { value: '3', name: this.translateService.instant('step-deliver-to-ftp.security-type-implicit') },\r\n    ];\r\n\r\n    this.fieldSecurityType = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('step-deliver-to-ftp.connection-type'),\r\n      placeholder: '',\r\n      datasource: new FixedDataSource(ftpSecurityTypes),\r\n      required: true,\r\n    });\r\n  };\r\n\r\n  ftpTypeChanged = (value: string): void => {\r\n    this.deliverToFtpStep.ftpServerType = value;\r\n  };\r\n\r\n  onPPKFileSelected = (evt: any): void => {\r\n    if (this.ppkFileInput.files.length == 0) return;\r\n    this.readFile(this.ppkFileInput.files[0]);\r\n    this.deliverToFtpStep.ppkFilename = this.ppkFileInput.files[0].name;\r\n  };\r\n\r\n  public onFilesDropped = (event: FileDropEvent): void => {\r\n    if (event.files.length == 0) return;\r\n    this.readFile(event.files[0]);\r\n    this.deliverToFtpStep.ppkFilename = event.files[0].name;\r\n  };\r\n\r\n  getPPKFilename = (): string => {\r\n    if (this.deliverToFtpStep.ppkFilename) return this.deliverToFtpStep.ppkFilename;\r\n\r\n    return this.translateService.instant('step-deliver-to-ftp.no-ppk-file-selected');\r\n  };\r\n\r\n  readFile = (file: File): void => {\r\n    this.deliverToFtpStep.ppkFileBase64 = null;\r\n    const reader = new FileReader();\r\n    reader.onload = (event: any) => {\r\n      this.deliverToFtpStep.ppkFileBase64 = event.target.result.split(',')[1];\r\n    };\r\n\r\n    reader.readAsDataURL(file);\r\n  };\r\n}\r\n","<div class=\"deliver-to-ftp-general container-fluid\">\r\n  <div class=\"row\">\r\n    <div class=\"col-3\">\r\n      <app-field\r\n        [field]=\"fieldType\"\r\n        [(value)]=\"deliverToFtpStep.ftpServerType\"\r\n        (blur)=\"ftpTypeChanged($event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldAddress\" [(value)]=\"deliverToFtpStep.address\"></app-field>\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldPort\" [(value)]=\"deliverToFtpStepPort\"></app-field>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldUsername\" [(value)]=\"deliverToFtpStep.username\"></app-field>\r\n    </div>\r\n\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldPassword\" [(value)]=\"deliverToFtpStep.password\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div [hidden]=\"deliverToFtpStep.ftpServerType !== 'sftp'\">\r\n    <div class=\"row\">\r\n      <div class=\"col-3\">\r\n        <app-checkbox [(value)]=\"deliverToFtpStep.usePPKFile\" label=\"step-deliver-to-ftp.ppk-file\"></app-checkbox>\r\n      </div>\r\n      <div class=\"col-9\">\r\n        <hr />\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <div class=\"col-12\">\r\n          <span class=\"file-item w-100 text-truncate\" [title]=\"getPPKFilename()\">\r\n            {{ getPPKFilename() }}\r\n          </span>\r\n        </div>\r\n        <div class=\"col-12\">\r\n          <app-field\r\n            [disabled]=\"!deliverToFtpStep.usePPKFile\"\r\n            [field]=\"fieldPPKPassphrase\"\r\n            [(value)]=\"deliverToFtpStep.ppkPassphrase\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <div class=\"ngx-file-drop__drop-zone\">\r\n          <div class=\"w-100 h-100\" (appDropZone)=\"onFilesDropped($event)\">\r\n            <div style=\"text-align: center\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                  <input\r\n                    [disabled]=\"!deliverToFtpStep.usePPKFile\"\r\n                    type=\"file\"\r\n                    accept=\".ppk\"\r\n                    #ppkFile\r\n                    style=\"display: none\"\r\n                    (change)=\"onPPKFileSelected($event)\"\r\n                  />\r\n                  <button\r\n                    [disabled]=\"!deliverToFtpStep.usePPKFile\"\r\n                    class=\"btn btn-info btn-minwidth choose-file-button\"\r\n                    (click)=\"ppkFile.click()\"\r\n                  >\r\n                    {{ 'FileUpload.ChooseFile' | translate }}\r\n                  </button>\r\n                  <span>{{ 'step-deliver-to-ftp.ppk-file-instructions' | translate }} </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <hr />\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"deliverToFtpStep.ftpServerType === 'ftps'\">\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field [field]=\"fieldSecurityType\" [(value)]=\"deliverToFtpStepSecurityType\"></app-field>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-checkbox\r\n          [(value)]=\"deliverToFtpStep.allowInvalidCertificates\"\r\n          label=\"step-deliver-to-ftp.allow-invalid-certificate\"\r\n        ></app-checkbox>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf=\"deliverToFtpStep.ftpServerType !== 'sftp'\" class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-checkbox\r\n        [(value)]=\"deliverToFtpStep.passiveTransfer\"\r\n        label=\"step-deliver-to-ftp.passive-transfer\"\r\n      ></app-checkbox>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldDocumentName\" [(value)]=\"deliverToFtpStep.documentName\"></app-field>\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldDeliveryFormat\" [(value)]=\"deliverToFtpStep.finalFormCode\"></app-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Tab } from 'shared-code-lib';\r\nimport { DeliverToFtpWorkflowStep } from '../../../../app/blocks/models/workflow-step';\r\nimport { ExportMetaData } from '../models/export-metadata';\r\n\r\n@Component({\r\n  selector: 'app-step-deliver-to-ftp',\r\n  templateUrl: './step-deliver-to-ftp.component.html',\r\n  styleUrls: ['./step-deliver-to-ftp.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliverToFtpComponent implements OnInit {\r\n  @Input() deliverToFtpStep: DeliverToFtpWorkflowStep;\r\n  @Input() workflowId: string;\r\n\r\n  activeTab = 'general';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.tabs.push(new Tab('general', this.translate.instant('step-deliver.general')));\r\n    this.tabs.push(new Tab('export-metadata', this.translate.instant('step-deliver.export-metadata')));\r\n  }\r\n\r\n  activateTab = (view: string): void => {\r\n    this.activeTab = view;\r\n  };\r\n\r\n  onMetaDataTypeChanged(exportMetaData: ExportMetaData): void {\r\n    this.deliverToFtpStep.exportMetaData = exportMetaData;\r\n  }\r\n}\r\n","<div class=\"deliver-to-ftp container-fluid\">\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'general' === activeTab\">\r\n      <app-step-deliver-to-ftp-general [deliverToFtpStep]=\"deliverToFtpStep\"></app-step-deliver-to-ftp-general>\r\n    </div>\r\n    <div *ngIf=\"'export-metadata' === activeTab\">\r\n      <app-export-metadata\r\n        [exportMetaData]=\"deliverToFtpStep.exportMetaData\"\r\n        [workflowId]=\"workflowId\"\r\n        (metaDataTypeChanged)=\"onMetaDataTypeChanged($event)\"\r\n      ></app-export-metadata>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { EnumDataSource, FieldDefinition, MetadataIntellisenseDatasource, MetaDataType } from 'shared-code-lib';\r\nimport { DeliverToInterFAXWorkflowStep, Rendering, Resolution, Scaling } from '../../../blocks/models/workflow-step';\r\nimport { ProxyApiService } from '../../../blocks/services/proxy-api.service';\r\nimport { SpinnerStateService } from '../../../blocks/services/spinner-state.service';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-deliver-to-interfax',\r\n  templateUrl: './step-deliver-to-interfax.component.html',\r\n  styleUrls: ['./step-deliver-to-interfax.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliverToInterFAXComponent implements OnInit {\r\n  @Input() step: Step;\r\n  @Input() modalElement;\r\n\r\n  fieldUsername: FieldDefinition;\r\n  fieldPassword: FieldDefinition;\r\n  fieldFaxNumber: FieldDefinition;\r\n  fieldCSID: FieldDefinition;\r\n  fieldTopLine: FieldDefinition;\r\n  fieldRetryCount: FieldDefinition;\r\n  fieldScaling: FieldDefinition;\r\n  fieldResolution: FieldDefinition;\r\n  fieldRendering: FieldDefinition;\r\n\r\n  deliverToInterFAX: DeliverToInterFAXWorkflowStep;\r\n\r\n  get deliverToInterFAXRetryCount() {\r\n    return `${this.deliverToInterFAX.retryCount}`;\r\n  }\r\n  set deliverToInterFAXRetryCount(val: string) {\r\n    this.deliverToInterFAX.retryCount = Number(val);\r\n  }\r\n  get deliverToInterFAXScaling() {\r\n    return `${this.deliverToInterFAX.scaling}`;\r\n  }\r\n  set deliverToInterFAXScaling(val: string) {\r\n    this.deliverToInterFAX.scaling = Number(val);\r\n  }\r\n  get deliverToInterFAXResolution() {\r\n    return `${this.deliverToInterFAX.resolution}`;\r\n  }\r\n  set deliverToInterFAXResolution(val: string) {\r\n    this.deliverToInterFAX.resolution = Number(val);\r\n  }\r\n  get deliverToInterFAXRendering() {\r\n    return `${this.deliverToInterFAX.rendering}`;\r\n  }\r\n  set deliverToInterFAXRendering(val: string) {\r\n    this.deliverToInterFAX.rendering = Number(val);\r\n  }\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private proxy: ProxyApiService,\r\n    private spinner: SpinnerStateService,\r\n    private toastr: ToastrService,\r\n    private userStateService: UserStateService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.deliverToInterFAX = <DeliverToInterFAXWorkflowStep>this.step.workflowStep;\r\n\r\n    this.createFields();\r\n  }\r\n\r\n  createFields = () => {\r\n    this.fieldUsername = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-deliver-to-interfax.username'),\r\n      placeholder: this.translate.instant('step-deliver-to-interfax.username-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldFaxNumber = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-deliver-to-interfax.fax-number'),\r\n      placeholder: this.translate.instant('step-deliver-to-interfax.fax-number-placeholder'),\r\n      required: true,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userStateService),\r\n    });\r\n\r\n    this.fieldPassword = new FieldDefinition({\r\n      type: MetaDataType.Password,\r\n      label: this.translate.instant('step-deliver-to-interfax.password'),\r\n      placeholder: this.translate.instant('step-deliver-to-interfax.password-placeholder'),\r\n    });\r\n\r\n    this.fieldCSID = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-deliver-to-interfax.csid'),\r\n      placeholder: this.translate.instant('step-deliver-to-interfax.csid-placeholder'),\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userStateService),\r\n    });\r\n\r\n    this.fieldTopLine = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-deliver-to-interfax.top-line'),\r\n      placeholder: this.translate.instant('step-deliver-to-interfax.top-line-placeholder'),\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userStateService),\r\n    });\r\n\r\n    this.fieldRetryCount = new FieldDefinition({\r\n      type: MetaDataType.Integer,\r\n      label: this.translate.instant('step-deliver-to-interfax.retry-count'),\r\n      placeholder: this.translate.instant('step-deliver-to-interfax.retry-count-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldScaling = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-deliver-to-interfax.scaling'),\r\n      datasource: new EnumDataSource(Scaling, 'ScalingEnum', this.translate),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldResolution = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-deliver-to-interfax.resolution'),\r\n      datasource: new EnumDataSource(Resolution, 'ResolutionEnum', this.translate),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldRendering = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-deliver-to-interfax.rendering'),\r\n      datasource: new EnumDataSource(Rendering, 'RenderingEnum', this.translate),\r\n      required: true,\r\n    });\r\n  };\r\n\r\n  checkInterFAXConnectivity() {\r\n    this.spinner.show(\r\n      this.translate.instant('step-deliver-to-interfax.checking-connectivity'),\r\n      this.modalElement.nsmContent.nativeElement\r\n    );\r\n\r\n    this.proxy.checkInterFAXConnectivity(\r\n      this.deliverToInterFAX.username,\r\n      this.deliverToInterFAX.password,\r\n      () => {\r\n        this.spinner.hide();\r\n        this.toastr.success(this.translate.instant('step-deliver-to-interfax.connectivity-succeeded'));\r\n      },\r\n      (err) => {\r\n        this.spinner.hide();\r\n        this.toastr.error(this.translate.instant('step-deliver-to-interfax.connectivity-failed'));\r\n      }\r\n    );\r\n  }\r\n}\r\n","<div class=\"step-delivery-to-interfax container-fluid\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldUsername\" [(value)]=\"deliverToInterFAX.username\"></app-field>\r\n    </div>\r\n\r\n    <div class=\"col-6\">\r\n      <button type=\"button\" class=\"btn btn-minwidth check\" (click)=\"checkInterFAXConnectivity()\">\r\n        {{ 'step-deliver-to-interfax.check-connectivity' | translate }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldPassword\" [(value)]=\"deliverToInterFAX.password\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <hr />\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldFaxNumber\" [(value)]=\"deliverToInterFAX.faxNumber\" [maxLength]=\"20\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldCSID\" [(value)]=\"deliverToInterFAX.csid\"></app-field>\r\n    </div>\r\n\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldTopLine\" [(value)]=\"deliverToInterFAX.topLine\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldRetryCount\" [(value)]=\"deliverToInterFAXRetryCount\"></app-field>\r\n    </div>\r\n\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldScaling\" [(value)]=\"deliverToInterFAXScaling\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldResolution\" [(value)]=\"deliverToInterFAXResolution\"></app-field>\r\n    </div>\r\n\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldRendering\" [(value)]=\"deliverToInterFAXRendering\"></app-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport {\r\n  DeliveryFormatsDataSource,\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  IFieldOptions,\r\n  MetadataIntellisenseDatasource,\r\n  MetaDataType,\r\n} from 'shared-code-lib';\r\nimport { DeliverToAWSS3WorkflowStep } from '../../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-step-deliver-to-s3-general',\r\n  templateUrl: './step-deliver-to-s3-general.component.html',\r\n  styleUrls: ['./step-deliver-to-s3-general.component.scss'],\r\n})\r\nexport class StepDeliverToS3GeneralComponent implements OnInit {\r\n  @Input() deliverToS3: DeliverToAWSS3WorkflowStep;\r\n\r\n  fieldAccessKey: FieldDefinition;\r\n  fieldSecret: FieldDefinition;\r\n  fieldBucketName: FieldDefinition;\r\n  fieldRegion: FieldDefinition;\r\n  fieldBaseFolder: FieldDefinition;\r\n  fieldDeliveryFormat: FieldDefinition;\r\n  fieldDocumentName: FieldDefinition;\r\n\r\n  constructor(private translateService: TranslateService, private userStateService: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.createFields();\r\n  }\r\n\r\n  createFields = () => {\r\n    const regions = new Array<IFieldOptions>();\r\n\r\n    const regionIds = [\r\n      'us-east-1',\r\n      'us-east-2',\r\n      'us-west-1',\r\n      'us-west-2',\r\n      'af-south-1',\r\n      'ap-east-1',\r\n      'ap-south-1',\r\n      'ap-northeast-2',\r\n      'ap-northeast-1',\r\n      'ap-northeast-3',\r\n      'ap-southeast-1',\r\n      'ap-southeast-2',\r\n      'ca-central-1',\r\n      'cn-north-1',\r\n      'cn-north-2',\r\n      'eu-central-1',\r\n      'eu-west-1',\r\n      'eu-west-2',\r\n      'eu-south-1',\r\n      'eu-west-3',\r\n      'eu-north-1',\r\n      'me-south-1',\r\n      'sa-east-1',\r\n      'us-gov-east-1',\r\n      'us-gov-west-1',\r\n    ];\r\n\r\n    for (const id of regionIds) {\r\n      regions.push({ name: id, value: id });\r\n    }\r\n\r\n    this.fieldAccessKey = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('step-deliver-to-s3.access-key'),\r\n      placeholder: this.translateService.instant('step-deliver-to-s3.access-key-placeholder'),\r\n      required: true,\r\n      substitutable: false,\r\n    });\r\n\r\n    this.fieldSecret = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('step-deliver-to-s3.secret'),\r\n      placeholder: this.translateService.instant('step-deliver-to-s3.secret-placeholder'),\r\n      required: true,\r\n      substitutable: false,\r\n    });\r\n\r\n    this.fieldBucketName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('step-deliver-to-s3.bucket-name'),\r\n      placeholder: this.translateService.instant('step-deliver-to-s3.bucket-name-placeholder'),\r\n      required: true,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userStateService),\r\n    });\r\n\r\n    this.fieldBaseFolder = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('step-deliver-to-s3.base-folder'),\r\n      placeholder: this.translateService.instant('step-deliver-to-s3.base-folder-placeholder'),\r\n      required: false,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userStateService),\r\n    });\r\n\r\n    this.fieldDocumentName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('step-deliver-to-email.document-name'),\r\n      placeholder: this.translateService.instant('step-deliver-to-email.document-name-placeholder'),\r\n      required: false,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userStateService),\r\n    });\r\n\r\n    this.fieldDeliveryFormat = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('workflow-step.delivery-format'),\r\n      placeholder: '',\r\n      datasource: new DeliveryFormatsDataSource(this.translateService, this.userStateService),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldRegion = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('step-deliver-to-s3.region'),\r\n      placeholder: '',\r\n      datasource: new FixedDataSource(regions),\r\n      required: true,\r\n    });\r\n  };\r\n}\r\n","<div class=\"step-delivery-to-s3-general container-fluid\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldAccessKey\" [(value)]=\"deliverToS3.accessKey\"></app-field>\r\n    </div>\r\n\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldSecret\" [(value)]=\"deliverToS3.secret\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldBucketName\" [(value)]=\"deliverToS3.bucketName\"></app-field>\r\n    </div>\r\n\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldBaseFolder\" [(value)]=\"deliverToS3.baseFolder\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldRegion\" [(value)]=\"deliverToS3.region\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldDocumentName\" [(value)]=\"deliverToS3.documentName\"></app-field>\r\n    </div>\r\n\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldDeliveryFormat\" [(value)]=\"deliverToS3.finalFormCode\"></app-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Tab } from '../../../../../../../Bamba.Shared/src/form/tab-bar/tab-bar.component';\r\nimport { DeliverToAWSS3WorkflowStep } from '../../../../app/blocks/models/workflow-step';\r\nimport { ExportMetaData } from '../models/export-metadata';\r\n\r\n@Component({\r\n  selector: 'app-step-deliver-to-s3',\r\n  templateUrl: './step-deliver-to-s3.component.html',\r\n  styleUrls: ['./step-deliver-to-s3.component.scss'],\r\n})\r\nexport class StepDeliverToS3Component implements OnInit {\r\n  @Input() deliverToS3: DeliverToAWSS3WorkflowStep;\r\n  @Input() workflowId: string;\r\n\r\n  activeTab = 'general';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.tabs.push(new Tab('general', this.translate.instant('step-deliver.general')));\r\n    this.tabs.push(new Tab('export-metadata', this.translate.instant('step-deliver.export-metadata')));\r\n  }\r\n\r\n  activateTab = (view: string): void => {\r\n    this.activeTab = view;\r\n  };\r\n\r\n  onMetaDataTypeChanged(exportMetaData: ExportMetaData): void {\r\n    this.deliverToS3.exportMetaData = exportMetaData;\r\n  }\r\n}\r\n","<div class=\"step-delivery-to-s3 container-fluid\">\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'general' === activeTab\">\r\n      <app-step-deliver-to-s3-general [deliverToS3]=\"deliverToS3\"></app-step-deliver-to-s3-general>\r\n    </div>\r\n    <div *ngIf=\"'export-metadata' === activeTab\">\r\n      <app-export-metadata\r\n        [exportMetaData]=\"deliverToS3.exportMetaData\"\r\n        [workflowId]=\"workflowId\"\r\n        (metaDataTypeChanged)=\"onMetaDataTypeChanged($event)\"\r\n      ></app-export-metadata>\r\n    </div>\r\n  </div>\r\n</div>\r\n","export class SharePointFolder {\r\n  public id: string;\r\n  public url: string;\r\n  public name: string;\r\n  public documentLibraryId: string;\r\n  public folders: Array<SharePointFolder>;\r\n  public hasChildFolders: boolean;\r\n  public expanded: boolean;\r\n\r\n  constructor(id: string, url: string, documentLibraryId: string, name: string, hasChildFolders: boolean) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.url = url;\r\n    this.documentLibraryId = documentLibraryId;\r\n    this.hasChildFolders = hasChildFolders;\r\n    this.expanded = false;\r\n  }\r\n\r\n  findFolder(id: string): SharePointFolder {\r\n    if (this.id === id) return this;\r\n\r\n    for (let f of this.folders) {\r\n      const foundFolder = f.findFolder(id);\r\n      if (foundFolder) return foundFolder;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  findParentIds(id: string): Array<string> {\r\n    if (id === this.id) {\r\n      const parentIds = new Array<string>();\r\n      parentIds.push(this.id);\r\n      return parentIds;\r\n    }\r\n\r\n    if (this.folders) {\r\n      for (let f of this.folders) {\r\n        const parentIds = f.findParentIds(id);\r\n        if (parentIds) {\r\n          parentIds.unshift(this.id);\r\n          return parentIds;\r\n        }\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { DelayService } from 'shared-code-lib';\r\nimport { DeliverToSharePoint365WorkflowStep } from '../../../../blocks/models/workflow-step';\r\nimport { SharePointService } from '../../../../blocks/services/sharepoint.service';\r\nimport { SharePointFolder } from '../models/sharepoint-folder';\r\nimport { SharePointFolderResult } from '../models/sharepoint-folders-result';\r\n\r\n@Component({\r\n  selector: 'app-sharepoint-folder',\r\n  templateUrl: './sharepoint-folder.component.html',\r\n  styleUrls: ['./sharepoint-folder.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class SharePointFolderComponent implements OnInit, OnDestroy {\r\n  @Input() folder: SharePointFolder;\r\n  @Input() deliverToSharePoint365: DeliverToSharePoint365WorkflowStep;\r\n\r\n  isExpanded: boolean = false;\r\n  selectedFolder: SharePointFolder;\r\n  subscriptions: Subscription;\r\n\r\n  constructor(private http: HttpClient, private sharePointService: SharePointService, private delay: DelayService) {\r\n    this.subscriptions = new Subscription();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscriptions.add(\r\n      this.sharePointService.onSelectFolder.subscribe((folder: SharePointFolder) => {\r\n        this.selectedFolder = folder;\r\n      })\r\n    );\r\n\r\n    this.subscriptions.add(\r\n      this.sharePointService.onExpandAndSelect.subscribe((selectionInfo: any) => {\r\n        if (!selectionInfo || !selectionInfo.folderIds || selectionInfo.folderIds.length === 0) return;\r\n        if (selectionInfo.folderIds[selectionInfo.levelIndex] !== this.folder.id) return;\r\n\r\n        this.expandAndSelect(selectionInfo);\r\n      })\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  toggleExpand(): Promise<void> {\r\n    return new Promise((resolve, reject) => {\r\n      this.isExpanded = !this.isExpanded;\r\n      this.folder.expanded = this.isExpanded;\r\n\r\n      if (this.isExpanded && !this.folder.folders) {\r\n        this.loadChildFolders().then(() => {\r\n          resolve();\r\n        });\r\n      } else {\r\n        resolve();\r\n      }\r\n    });\r\n  }\r\n\r\n  isSelected() {\r\n    return this.selectedFolder && this.selectedFolder.id === this.folder.id;\r\n  }\r\n\r\n  loadChildFolders(): Promise<void> {\r\n    return new Promise((resolve, reject) => {\r\n      this.folder.folders = [];\r\n      const component = this;\r\n      this.sharePointService.showSpinner(true);\r\n      this.sharePointService.getFolderChildren(\r\n        this.deliverToSharePoint365,\r\n        this.folder.id,\r\n        (result: SharePointFolderResult) => {\r\n          this.sharePointService.showSpinner(false);\r\n          if (result.succeeded) {\r\n            for (const folder of result.folders) {\r\n              let sharePointFolder = new SharePointFolder(\r\n                folder.id,\r\n                folder.url,\r\n                this.folder.documentLibraryId,\r\n                folder.name,\r\n                folder.hasChildFolders\r\n              );\r\n\r\n              component.folder.folders.push(sharePointFolder);\r\n              component.folder.expanded = true;\r\n            }\r\n            this.sharePointService.showSpinner(false);\r\n            resolve();\r\n          } else {\r\n            this.sharePointService.showSpinner(false);\r\n            this.sharePointService.showWarningMessage(result.error);\r\n            reject();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.sharePointService.showSpinner(false);\r\n          this.sharePointService.showWarningMessage(err.error);\r\n          reject();\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  onSelectFolder(event: Event) {\r\n    this.sharePointService.selectedFolder(this.folder);\r\n  }\r\n\r\n  expandAndSelect(selectionInfo: any) {\r\n    if (selectionInfo.levelIndex === selectionInfo.folderIds.length - 1) {\r\n      this.sharePointService.selectedFolder(this.folder);\r\n      return;\r\n    }\r\n\r\n    if (selectionInfo.levelIndex > selectionInfo.folderIds.length - 1) return;\r\n\r\n    if (!this.folder.expanded) {\r\n      this.toggleExpand().then(() => {\r\n        if (!this.folder.folders) return;\r\n\r\n        selectionInfo.levelIndex++;\r\n        for (const folder of this.folder.folders) {\r\n          if (\r\n            selectionInfo.levelIndex === selectionInfo.folderIds.length - 1 &&\r\n            selectionInfo.folderIds[selectionInfo.folderIds.length - 1] == folder.id\r\n          ) {\r\n            this.delay.execute(() => {\r\n              this.sharePointService.selectedFolder(folder);\r\n            }, 100);\r\n            return;\r\n          }\r\n\r\n          this.delay.execute(() => {\r\n            this.sharePointService.expandAndSelect(selectionInfo);\r\n          }, 100);\r\n          return;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n","<div\r\n  class=\"folder\"\r\n  [ngClass]=\"{\r\n    selected: isSelected()\r\n  }\"\r\n>\r\n  <div class=\"_folder d-flex align-items-center text-truncate pl-2\">\r\n    <i\r\n      [ngClass]=\"{\r\n        'icon-play3': folder.hasChildFolders,\r\n        'empty-icon': !folder.hasChildFolders,\r\n        'minus-icon': isExpanded,\r\n        'plus-icon': !isExpanded\r\n      }\"\r\n      (click)=\"toggleExpand()\"\r\n    >\r\n    </i>\r\n    <div\r\n      class=\"selection-wrapper col d-flex justify-content-between align-items-center\"\r\n      (click)=\"onSelectFolder($event)\"\r\n    >\r\n      <div class=\"justify-content-start\">\r\n        <i\r\n          [ngClass]=\"{\r\n            'icon-folder-open': isExpanded,\r\n            'icon-folder': !isExpanded,\r\n            'folder-icon': true\r\n          }\"\r\n        >\r\n        </i>\r\n        <span class=\"name m-0 mr-1\">{{ folder.name }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <ul\r\n    class=\"sharepoint-child-folders\"\r\n    [class.expanded]=\"isExpanded\"\r\n    [ngClass]=\"{\r\n      expanded: isExpanded\r\n    }\"\r\n  >\r\n    <li *ngFor=\"let childFolder of folder.folders\">\r\n      <app-sharepoint-folder\r\n        [folder]=\"childFolder\"\r\n        [deliverToSharePoint365]=\"deliverToSharePoint365\"\r\n      ></app-sharepoint-folder>\r\n    </li>\r\n  </ul>\r\n</div>\r\n","import { HttpClient } from '@angular/common/http';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Subscription } from 'rxjs';\r\nimport {\r\n  DelayService,\r\n  DeliveryFormatsDataSource,\r\n  FieldDefinition,\r\n  IMetaData,\r\n  MetaDataCollection,\r\n  MetaDataType,\r\n  MetaDataValidity,\r\n  MetaDataValueType,\r\n} from 'shared-code-lib';\r\nimport { FileBoundFields, FileBoundProjectField } from '../../../../blocks/models/filebound';\r\nimport { DeliverToSharePoint365WorkflowStep } from '../../../../blocks/models/workflow-step';\r\nimport { SharePointService } from '../../../../blocks/services/sharepoint.service';\r\nimport { SpinnerStateService } from '../../../../blocks/services/spinner-state.service';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\nimport { StepMetaDataMappingComponent } from '../../components/step-metadata-mapping/step-metadata-mapping.component';\r\nimport { DocumentFieldMapping } from '../../models/document-field-mapping';\r\nimport { SharePointFieldsResult } from './../models/sharepoint-fields-result';\r\nimport { SharePointFolder } from './../models/sharepoint-folder';\r\nimport { SharePointFolderResult } from './../models/sharepoint-folders-result';\r\n\r\n@Component({\r\n  selector: 'app-step-deliver-to-sharepoint365-general',\r\n  templateUrl: './step-deliver-to-sharepoint365-general.component.html',\r\n  styleUrls: ['./step-deliver-to-sharepoint365-general.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliverToSharepoint365GeneralComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() deliverToSharePoint365: DeliverToSharePoint365WorkflowStep;\r\n  @Output() folderSelected: EventEmitter<SharePointFolder> = new EventEmitter<SharePointFolder>();\r\n  @Output() startLoading: EventEmitter<string> = new EventEmitter<string>();\r\n  @Output() finishedLoading: EventEmitter<any> = new EventEmitter();\r\n  @ViewChild(StepMetaDataMappingComponent, { static: true })\r\n  stepMetaDataMapping: StepMetaDataMappingComponent;\r\n\r\n  fieldSharePointSiteUrl: FieldDefinition;\r\n  fieldSharePointUsername: FieldDefinition;\r\n  fieldSharePointPassword: FieldDefinition;\r\n  fieldDeliveryFormat: FieldDefinition;\r\n  fieldDocumentName: FieldDefinition;\r\n\r\n  siteFolders: Array<SharePointFolder>;\r\n  hasFolderSelected: boolean;\r\n\r\n  subscriptions: Subscription;\r\n\r\n  selectedFolderId: string;\r\n\r\n  sharePointFields = new Array<FileBoundProjectField>();\r\n  documentFields = new Array<DocumentFieldMapping>();\r\n\r\n  constructor(\r\n    public translate: TranslateService,\r\n    private http: HttpClient,\r\n    private spinnerState: SpinnerStateService,\r\n    private sharePointService: SharePointService,\r\n    private userState: UserStateService,\r\n    private delay: DelayService,\r\n    private toastr: ToastrService,\r\n    private elementRef: ElementRef\r\n  ) {\r\n    this.subscriptions = new Subscription();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.createFields();\r\n\r\n    this.subscriptions.add(\r\n      this.sharePointService.onSelectFolder.subscribe((folder: SharePointFolder) => {\r\n        this.onSelectFolder(folder);\r\n      })\r\n    );\r\n\r\n    this.subscriptions.add(\r\n      this.sharePointService.onShowWarningMessage.subscribe((message: string) => {\r\n        this.showWarningMessage(message);\r\n      })\r\n    );\r\n\r\n    this.subscriptions.add(\r\n      this.sharePointService.onShowSpinner.subscribe((show: boolean) => {\r\n        this.showSpinner(show);\r\n      })\r\n    );\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (\r\n      this.deliverToSharePoint365.siteUrl &&\r\n      this.deliverToSharePoint365.sharePointUsername &&\r\n      this.deliverToSharePoint365.sharePointPassword\r\n    ) {\r\n      this.loadChildFolders()\r\n        .then(() => {\r\n          this.delay.execute(() => {\r\n            this.onLoadedFolders();\r\n          }, 100);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.showSpinner(false);\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  createFields = (): void => {\r\n    this.fieldSharePointSiteUrl = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-deliver-to-sharepoint.sharepoint-site-label'),\r\n      placeholder: this.translate.instant('step-deliver-to-sharepoint.sharepoint-site-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldSharePointUsername = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-delivery-filebound.username'),\r\n      placeholder: this.translate.instant('step-delivery-filebound.username-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldSharePointPassword = new FieldDefinition({\r\n      type: MetaDataType.Password,\r\n      label: this.translate.instant('step-delivery-filebound.password'),\r\n      placeholder: this.translate.instant('step-delivery-filebound.password-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldDeliveryFormat = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('workflow-step.delivery-format'),\r\n      placeholder: this.translate.instant('workflow-step.delivery-format-placeholder'),\r\n      datasource: new DeliveryFormatsDataSource(this.translate, this.userState),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldDocumentName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: '',\r\n      placeholder: '',\r\n      required: false,\r\n    });\r\n\r\n    this.documentFields.push(\r\n      new DocumentFieldMapping('SharePointDocumentName', 'step-delivery-filebound.document-name', true)\r\n    );\r\n  };\r\n\r\n  onSiteUrlChanged = (siteUrl: string): void => {\r\n    this.deliverToSharePoint365.siteUrl = siteUrl;\r\n    this.startFolderLoad();\r\n  };\r\n\r\n  onUsernameChanged = (username: string): void => {\r\n    this.deliverToSharePoint365.sharePointUsername = username;\r\n    this.startFolderLoad();\r\n  };\r\n\r\n  onPasswordChanged = (password: string): void => {\r\n    this.deliverToSharePoint365.sharePointPassword = password;\r\n    this.startFolderLoad();\r\n  };\r\n\r\n  getSharePointDocumentName = (): string => {\r\n    return this.getMetaData(FileBoundFields.FileBoundDocumentName);\r\n  };\r\n\r\n  onSharePointDocumentChanged = (value: string): void => {\r\n    this.deliverToSharePoint365.mappings.set(FileBoundFields.FileBoundDocumentName, value, MetaDataValidity.valid);\r\n  };\r\n\r\n  getFolderPath = (): string => {\r\n    if (this.deliverToSharePoint365.folderUrl) return this.deliverToSharePoint365.folderUrl;\r\n\r\n    return this.translate.instant('step-deliver-to-sharepoint.no-deliver-to-folder-selected');\r\n  };\r\n\r\n  getMetaData = (name: string, mappings: MetaDataCollection = null): string => {\r\n    if (!mappings) mappings = this.deliverToSharePoint365.mappings;\r\n\r\n    const md: IMetaData = mappings.get(name);\r\n    if (!md) return '';\r\n\r\n    if (md.valueType == MetaDataValueType.String) return <string>md.value;\r\n\r\n    return '';\r\n  };\r\n\r\n  startFolderLoad(): void {\r\n    this.clearSelectedFolder();\r\n    this.loadChildFolders().then(() => {\r\n      this.onLoadedFolders();\r\n    });\r\n  }\r\n\r\n  clearSelectedFolder(): void {\r\n    this.deliverToSharePoint365.folderUrl = '';\r\n  }\r\n\r\n  onSelectFolder(folder: SharePointFolder): void {\r\n    this.deliverToSharePoint365.folderUrl = folder.url;\r\n    this.deliverToSharePoint365.pathFolderIds = this.getPathFolderIds(folder.id);\r\n    this.loadFields(folder);\r\n  }\r\n\r\n  getPathFolderIds(id: string): Array<string> {\r\n    for (let f of this.siteFolders) {\r\n      const parentIds = f.findParentIds(id);\r\n      if (parentIds) return parentIds;\r\n    }\r\n\r\n    return new Array<string>();\r\n  }\r\n\r\n  onLoadedFolders(): void {\r\n    if (!this.deliverToSharePoint365.pathFolderIds || this.deliverToSharePoint365.pathFolderIds.length === 0) return;\r\n\r\n    this.delay.execute(() => {\r\n      this.sharePointService.expandAndSelect({ folderIds: this.deliverToSharePoint365.pathFolderIds, levelIndex: 0 });\r\n    }, 100);\r\n  }\r\n\r\n  loadChildFolders(): Promise<void> {\r\n    return new Promise<void>((resolve, reject) => {\r\n      this.siteFolders = [];\r\n\r\n      if (\r\n        !this.deliverToSharePoint365.siteUrl ||\r\n        !this.deliverToSharePoint365.sharePointUsername ||\r\n        !this.deliverToSharePoint365.sharePointPassword\r\n      ) {\r\n        this.clearSelectedFolder();\r\n        reject();\r\n        return;\r\n      }\r\n\r\n      this.showSpinner(true);\r\n\r\n      this.sharePointService.getSiteDocumentLibraries(\r\n        this.deliverToSharePoint365,\r\n        (result: SharePointFolderResult) => {\r\n          this.showSpinner(false);\r\n          if (result.succeeded) {\r\n            const documentLibraryFolders = result.folders.map(\r\n              (f) => new SharePointFolder(f.id, f.url, f.documentLibraryId, f.name, f.hasChildFolders)\r\n            );\r\n\r\n            this.siteFolders = documentLibraryFolders;\r\n            resolve();\r\n          } else {\r\n            this.showWarningMessage(result.error);\r\n            this.clearSelectedFolder();\r\n            reject();\r\n          }\r\n        },\r\n        (err) => {\r\n          this.showSpinner(false);\r\n          this.showWarningMessage(err.error);\r\n          this.clearSelectedFolder();\r\n          reject();\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  loadFields(folder: SharePointFolder): void {\r\n    this.sharePointFields = [];\r\n    this.showSpinner(true);\r\n    this.sharePointService.getDocumentLibraryFields(\r\n      this.deliverToSharePoint365,\r\n      folder.documentLibraryId,\r\n      (result: SharePointFieldsResult) => {\r\n        this.showSpinner(false);\r\n        if (result.succeeded) {\r\n          this.sharePointFields = result.fields.map((f) => new FileBoundProjectField(f, '0'));\r\n          this.deliverToSharePoint365.fieldNames = result.fields;\r\n          this.delay.execute(() => {\r\n            this.stepMetaDataMapping.autoMapFields();\r\n          }, 100);\r\n        } else {\r\n          this.showWarningMessage(result.error);\r\n        }\r\n      },\r\n      (err) => {\r\n        this.showSpinner(false);\r\n        this.showWarningMessage(err.error);\r\n      }\r\n    );\r\n  }\r\n\r\n  showWarningMessage(message: string): void {\r\n    const sharePointBaseError = this.translate.instant('step-deliver-to-sharepoint.sharepoint-request-failed');\r\n    const fullMessage = `${sharePointBaseError} ${message}`;\r\n    this.toastr.warning(fullMessage);\r\n  }\r\n\r\n  showSpinner(show: boolean): void {\r\n    if (show) {\r\n      this.startLoading.emit('folder.loading');\r\n      return;\r\n    }\r\n\r\n    this.finishedLoading.emit();\r\n  }\r\n}\r\n","<div class=\"deliver-to-sharepoint365-general container-fluid\" appAutoFocusFirstInput w-100>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <app-field\r\n        [field]=\"fieldSharePointSiteUrl\"\r\n        [(value)]=\"deliverToSharePoint365.siteUrl\"\r\n        (blur)=\"onSiteUrlChanged($event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field\r\n        [field]=\"fieldSharePointUsername\"\r\n        [(value)]=\"deliverToSharePoint365.sharePointUsername\"\r\n        (blur)=\"onUsernameChanged($event)\"\r\n      ></app-field>\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <app-field\r\n        [field]=\"fieldSharePointPassword\"\r\n        [(value)]=\"deliverToSharePoint365.sharePointPassword\"\r\n        (blur)=\"onPasswordChanged($event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" w-100>\r\n    <div class=\"col-6\" w-100>\r\n      <app-label\r\n        [localize]=\"true\"\r\n        [required]=\"true\"\r\n        [text]=\"'step-deliver-to-sharepoint.sharepoint-deliver-folder'\"\r\n      ></app-label>\r\n    </div>\r\n  </div>\r\n  <div class=\"sharepoint-folders\">\r\n    <div class=\"scrollable-section pb-2\" fxFlex=\"auto\" [perfectScrollbar]=\"{}\" tabindex=\"0\">\r\n      <app-sharepoint-folder\r\n        *ngFor=\"let folder of siteFolders\"\r\n        [folder]=\"folder\"\r\n        [deliverToSharePoint365]=\"deliverToSharePoint365\"\r\n      ></app-sharepoint-folder>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldDeliveryFormat\" [(value)]=\"deliverToSharePoint365.finalFormCode\"></app-field>\r\n    </div>\r\n  </div>\r\n  <app-step-metadata-mapping\r\n    [documentFields]=\"documentFields\"\r\n    [mappings]=\"deliverToSharePoint365.mappings\"\r\n    [metaDataFields]=\"sharePointFields\"\r\n    [metaDataHeaderText]=\"'step-deliver-to-sharepoint.sharepoint-metadata'\"\r\n  >\r\n  </app-step-metadata-mapping>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Tab } from '../../../../../../../Bamba.Shared/src/form/tab-bar/tab-bar.component';\r\nimport { DeliverToSharePoint365WorkflowStep } from '../../../../app/blocks/models/workflow-step';\r\nimport { ExportMetaData } from '../models/export-metadata';\r\nimport { SharePointFolder } from './models/sharepoint-folder';\r\n\r\n@Component({\r\n  selector: 'app-step-deliver-to-sharepoint365',\r\n  templateUrl: './step-deliver-to-sharepoint365.component.html',\r\n  styleUrls: ['./step-deliver-to-sharepoint365.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliverToSharepoint365Component implements OnInit {\r\n  @Input() deliverToSharePoint365: DeliverToSharePoint365WorkflowStep;\r\n  @Input() workflowId: string;\r\n\r\n  @Output() folderSelected: EventEmitter<SharePointFolder> = new EventEmitter<SharePointFolder>();\r\n  @Output() startLoading: EventEmitter<string> = new EventEmitter<string>();\r\n  @Output() finishedLoading: EventEmitter<any> = new EventEmitter();\r\n\r\n  activeTab = 'general';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.tabs.push(new Tab('general', this.translate.instant('step-deliver.general')));\r\n    this.tabs.push(new Tab('export-metadata', this.translate.instant('step-deliver.export-metadata')));\r\n  }\r\n\r\n  activateTab = (view: string): void => {\r\n    this.activeTab = view;\r\n  };\r\n\r\n  onFolderSelected(event: SharePointFolder): void {\r\n    this.folderSelected.emit(event);\r\n  }\r\n\r\n  onStartLoading(event: string): void {\r\n    this.startLoading.emit(event);\r\n  }\r\n\r\n  onFinishedLoading(): void {\r\n    this.finishedLoading.emit();\r\n  }\r\n\r\n  onMetaDataTypeChanged(exportMetaData: ExportMetaData): void {\r\n    this.deliverToSharePoint365.exportMetaData = exportMetaData;\r\n  }\r\n}\r\n","<div class=\"deliver-to-sharepoint365 container-fluid\" w-100>\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'general' === activeTab\">\r\n      <app-step-deliver-to-sharepoint365-general\r\n        [deliverToSharePoint365]=\"deliverToSharePoint365\"\r\n        (folderSelected)=\"onFolderSelected($event)\"\r\n        (startLoading)=\"onStartLoading($event)\"\r\n        (finishedLoading)=\"onFinishedLoading()\"\r\n      ></app-step-deliver-to-sharepoint365-general>\r\n    </div>\r\n    <div *ngIf=\"'export-metadata' === activeTab\">\r\n      <app-export-metadata\r\n        [exportMetaData]=\"deliverToSharePoint365.exportMetaData\"\r\n        [workflowId]=\"workflowId\"\r\n        (metaDataTypeChanged)=\"onMetaDataTypeChanged($event)\"\r\n      ></app-export-metadata>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Subject } from 'rxjs';\r\n\r\nimport {\r\n  DelayService,\r\n  DeliveryFormatsDataSource,\r\n  FieldDefinition,\r\n  IFieldDataSource,\r\n  IFieldOptions,\r\n  MetaDataType,\r\n} from 'shared-code-lib';\r\nimport {\r\n  FileBoundFields,\r\n  FileBoundProject,\r\n  FileBoundProjectField,\r\n  FileBoundProjectFieldResult,\r\n  FileBoundProjectRoute,\r\n  IFileBoundRelatedProject,\r\n} from '../../../../blocks/models/filebound';\r\nimport { DeliverToFileBoundWorkflowStep } from '../../../../blocks/models/workflow-step';\r\nimport { ProxyApiService } from '../../../../blocks/services/proxy-api.service';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\nimport { StepMetaDataMappingComponent } from '../../components/step-metadata-mapping/step-metadata-mapping.component';\r\nimport { DocumentFieldMapping } from '../../models/document-field-mapping';\r\n\r\n@Component({\r\n  selector: 'app-step-delivery-filebound-general',\r\n  templateUrl: './step-delivery-filebound-general.component.html',\r\n  styleUrls: ['./step-delivery-filebound-general.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliveryFileboundGeneralComponent implements OnInit {\r\n  @Input() deliverToFileBound: DeliverToFileBoundWorkflowStep;\r\n\r\n  @ViewChild(StepMetaDataMappingComponent, { static: true })\r\n  stepMetaDataMapping: StepMetaDataMappingComponent;\r\n\r\n  fieldFileboundUrl: FieldDefinition;\r\n  fieldFileboundUsername: FieldDefinition;\r\n  fieldFileboundPassword: FieldDefinition;\r\n  fieldFileboundProject: FieldDefinition;\r\n  fieldFileboundRoute: FieldDefinition;\r\n  fieldFileboundFile: FieldDefinition;\r\n  fieldDeliveryFormat: FieldDefinition;\r\n\r\n  fileBoundProjectDataSource: FileBoundProjectDataSource;\r\n  fileBoundProjectRoutesDataSource: FileBoundProjectRoutesDataSource;\r\n\r\n  projectFields = new Array<FileBoundProjectField>();\r\n  lineitemFields = new Array<FileBoundProjectField>();\r\n  relatedProject: IFileBoundRelatedProject;\r\n  documentFields = new Array<DocumentFieldMapping>();\r\n\r\n  readonly allowedFormats = ['pdf', 'ocr.pdf', 'txt.pdf', 's.tif'];\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private proxy: ProxyApiService,\r\n    private userService: UserStateService,\r\n    private delay: DelayService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.fileBoundProjectDataSource = new FileBoundProjectDataSource(this.deliverToFileBound, this.proxy);\r\n    this.fileBoundProjectRoutesDataSource = new FileBoundProjectRoutesDataSource(\r\n      this.deliverToFileBound,\r\n      this.proxy,\r\n      this.translate\r\n    );\r\n\r\n    this.createFields();\r\n\r\n    if (this.deliverToFileBound.projectId) {\r\n      this.onProjectSelected(this.deliverToFileBound.projectId);\r\n    }\r\n  }\r\n\r\n  onLoadProjectsURLChanged = (url: string): void => {\r\n    this.deliverToFileBound.fileBoundURL = url;\r\n    this.fileBoundProjectDataSource.changed.next('');\r\n  };\r\n\r\n  onLoadProjectsUsernameChanged = (username: string): void => {\r\n    this.deliverToFileBound.username = username;\r\n    this.fileBoundProjectDataSource.changed.next('');\r\n  };\r\n\r\n  onLoadProjectsPasswordChanged = (password: string): void => {\r\n    this.deliverToFileBound.password = password;\r\n    this.fileBoundProjectDataSource.changed.next('');\r\n  };\r\n\r\n  onProjectSelected = (value: string): void => {\r\n    this.projectFields = [];\r\n\r\n    if (!value) return;\r\n    if (!this.deliverToFileBound.fileBoundURL) return;\r\n    if (!this.deliverToFileBound.username) return;\r\n\r\n    this.proxy.getFileBoundProjectFields(\r\n      this.deliverToFileBound.fileBoundURL,\r\n      this.deliverToFileBound.username,\r\n      this.deliverToFileBound.password,\r\n      value,\r\n      this.projectFieldsLoaded,\r\n      this.projectFieldsLoadFailed\r\n    );\r\n  };\r\n\r\n  onProjectChanged(): void {\r\n    this.fileBoundProjectRoutesDataSource.changed.next('');\r\n  }\r\n\r\n  projectFieldsLoaded = (results: FileBoundProjectFieldResult): void => {\r\n    if (this.documentFields && this.documentFields.length > 0) {\r\n      this.documentFields[0].enabled = results.project.enableSeparators;\r\n    }\r\n\r\n    this.deliverToFileBound.projectName = results.project.name;\r\n    this.projectFields = results.metaDataFields;\r\n    this.lineitemFields = results.lineItemFields;\r\n    this.relatedProject = results.relatedProject;\r\n\r\n    if (this.relatedProject) {\r\n      this.deliverToFileBound.lineItemProjectName = this.relatedProject.relatedProjectName;\r\n    } else {\r\n      this.deliverToFileBound.lineItemProjectName = '';\r\n      this.deliverToFileBound.lineItemMetaDataId = '';\r\n    }\r\n\r\n    this.delay.execute(this.stepMetaDataMapping.autoMapFields);\r\n  };\r\n\r\n  projectFieldsLoadFailed = (): void => {};\r\n\r\n  createFields = (): void => {\r\n    this.fieldFileboundUrl = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-delivery-filebound.url'),\r\n      placeholder: this.translate.instant('step-delivery-filebound.url-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldFileboundUsername = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-delivery-filebound.username'),\r\n      placeholder: this.translate.instant('step-delivery-filebound.username-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldFileboundPassword = new FieldDefinition({\r\n      type: MetaDataType.Password,\r\n      label: this.translate.instant('step-delivery-filebound.password'),\r\n      placeholder: this.translate.instant('step-delivery-filebound.password-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldFileboundProject = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-delivery-filebound.project'),\r\n      placeholder: this.translate.instant('step-delivery-filebound.project-placeholder'),\r\n      datasource: this.fileBoundProjectDataSource,\r\n      required: true,\r\n    });\r\n\r\n    this.fieldFileboundRoute = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-delivery-filebound.route'),\r\n      placeholder: this.translate.instant('step-delivery-filebound.route-placeholder'),\r\n      datasource: this.fileBoundProjectRoutesDataSource,\r\n      required: false,\r\n    });\r\n\r\n    this.fieldFileboundFile = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-delivery-filebound.file'),\r\n      placeholder: this.translate.instant('step-delivery-filebound.file-placeholder'),\r\n      datasource: new FileBoundProjectFilesDataSource(this.deliverToFileBound, this.proxy, this.translate),\r\n      required: false,\r\n    });\r\n\r\n    this.fieldDeliveryFormat = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('workflow-step.delivery-format'),\r\n      placeholder: this.translate.instant('workflow-step.delivery-format-placeholder'),\r\n      datasource: new DeliveryFormatsDataSource(this.translate, this.userService, this.allowedFormats),\r\n      required: true,\r\n    });\r\n\r\n    this.documentFields.push(\r\n      new DocumentFieldMapping(FileBoundFields.FileBoundSeparator, 'step-delivery-filebound.separator', false)\r\n    );\r\n    this.documentFields.push(\r\n      new DocumentFieldMapping(FileBoundFields.FileBoundDivider, 'step-delivery-filebound.divider', true)\r\n    );\r\n    this.documentFields.push(\r\n      new DocumentFieldMapping(FileBoundFields.FileBoundDocumentName, 'step-delivery-filebound.document-name', true)\r\n    );\r\n  };\r\n}\r\n\r\nclass FileBoundProjectDataSource implements IFieldDataSource {\r\n  changed = new Subject<any>();\r\n\r\n  constructor(public deliveryStep: DeliverToFileBoundWorkflowStep, private proxy: ProxyApiService) {}\r\n\r\n  getItems(\r\n    startsWith: string,\r\n    currentValue: string,\r\n    successCallBack: (items: IFieldOptions[]) => void,\r\n    failureCallBack: (err: any) => void\r\n  ): void {\r\n    if (!this.deliveryStep.fileBoundURL || !this.deliveryStep.username || !this.deliveryStep.password) {\r\n      failureCallBack(null);\r\n      return;\r\n    }\r\n\r\n    this.proxy.getFileBoundProjects(\r\n      this.deliveryStep.fileBoundURL,\r\n      this.deliveryStep.username,\r\n      this.deliveryStep.password,\r\n      (projects: Array<FileBoundProject>) => {\r\n        const items = new Array<IFieldOptions>();\r\n\r\n        for (const project of projects) {\r\n          const item = { name: project.name, value: project.id };\r\n          items.push(item);\r\n        }\r\n\r\n        successCallBack(items);\r\n      },\r\n      failureCallBack\r\n    );\r\n  }\r\n}\r\n\r\nclass FileBoundProjectRoutesDataSource implements IFieldDataSource {\r\n  changed = new Subject<any>();\r\n\r\n  constructor(\r\n    public deliveryStep: DeliverToFileBoundWorkflowStep,\r\n    private proxy: ProxyApiService,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  getItems(\r\n    startsWith: string,\r\n    currentValue: string,\r\n    successCallBack: (items: IFieldOptions[]) => void,\r\n    failureCallBack: (err: any) => void\r\n  ): void {\r\n    if (\r\n      !this.deliveryStep.fileBoundURL ||\r\n      !this.deliveryStep.username ||\r\n      !this.deliveryStep.password ||\r\n      !this.deliveryStep.projectId\r\n    ) {\r\n      failureCallBack(null);\r\n      return;\r\n    }\r\n\r\n    this.proxy.getFileBoundProjectRoutes(\r\n      this.deliveryStep.fileBoundURL,\r\n      this.deliveryStep.username,\r\n      this.deliveryStep.password,\r\n      this.deliveryStep.projectId,\r\n      (routes: Array<FileBoundProjectRoute>) => {\r\n        const items = new Array<IFieldOptions>();\r\n\r\n        items.push({ name: this.translate.instant('step-delivery-filebound.no-route-selected'), value: '' });\r\n\r\n        for (const route of routes) {\r\n          const item = { name: route.name, value: route.id };\r\n          items.push(item);\r\n        }\r\n\r\n        successCallBack(items);\r\n      },\r\n      failureCallBack\r\n    );\r\n  }\r\n}\r\n\r\nclass FileBoundProjectFilesDataSource implements IFieldDataSource {\r\n  changed = new Subject<any>();\r\n\r\n  constructor(\r\n    public deliveryStep: DeliverToFileBoundWorkflowStep,\r\n    private proxy: ProxyApiService,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  public projectId: string = '';\r\n\r\n  getItems(\r\n    startsWith: string,\r\n    currentValue: string,\r\n    successCallBack: (items: IFieldOptions[]) => void,\r\n    failureCallBack: (err: any) => void\r\n  ): void {\r\n    const items = new Array<IFieldOptions>();\r\n\r\n    items.push({ name: this.translate.instant('step-delivery-filebound.new-file'), value: '' });\r\n\r\n    successCallBack(items);\r\n  }\r\n}\r\n","<div class=\"step-delivery-filebound-general container-fluid\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field\r\n        [field]=\"fieldFileboundUrl\"\r\n        [(value)]=\"deliverToFileBound.fileBoundURL\"\r\n        (blur)=\"onLoadProjectsURLChanged($event)\"\r\n      ></app-field>\r\n    </div>\r\n    <div class=\"col-3\">\r\n      <app-field\r\n        [field]=\"fieldFileboundUsername\"\r\n        [(value)]=\"deliverToFileBound.username\"\r\n        (blur)=\"onLoadProjectsUsernameChanged($event)\"\r\n      ></app-field>\r\n    </div>\r\n    <div class=\"col-3\">\r\n      <app-field\r\n        [field]=\"fieldFileboundPassword\"\r\n        [(value)]=\"deliverToFileBound.password\"\r\n        (blur)=\"onLoadProjectsPasswordChanged($event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field\r\n        [field]=\"fieldFileboundProject\"\r\n        [(value)]=\"deliverToFileBound.projectId\"\r\n        (blur)=\"onProjectSelected($event)\"\r\n        (fieldChanged)=\"onProjectChanged()\"\r\n      ></app-field>\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldFileboundFile\" [(value)]=\"deliverToFileBound.file\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldFileboundRoute\" [(value)]=\"deliverToFileBound.routeId\"></app-field>\r\n    </div>\r\n    <div class=\"col-6\">\r\n      <app-checkbox\r\n        name=\"onlyDeliveryFirstPage\"\r\n        label=\"step-delivery-filebound.only-delivery-first-page\"\r\n        [(value)]=\"deliverToFileBound.onlyDeliveryFirstPage\"\r\n        [disabled]=\"!deliverToFileBound.routeId\"\r\n      ></app-checkbox>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldDeliveryFormat\" [(value)]=\"deliverToFileBound.finalFormCode\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <app-step-metadata-mapping\r\n    [documentFields]=\"documentFields\"\r\n    [mappings]=\"deliverToFileBound.mappings\"\r\n    [metaDataFields]=\"projectFields\"\r\n    [lineitemFields]=\"lineitemFields\"\r\n    [lineItemMappings]=\"deliverToFileBound.lineItemMappings\"\r\n    [(lineItemMetaDataId)]=\"deliverToFileBound.lineItemMetaDataId\"\r\n    [metaDataHeaderText]=\"'step-delivery-filebound.filebound-metadata'\"\r\n  >\r\n  </app-step-metadata-mapping>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Tab } from 'shared-code-lib';\r\nimport { DeliverToFileBoundWorkflowStep } from '../../../../app/blocks/models/workflow-step';\r\nimport { ExportMetaData } from '../models/export-metadata';\r\n\r\n@Component({\r\n  selector: 'app-step-delivery-filebound',\r\n  templateUrl: './step-delivery-filebound.component.html',\r\n  styleUrls: ['./step-delivery-filebound.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliveryFileboundComponent implements OnInit {\r\n  @Input() deliverToFileBound: DeliverToFileBoundWorkflowStep;\r\n  @Input() workflowId: string;\r\n\r\n  activeTab = 'general';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.tabs.push(new Tab('general', this.translate.instant('step-deliver.general')));\r\n    this.tabs.push(new Tab('export-metadata', this.translate.instant('step-deliver.export-metadata')));\r\n  }\r\n\r\n  activateTab = (view: string): void => {\r\n    this.activeTab = view;\r\n  };\r\n\r\n  onMetaDataTypeChanged(exportMetaData: ExportMetaData): void {\r\n    this.deliverToFileBound.exportMetaData = exportMetaData;\r\n  }\r\n}\r\n","<div class=\"step-delivery-filebound container-fluid\">\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'general' === activeTab\">\r\n      <app-step-delivery-filebound-general\r\n        [deliverToFileBound]=\"deliverToFileBound\"\r\n      ></app-step-delivery-filebound-general>\r\n    </div>\r\n    <div *ngIf=\"'export-metadata' === activeTab\">\r\n      <app-export-metadata\r\n        [exportMetaData]=\"deliverToFileBound.exportMetaData\"\r\n        [workflowId]=\"workflowId\"\r\n        (metaDataTypeChanged)=\"onMetaDataTypeChanged($event)\"\r\n      ></app-export-metadata>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { AfterViewInit, Component, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { NgxSmartModalComponent, NgxSmartModalService } from 'ngx-smart-modal';\r\nimport {\r\n  DelayService,\r\n  DeliveryFormatsDataSource,\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  IFieldOptions,\r\n  MetaDataType,\r\n  SplittableDeliveryFormatsDataSource,\r\n} from 'shared-code-lib';\r\nimport { Log } from '../../../../blocks/core/log';\r\nimport { DeliverToNetDocsWorkflowStep, DeliveryTypes } from '../../../../blocks/models/workflow-step';\r\nimport { ProxyApiService } from '../../../../blocks/services/proxy-api.service';\r\nimport { SpinnerStateService } from '../../../../blocks/services/spinner-state.service';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\n\r\ninterface IVault extends IFieldOptions {\r\n  clientId: string;\r\n  server: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-step-delivery-to-netdocs-general',\r\n  templateUrl: './step-delivery-to-netdocs-general.component.html',\r\n  styleUrls: ['./step-delivery-to-netdocs-general.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliveryToNetdocsGeneralComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() deliverToNetDocs: DeliverToNetDocsWorkflowStep;\r\n\r\n  authorizing = false;\r\n  lastAuthorizationUrl: SafeResourceUrl;\r\n  authorizationUrl: SafeResourceUrl;\r\n\r\n  fieldVault: FieldDefinition;\r\n  fieldDeliveryFormat: FieldDefinition;\r\n  fieldDeliveryFormatSplittable: FieldDefinition;\r\n  fieldRefreshToken: FieldDefinition;\r\n  fieldNetDocsObjectId: FieldDefinition;\r\n\r\n  deliveryFormats?: Record<DeliveryTypes, IFieldOptions[]>;\r\n\r\n  authorizationButtonLabel: string;\r\n\r\n  vaults: IVault[] = [\r\n    { name: 'US', value: '0', clientId: 'AP-JAOJ6H5S', server: 'vault.netvoyage.com' },\r\n    { name: 'EU', value: '1', clientId: 'AP-2Z9HYIS9', server: 'eu.netdocuments.com' },\r\n    { name: 'AU', value: '2', clientId: 'AP-GHC3ZQT2', server: 'au.netdocuments.com' },\r\n  ];\r\n\r\n  private propertiesModal: HTMLElement;\r\n  private propertiesModalBody: HTMLElement;\r\n  private authorizationModal: NgxSmartModalComponent;\r\n\r\n  DeliveryTypes = DeliveryTypes;\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private userStateService: UserStateService,\r\n    private delayService: DelayService,\r\n    private sanitizer: DomSanitizer,\r\n    private proxyApiService: ProxyApiService,\r\n    private spinnerService: SpinnerStateService,\r\n    private ngxSmartModal: NgxSmartModalService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.createFields();\r\n    this.onVaultSelected(this.deliverToNetDocs.vault);\r\n\r\n    this.updateAuthorizationButtonLabel();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.authorizationModal = this.ngxSmartModal.get('authorizationModal');\r\n    this.authorizationModal.onClose.subscribe(() => {\r\n      this.cancelAuthorizing();\r\n    });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.authorizationModal.onClose.unsubscribe();\r\n  }\r\n\r\n  onDeliveryTypeChanged = (type: DeliveryTypes): void => {\r\n    this.deliverToNetDocs.deliveryType = type;\r\n\r\n    this.resetSelectedFormatIfRequired(type);\r\n  };\r\n\r\n  resetSelectedFormatIfRequired = (newType: DeliveryTypes) => {\r\n    const formatExistsInNewType = this.deliveryFormats[newType].some(\r\n      (format) => format.value === this.deliverToNetDocs.finalFormCode\r\n    );\r\n    if (formatExistsInNewType) return;\r\n\r\n    this.deliverToNetDocs.finalFormCode = this.deliveryFormats[newType][0].value;\r\n  };\r\n\r\n  createFields = (): void => {\r\n    this.fieldRefreshToken = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('step-delivery-to-netdocs.refresh-token'),\r\n      placeholder: this.translateService.instant('step-delivery-to-netdocs.place-holder-refresh-token'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldVault = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('step-delivery-to-netdocs.vault'),\r\n      placeholder: '',\r\n      datasource: new FixedDataSource(this.vaults),\r\n\r\n      required: true,\r\n    });\r\n\r\n    let deliveryFormatsDataSource = new DeliveryFormatsDataSource(this.translateService, this.userStateService);\r\n    let splittableFormatsSource = new SplittableDeliveryFormatsDataSource(this.translateService, this.userStateService);\r\n\r\n    this.deliveryFormats = {\r\n      [DeliveryTypes.ViaRoutingSheet]: splittableFormatsSource.getItemsEx(),\r\n      [DeliveryTypes.ToObjectID]: deliveryFormatsDataSource.getItemsEx(),\r\n    };\r\n\r\n    this.fieldDeliveryFormat = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('workflow-step.delivery-format'),\r\n      placeholder: '',\r\n      datasource: deliveryFormatsDataSource,\r\n      required: true,\r\n    });\r\n\r\n    this.fieldDeliveryFormatSplittable = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('workflow-step.delivery-format'),\r\n      placeholder: '',\r\n      datasource: splittableFormatsSource,\r\n      required: true,\r\n    });\r\n\r\n    this.fieldNetDocsObjectId = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: '',\r\n      placeholder: this.translateService.instant('step-delivery-to-netdocs.netdocs-objectid-placeholder'),\r\n      required: false,\r\n    });\r\n  };\r\n\r\n  onVaultSelected = (value: string): void => {\r\n    Log.enter('StepDeliveryToNetdocsComponent.onVaultSelected', value);\r\n\r\n    const vault = this.vaults.find((v) => v.value == value);\r\n\r\n    this.authorizationUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n      `https://${vault.server}/neWeb2/OAuth.aspx?client_id=${vault.clientId}&scope=full&response_type=code&redirect_uri=${window.location.origin}/netdocumentscode`\r\n    );\r\n\r\n    Log.var(this.authorizationUrl);\r\n  };\r\n\r\n  onAuthorize = (): void => {\r\n    this.authorizing = true;\r\n    this.propertiesModal = document.querySelector('.workflow-step-properties-modal');\r\n    this.propertiesModalBody = document.querySelector('.properties-modal-body');\r\n    this.propertiesModal.classList.add('has-iframe');\r\n    this.authorizationModal.open();\r\n    this.delayService.execute(() => {\r\n      const iframe = document.getElementById('netdocs-iframe') as any;\r\n      iframe.style.height = this.propertiesModalBody.offsetHeight - 15 + 'px';\r\n    }, 10);\r\n  };\r\n\r\n  dispatchChange = (): void => {\r\n    Log.enter('dispatchChange');\r\n\r\n    try {\r\n      const iframe = document.getElementById('netdocs-iframe') as any;\r\n      const newHref = iframe.contentWindow.location.href;\r\n\r\n      Log.var(newHref);\r\n\r\n      const url = new URL(newHref);\r\n      const code = url.searchParams.get('code');\r\n      const error = url.searchParams.get('error');\r\n\r\n      if (code) {\r\n        this.cancelAuthorizing();\r\n\r\n        this.spinnerService.show(\r\n          this.translateService.instant('step-delivery-to-netdocs.exchanging-code'),\r\n          document.getElementsByClassName('nsm-content')[0] as HTMLElement\r\n        );\r\n\r\n        this.proxyApiService.netDocsExchangeCodeForRefreshToken(\r\n          this.deliverToNetDocs.vault,\r\n          code,\r\n          this.exchangeSucceeded,\r\n          this.exchangeFailed\r\n        );\r\n      } else if (error) {\r\n        this.cancelAuthorizing();\r\n\r\n        this.exchangeFailed(error);\r\n      }\r\n    } catch (e) {}\r\n  };\r\n\r\n  exchangeSucceeded = (token: string): void => {\r\n    Log.enter('exchangeSucceeded', token);\r\n\r\n    this.deliverToNetDocs.refreshToken = token;\r\n\r\n    this.spinnerService.hide();\r\n\r\n    this.updateAuthorizationButtonLabel();\r\n  };\r\n\r\n  exchangeFailed = (e): void => {\r\n    Log.error('exchangeFailed', e);\r\n\r\n    this.deliverToNetDocs.refreshToken = '';\r\n\r\n    this.spinnerService.hide();\r\n\r\n    this.updateAuthorizationButtonLabel();\r\n  };\r\n\r\n  unloadHandler = function () {\r\n    setTimeout(this.dispatchChange, 0);\r\n  };\r\n\r\n  attachUnload() {\r\n    try {\r\n      const iframe = document.getElementById('netdocs-iframe') as any;\r\n\r\n      iframe.contentWindow.removeEventListener('unload', this.unloadHandler);\r\n      iframe.contentWindow.addEventListener('unload', this.unloadHandler);\r\n    } catch (e) {}\r\n  }\r\n\r\n  onIframeLoad = (evt): void => {\r\n    this.attachUnload();\r\n    this.dispatchChange();\r\n  };\r\n\r\n  cancelAuthorizing = (): void => {\r\n    this.propertiesModal.classList.remove('has-iframe');\r\n    this.authorizationModal.close();\r\n    this.authorizing = false;\r\n  };\r\n\r\n  updateAuthorizationButtonLabel = (): void => {\r\n    this.authorizationButtonLabel = this.translateService.instant(\r\n      !this.deliverToNetDocs.refreshToken\r\n        ? 'step-delivery-to-netdocs.authorize'\r\n        : 'step-delivery-to-netdocs.re-authorize'\r\n    );\r\n  };\r\n}\r\n","<div class=\"delivery-to-net-docs-general container-fluid\">\r\n  <div *ngIf=\"!authorizing\">\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field\r\n          [field]=\"fieldVault\"\r\n          [(value)]=\"deliverToNetDocs.vault\"\r\n          (fieldChanged)=\"onVaultSelected($event)\"\r\n        ></app-field>\r\n      </div>\r\n\r\n      <div class=\"col-6\">\r\n        <app-field\r\n          *ngIf=\"deliverToNetDocs.deliveryType == DeliveryTypes.ViaRoutingSheet\"\r\n          [field]=\"fieldDeliveryFormatSplittable\"\r\n          [(value)]=\"deliverToNetDocs.finalFormCode\"\r\n        ></app-field>\r\n        <app-field\r\n          *ngIf=\"deliverToNetDocs.deliveryType == DeliveryTypes.ToObjectID\"\r\n          [field]=\"fieldDeliveryFormat\"\r\n          [(value)]=\"deliverToNetDocs.finalFormCode\"\r\n        ></app-field>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-checkbox\r\n        [(value)]=\"deliverToNetDocs.addUserACLToPaperDocuments\"\r\n        label=\"step-delivery-to-netdocs.add-user-acl-to-paper-documents\"\r\n      ></app-checkbox>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-checkbox\r\n        [(value)]=\"deliverToNetDocs.allowPartialProfiling\"\r\n        label=\"step-delivery-to-netdocs.allow-partial-profiling\"\r\n      ></app-checkbox>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <hr />\r\n\r\n      <app-label [localize]=\"true\" [required]=\"true\" [text]=\"'step-delivery-to-netdocs.deliver-to-type'\"></app-label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <label>\r\n        <input\r\n          type=\"radio\"\r\n          name=\"deliveryType\"\r\n          (change)=\"onDeliveryTypeChanged(DeliveryTypes.ViaRoutingSheet)\"\r\n          [checked]=\"deliverToNetDocs.deliveryType == DeliveryTypes.ViaRoutingSheet\"\r\n        />\r\n        {{ 'step-delivery-to-netdocs.deliver-to-routingsheet' | translate }}\r\n      </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <label>\r\n        <input\r\n          type=\"radio\"\r\n          name=\"deliveryType\"\r\n          (change)=\"onDeliveryTypeChanged(DeliveryTypes.ToObjectID)\"\r\n          [checked]=\"deliverToNetDocs.deliveryType == DeliveryTypes.ToObjectID\"\r\n        />\r\n        {{ 'step-delivery-to-netdocs.deliver-to-objectid' | translate }}\r\n      </label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6 pl-5\">\r\n      <app-field\r\n        [field]=\"fieldNetDocsObjectId\"\r\n        [(value)]=\"deliverToNetDocs.deliverToNetDocsObjectId\"\r\n        [disabled]=\"deliverToNetDocs.deliveryType != DeliveryTypes.ToObjectID\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <hr />\r\n\r\n      <button class=\"btn btn-minwidth\" (click)=\"onAuthorize()\">{{ this.authorizationButtonLabel }}</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ngx-smart-modal\r\n  #authorizationModal\r\n  identifier=\"authorizationModal\"\r\n  ariaLabel=\"Authorization modal\"\r\n  [backdrop]=\"false\"\r\n  [hideDelay]=\"0\"\r\n  customClass=\"has-iframe\"\r\n  [closable]=\"false\"\r\n  [escapable]=\"true\"\r\n  [dismissable]=\"false\"\r\n>\r\n  <app-modal-header\r\n    [title]=\"'admin-workflow.authorize-intelligent-capture' | translate\"\r\n    [closeIconHandler]=\"cancelAuthorizing\"\r\n  ></app-modal-header>\r\n  <div class=\"modal-body\">\r\n    <div *ngIf=\"authorizing\">\r\n      <iframe id=\"netdocs-iframe\" class=\"w-100\" frameBorder=\"0\" [src]=\"authorizationUrl\" (load)=\"onIframeLoad($event)\">\r\n      </iframe>\r\n    </div>\r\n  </div>\r\n  <div class=\"modal-footer\" *ngIf=\"authorizing\">\r\n    <button class=\"btn btn-light btn-minwidth\" (click)=\"cancelAuthorizing()\">\r\n      {{ 'admin-workflow.cancel' | translate }}\r\n    </button>\r\n  </div>\r\n</ngx-smart-modal>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Tab } from 'shared-code-lib';\r\nimport { DeliverToNetDocsWorkflowStep } from '../../../../app/blocks/models/workflow-step';\r\n\r\n@Component({\r\n  selector: 'app-step-delivery-to-netdocs',\r\n  templateUrl: './step-delivery-to-netdocs.component.html',\r\n  styleUrls: ['./step-delivery-to-netdocs.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDeliveryToNetdocsComponent implements OnInit {\r\n  @Input() deliverToNetDocs: DeliverToNetDocsWorkflowStep;\r\n  @Input() workflowId: string;\r\n\r\n  activeTab = 'general';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.tabs.push(new Tab('general', this.translate.instant('step-deliver.general')));\r\n  }\r\n\r\n  activateTab = (view: string): void => {\r\n    this.activeTab = view;\r\n  };\r\n}\r\n","<div class=\"delivery-to-net-docs container-fluid\">\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'general' === activeTab\">\r\n      <app-step-delivery-to-netdocs-general\r\n        [deliverToNetDocs]=\"deliverToNetDocs\"\r\n      ></app-step-delivery-to-netdocs-general>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, MetaDataType } from 'shared-code-lib';\r\nimport { DetectPIIWorkflowStep, PIIEntityTypeWrapper } from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-detect-pii',\r\n  templateUrl: './step-detect-pii.component.html',\r\n  styleUrls: ['./step-detect-pii.component.scss'],\r\n})\r\nexport class StepDetectPiiComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  available: Array<PIIEntityTypeWrapper> = [];\r\n  current: Array<PIIEntityTypeWrapper> = [];\r\n\r\n  detectPIIStep: DetectPIIWorkflowStep;\r\n  confidenceThresholdField: FieldDefinition;\r\n\r\n  get confidenceThreshold() {\r\n    return `${this.detectPIIStep.confidenceThreshold}`;\r\n  }\r\n  set confidenceThreshold(val: string) {\r\n    this.detectPIIStep.confidenceThreshold = Number(val);\r\n  }\r\n\r\n  get redactPII() {\r\n    return this.detectPIIStep.redactPII;\r\n  }\r\n  set redactPII(val: boolean) {\r\n    this.detectPIIStep.redactPII = val;\r\n  }\r\n\r\n  constructor(private translate: TranslateService, private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.detectPIIStep = this.step.workflowStep as DetectPIIWorkflowStep;\r\n    this.createFields();\r\n    this.loadItems();\r\n  }\r\n\r\n  createFields = (): void => {\r\n    this.confidenceThresholdField = new FieldDefinition({\r\n      type: MetaDataType.Integer,\r\n      label: this.translate.instant('step-detect-pii.confidenceThreshold'),\r\n      placeholder: this.translate.instant('step-detect-pii.confidenceThreshold'),\r\n      allowNegativeNumbers: false,\r\n      required: true,\r\n    });\r\n  };\r\n\r\n  loadItems = () => {\r\n    this.available = this.getAllPIIEntityTypes();\r\n\r\n    if (this.detectPIIStep.isNewStep()) {\r\n      this.current = this.available.map((p) => new PIIEntityTypeWrapper(p.tag, p.displayName));\r\n      this.currentChanged(this.current);\r\n    } else {\r\n      this.current = this.available.filter((f) => this.detectPIIStep.categories.includes(f.tag));\r\n    }\r\n  };\r\n\r\n  currentChanged = (categories: Array<PIIEntityTypeWrapper>): void => {\r\n    this.detectPIIStep.categories = [];\r\n    categories.forEach((c) => {\r\n      this.detectPIIStep.categories.push(c.tag);\r\n    });\r\n  };\r\n\r\n  getAllPIIEntityTypes = () => {\r\n    const arrayPIIEntityTypeWrapper: Array<PIIEntityTypeWrapper> = [];\r\n    const piiTypeTranslations = this.translate.instant('step-detect-pii.pii-entity-type', { returnObject: true });\r\n    const keys = Object.keys(piiTypeTranslations);\r\n    keys.forEach((key) => {\r\n      arrayPIIEntityTypeWrapper.push(new PIIEntityTypeWrapper(key, piiTypeTranslations[key]));\r\n    });\r\n    return arrayPIIEntityTypeWrapper;\r\n  };\r\n}\r\n","<div class=\"container-fluid step-detect-pii\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"confidenceThresholdField\" [(value)]=\"confidenceThreshold\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6 redact-checkbox\">\r\n      <app-checkbox [(value)]=\"redactPII\"\r\n                    label=\"{{ 'step-detect-pii.redactPii' | translate }}\"></app-checkbox>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6 categories field\">\r\n      <app-label [text]=\"'step-detect-pii.categories'\" [localize]=\"true\"></app-label>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"h-100 categories picklist\">\r\n    <app-dual-picklist class=\"max-height\"\r\n                       (currentChange)=\"currentChanged($event)\"\r\n                       [displayField]=\"'displayName'\"\r\n                       [available]=\"available\"\r\n                       [current]=\"current\"></app-dual-picklist>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, IFieldDataSource, MetadataIntellisenseDatasource, MetaDataType } from 'shared-code-lib';\r\nimport { DetectSignatureWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-detect-signature',\r\n  templateUrl: './step-detect-signature.component.html',\r\n  styleUrls: ['./step-detect-signature.component.scss'],\r\n})\r\nexport class StepDetectSignatureComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  detectSignatureStep: DetectSignatureWorkflowStep;\r\n  confidenceThresholdField: FieldDefinition;\r\n\r\n  get confidenceThreshold() {\r\n    return `${this.detectSignatureStep.confidenceThreshold}`;\r\n  }\r\n  set confidenceThreshold(val: string) {\r\n    this.detectSignatureStep.confidenceThreshold = Number(val);\r\n  }\r\n\r\n  constructor(private translate: TranslateService, private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.detectSignatureStep = this.step.workflowStep as DetectSignatureWorkflowStep;\r\n    this.createFields();\r\n  }\r\n\r\n  createFields = (): void => {\r\n    this.confidenceThresholdField = this.createField(\r\n      'confidenceThreshold',\r\n      'confidenceThreshold',\r\n      MetaDataType.Integer,\r\n      true\r\n    );\r\n  };\r\n\r\n  createField = (\r\n    label: string = null,\r\n    placeholder: string = '',\r\n    type: MetaDataType = MetaDataType.Text,\r\n    required: boolean = false,\r\n    substitutable: boolean = true,\r\n    datasource: IFieldDataSource = null\r\n  ): FieldDefinition => {\r\n    return new FieldDefinition({\r\n      type: type,\r\n      label: label ? this.translate.instant(`step-detect-signature.${label}`) : '',\r\n      placeholder: placeholder ? this.translate.instant(`step-detect-signature.${placeholder}`) : '',\r\n      required: required,\r\n      datasource: substitutable ? new MetadataIntellisenseDatasource(this.userState) : datasource,\r\n      substitutable: substitutable,\r\n    });\r\n  };\r\n}\r\n","<div class=\"container-fluid\" appAutoFocusFirstInput>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field [field]=\"confidenceThresholdField\" [(value)]=\"confidenceThreshold\"></app-field>\r\n      </div>\r\n    </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport {\r\n  AnnotationConfiguration,\r\n  FieldDefinition,\r\n  Files,\r\n  FixedDataSource,\r\n  IFieldOptions,\r\n  MetaDataType,\r\n  Tab,\r\n} from 'shared-code-lib';\r\nimport {\r\n  FontColors,\r\n  supportedBarcodesArray,\r\n} from '../../../blocks/components/html-editor/html-editor-toolbar/editor-toolbar-constants';\r\nimport { Action } from '../../../blocks/core/actions';\r\nimport { Filename } from '../../../blocks/core/fileName';\r\nimport { DocumentStampWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { HydraApiService } from '../../../blocks/services/hydra-api.service';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\nimport {\r\n  ApplyToPages,\r\n  AvailableTabs,\r\n  ContentTextModes,\r\n  ContentTypes,\r\n  HorizontalLocations,\r\n  LengthUnits,\r\n  LocationTypes,\r\n  VerticalLocations,\r\n} from './step-document-stamp.enums';\r\n\r\n@Component({\r\n  selector: 'app-step-document-stamp',\r\n  templateUrl: './step-document-stamp.component.html',\r\n  styleUrl: './step-document-stamp.component.scss',\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepDocumentStampComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  readonly tabs: Tab[] = [\r\n    new Tab(`${AvailableTabs.ContentTypes}`, this.translate.instant('step-document-stamp.content')),\r\n    new Tab(`${AvailableTabs.LocationTypes}`, this.translate.instant('step-document-stamp.location')),\r\n    new Tab(`${AvailableTabs.Options}`, this.translate.instant('step-document-stamp.options')),\r\n  ];\r\n  readonly supportedFileTypes = Filename.supportedImageFileTypes;\r\n\r\n  documentStampWorkflowStep: DocumentStampWorkflowStep;\r\n  currentlySelectedTab: AvailableTabs = AvailableTabs.ContentTypes;\r\n  fields: IFields;\r\n\r\n  AvailableTabs = AvailableTabs;\r\n  ContentTypes = ContentTypes;\r\n  LocationTypes = LocationTypes;\r\n  Action = Action;\r\n  Number = Number;\r\n\r\n  constructor(\r\n    private hydra: HydraApiService,\r\n    private userState: UserStateService,\r\n    private translate: TranslateService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.documentStampWorkflowStep = <DocumentStampWorkflowStep>{ ...this.step.workflowStep };\r\n\r\n    this.hydra.getAnnotationConfigurations(this.onAnnotationConfigLoad, this.onAnnotationConfigLoadFailed);\r\n  }\r\n\r\n  onAnnotationConfigLoad = (config: AnnotationConfiguration) => {\r\n    this.createFields(config);\r\n  };\r\n\r\n  onAnnotationConfigLoadFailed = (err: any) => {};\r\n\r\n  createFields = (config: AnnotationConfiguration): void => {\r\n    this.fields = {} as IFields;\r\n\r\n    const fontFamilies: IFieldOptions[] = config.fontNames.map((f) => ({\r\n      name: f,\r\n      value: f,\r\n      style: `font-family: ${f};`,\r\n    }));\r\n    const fontSizes: IFieldOptions[] = config.fontSizes.map((px) => ({\r\n      name: `${px}`,\r\n      value: `${px}`,\r\n      style: `font-size: ${px}px;`,\r\n    }));\r\n    const fontColors: IFieldOptions[] = FontColors.defaultColors.map((c) => ({\r\n        name: c.key,\r\n        value: c.value,\r\n    }));\r\n\r\n    const barcodeTypes: IFieldOptions[] = supportedBarcodesArray\r\n      .filter((bc) => this.userState.hasFeature(`BARCODE_${bc.value.toUpperCase()}`))\r\n      .map((bc) => ({ name: bc.name, value: bc.value }));\r\n    const stamps: IFieldOptions[] = config.stamps.map((s) => ({ name: s, value: s }));\r\n\r\n    this.fields.content = {\r\n      type: new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        datasource: new FixedDataSource([\r\n          { name: this.translate.instant('step-document-stamp.text'), value: 'TextContent' },\r\n          { name: this.translate.instant('step-document-stamp.image'), value: 'ImageContent' },\r\n          { name: this.translate.instant('step-document-stamp.stamp'), value: 'StampContent' },\r\n          { name: this.translate.instant('step-document-stamp.barcode'), value: 'BarcodeContent' },\r\n        ]),\r\n        label: this.translate.instant('step-document-stamp.type'),\r\n      }),\r\n      text: {\r\n        font: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource(fontFamilies),\r\n          defaultValue: fontFamilies[0].value,\r\n          label: this.translate.instant('step-document-stamp.font-family'),\r\n        }),\r\n        size: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource(fontSizes),\r\n          defaultValue: fontSizes[0].value,\r\n          label: this.translate.instant('step-document-stamp.font-size'),\r\n        }),\r\n        mode: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource([\r\n            { name: this.translate.instant('step-document-stamp.solid'), value: `${ContentTextModes.Solid}` },\r\n            { name: this.translate.instant('step-document-stamp.outline'), value: `${ContentTextModes.Outline}` },\r\n          ]),\r\n          defaultValue: `${ContentTextModes.Solid}`,\r\n          label: this.translate.instant('step-document-stamp.font-mode'),\r\n        }),\r\n        color: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource(fontColors),\r\n          defaultValue: fontColors.find((f) => f.name === 'Black').value,\r\n          label: this.translate.instant('step-document-stamp.font-color'),\r\n        }),\r\n        textField: new FieldDefinition({\r\n          type: MetaDataType.LargeText,\r\n          label: this.translate.instant('step-document-stamp.text'),\r\n          substitutable: true,\r\n        }),\r\n      },\r\n      image: {\r\n        imageField: null,\r\n      },\r\n      stamp: {\r\n        stampField: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource(stamps),\r\n          defaultValue: stamps[0].value,\r\n          label: this.translate.instant('step-document-stamp.stamp'),\r\n        }),\r\n      },\r\n      barcode: {\r\n        barcodeType: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource(barcodeTypes),\r\n          defaultValue: barcodeTypes[0].value,\r\n          label: this.translate.instant('step-document-stamp.barcode-type'),\r\n        }),\r\n        barcodeValue: new FieldDefinition({\r\n          type: MetaDataType.LargeText,\r\n          label: this.translate.instant('step-document-stamp.barcode-value'),\r\n        }),\r\n      },\r\n    };\r\n\r\n    this.fields.location = {\r\n      type: new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        datasource: new FixedDataSource([\r\n          { name: this.translate.instant('step-document-stamp.relative'), value: 'RelativeLocation' },\r\n          { name: this.translate.instant('step-document-stamp.specific'), value: 'SpecificLocation' },\r\n          { name: this.translate.instant('step-document-stamp.stretch'), value: 'StretchLocation' },\r\n        ]),\r\n        defaultValue: 'RelativeLocation',\r\n        label: this.translate.instant('step-document-stamp.type'),\r\n      }),\r\n      relative: {\r\n        horizontal: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource([\r\n            { name: this.translate.instant('step-document-stamp.left'), value: `${HorizontalLocations.Left}` },\r\n            { name: this.translate.instant('step-document-stamp.center'), value: `${HorizontalLocations.Center}` },\r\n            { name: this.translate.instant('step-document-stamp.right'), value: `${HorizontalLocations.Right}` },\r\n          ]),\r\n          defaultValue: `${HorizontalLocations.Left}`,\r\n          label: this.translate.instant('step-document-stamp.horizontal-alignment'),\r\n        }),\r\n        vertical: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource([\r\n            { name: this.translate.instant('step-document-stamp.top'), value: `${VerticalLocations.Top}` },\r\n            { name: this.translate.instant('step-document-stamp.center'), value: `${VerticalLocations.Center}` },\r\n            { name: this.translate.instant('step-document-stamp.bottom'), value: `${VerticalLocations.Bottom}` },\r\n          ]),\r\n          defaultValue: `${VerticalLocations.Top}`,\r\n          label: this.translate.instant('step-document-stamp.vertical-alignment'),\r\n        }),\r\n      },\r\n      specific: {\r\n        top: new FieldDefinition({\r\n          type: MetaDataType.Decimal,\r\n          label: this.translate.instant('step-document-stamp.top'),\r\n        }),\r\n        left: new FieldDefinition({\r\n          type: MetaDataType.Decimal,\r\n          label: this.translate.instant('step-document-stamp.left'),\r\n        }),\r\n        topUnits: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource([\r\n            { name: this.translate.instant('step-document-stamp.in'), value: `${LengthUnits.Inches}` },\r\n            { name: this.translate.instant('step-document-stamp.mm'), value: `${LengthUnits.Millimeters}` },\r\n            { name: this.translate.instant('step-document-stamp.pt'), value: `${LengthUnits.Points}` },\r\n          ]),\r\n          defaultValue: `${LengthUnits.Inches}`,\r\n          label: this.translate.instant('step-document-stamp.top-units'),\r\n        }),\r\n        leftUnits: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource([\r\n            { name: this.translate.instant('step-document-stamp.in'), value: `${LengthUnits.Inches}` },\r\n            { name: this.translate.instant('step-document-stamp.mm'), value: `${LengthUnits.Millimeters}` },\r\n            { name: this.translate.instant('step-document-stamp.pt'), value: `${LengthUnits.Points}` },\r\n          ]),\r\n          defaultValue: `${LengthUnits.Inches}`,\r\n          label: this.translate.instant('step-document-stamp.left-units'),\r\n        }),\r\n      },\r\n      stretch: {\r\n        insertAt: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource([\r\n            { name: this.translate.instant('step-document-stamp.top'), value: `${VerticalLocations.Top}` },\r\n          ]),\r\n          defaultValue: `${VerticalLocations.Top}`,\r\n          label: this.translate.instant('step-document-stamp.insert-at'),\r\n        }),\r\n        horizontalAlignment: new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          datasource: new FixedDataSource([\r\n            { name: this.translate.instant('step-document-stamp.left'), value: `${HorizontalLocations.Left}` },\r\n            { name: this.translate.instant('step-document-stamp.center'), value: `${HorizontalLocations.Center}` },\r\n            { name: this.translate.instant('step-document-stamp.right'), value: `${HorizontalLocations.Right}` },\r\n          ]),\r\n          defaultValue: `${HorizontalLocations.Left}`,\r\n          label: this.translate.instant('step-document-stamp.horizontal-alignment'),\r\n        }),\r\n      },\r\n    };\r\n\r\n    this.fields.options = {\r\n      rotate: new FieldDefinition({\r\n        type: MetaDataType.Integer,\r\n        label: this.translate.instant('step-document-stamp.rotation-degrees'),\r\n      }),\r\n      applyTo: new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        datasource: new FixedDataSource([\r\n          { name: this.translate.instant('step-document-stamp.all-pages'), value: `${ApplyToPages.All}` },\r\n          { name: this.translate.instant('step-document-stamp.first-page'), value: `${ApplyToPages.First}` },\r\n          { name: this.translate.instant('step-document-stamp.last-page'), value: `${ApplyToPages.Last}` },\r\n        ]),\r\n        defaultValue: `${ApplyToPages.All}`,\r\n        label: this.translate.instant('step-document-stamp.apply-to'),\r\n      }),\r\n    };\r\n  };\r\n\r\n  onTabSelected = (tab: string): void => {\r\n    this.currentlySelectedTab = Number(tab);\r\n  };\r\n\r\n  onFileInputChange = async (event: Event): Promise<void> => {\r\n    const files = Array.from((event.target as HTMLInputElement).files);\r\n\r\n    const base64 = files.length !== 0 ? await Files.toBase64String(files[0], true) : '';\r\n\r\n    this.documentStampWorkflowStep.content.base64 = base64;\r\n  };\r\n}\r\n\r\ninterface IFields {\r\n  content: {\r\n    type: FieldDefinition;\r\n    text: {\r\n      font: FieldDefinition;\r\n      size: FieldDefinition;\r\n      mode: FieldDefinition;\r\n      color: FieldDefinition;\r\n      textField: FieldDefinition;\r\n    };\r\n    image: {\r\n      imageField: FieldDefinition;\r\n    };\r\n    stamp: {\r\n      stampField: FieldDefinition;\r\n    };\r\n    barcode: {\r\n      barcodeType: FieldDefinition;\r\n      barcodeValue: FieldDefinition;\r\n    };\r\n  };\r\n  location: {\r\n    type: FieldDefinition;\r\n    relative: {\r\n      horizontal: FieldDefinition;\r\n      vertical: FieldDefinition;\r\n    };\r\n    specific: {\r\n      top: FieldDefinition;\r\n      left: FieldDefinition;\r\n      topUnits: FieldDefinition;\r\n      leftUnits: FieldDefinition;\r\n    };\r\n    stretch: {\r\n      insertAt: FieldDefinition;\r\n      horizontalAlignment: FieldDefinition;\r\n    };\r\n  };\r\n  options: {\r\n    rotate: FieldDefinition;\r\n    applyTo: FieldDefinition;\r\n  };\r\n}\r\n","<div class=\"modal-body pt-3\">\r\n  <app-tab-bar [tabs]=\"tabs\" (tabSelected)=\"onTabSelected($event)\"></app-tab-bar>\r\n\r\n  @if (fields) {\r\n    @switch (currentlySelectedTab) {\r\n      @case (AvailableTabs.ContentTypes) {\r\n        <ng-template [ngTemplateOutlet]=\"tabContentType\"></ng-template>\r\n      }\r\n      @case (AvailableTabs.LocationTypes) {\r\n        <ng-template [ngTemplateOutlet]=\"tabLocationType\"></ng-template>\r\n      }\r\n      @case (AvailableTabs.Options) {\r\n        <ng-template [ngTemplateOutlet]=\"tabOptions\"></ng-template>\r\n      }\r\n    }\r\n  }\r\n</div>\r\n\r\n<ng-template #tabContentType>\r\n  <app-field [field]=\"fields.content.type\" [(value)]=\"documentStampWorkflowStep.content.type\"></app-field>\r\n\r\n  @switch (documentStampWorkflowStep.content.type) {\r\n    @case ('TextContent') {\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <app-field\r\n            [field]=\"fields.content.text.font\"\r\n            [(value)]=\"documentStampWorkflowStep.content.fontFamily\"\r\n          ></app-field>\r\n        </div>\r\n        <div class=\"col-2\">\r\n          <app-field\r\n            [field]=\"fields.content.text.size\"\r\n            value=\"{{ documentStampWorkflowStep.content.fontSize }}\"\r\n            (valueChange)=\"documentStampWorkflowStep.content.fontSize = Number($event)\"\r\n          ></app-field>\r\n        </div>\r\n        <div class=\"col-2\">\r\n          <app-field\r\n            [field]=\"fields.content.text.mode\"\r\n            value=\"{{ documentStampWorkflowStep.content.mode }}\"\r\n            (valueChange)=\"documentStampWorkflowStep.content.mode = Number($event)\"\r\n          ></app-field>\r\n        </div>\r\n        <div class=\"col-2\">\r\n          <app-field\r\n            [field]=\"fields.content.text.color\"\r\n            [(value)]=\"documentStampWorkflowStep.content.color\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <app-field\r\n            [field]=\"fields.content.text.textField\"\r\n            [(value)]=\"documentStampWorkflowStep.content.text\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n    }\r\n    @case ('ImageContent') {\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <input type=\"file\" (change)=\"onFileInputChange($event)\" [accept]=\"supportedFileTypes\" />\r\n        </div>\r\n      </div>\r\n    }\r\n    @case ('StampContent') {\r\n      <!-- TODO: show stamps from the document workflow page -->\r\n      <app-field\r\n        *ngIf=\"fields?.content?.stamp?.stampField\"\r\n        [field]=\"fields.content.stamp.stampField\"\r\n        [(value)]=\"documentStampWorkflowStep.content.stamp\"\r\n      ></app-field>\r\n    }\r\n    @case ('BarcodeContent') {\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <app-field\r\n            [field]=\"fields.content.barcode.barcodeType\"\r\n            [(value)]=\"documentStampWorkflowStep.content.barcodeType\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <app-field\r\n            [field]=\"fields.content.barcode.barcodeValue\"\r\n            [(value)]=\"documentStampWorkflowStep.content.barcodeValue\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n    }\r\n  }\r\n</ng-template>\r\n\r\n<ng-template #tabLocationType>\r\n  <app-field [field]=\"fields.location.type\" [(value)]=\"documentStampWorkflowStep.location.type\"></app-field>\r\n  @switch (documentStampWorkflowStep.location.type) {\r\n    @case ('RelativeLocation') {\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <app-field\r\n            [field]=\"fields.location.relative.horizontal\"\r\n            value=\"{{ documentStampWorkflowStep.location.horizontal }}\"\r\n            (valueChange)=\"documentStampWorkflowStep.location.horizontal = Number($event)\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <app-field\r\n            [field]=\"fields.location.relative.vertical\"\r\n            value=\"{{ documentStampWorkflowStep.location.vertical }}\"\r\n            (valueChange)=\"documentStampWorkflowStep.location.vertical = Number($event)\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n    }\r\n    @case ('SpecificLocation') {\r\n      <div class=\"row\">\r\n        <div class=\"col-2\">\r\n          <app-field\r\n            [field]=\"fields.location.specific.top\"\r\n            value=\"{{ documentStampWorkflowStep.location.top }}\"\r\n            (valueChange)=\"documentStampWorkflowStep.location.top = Number($event)\"\r\n          ></app-field>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <app-field\r\n            [field]=\"fields.location.specific.topUnits\"\r\n            value=\"{{ documentStampWorkflowStep.location.topUnits }}\"\r\n            (valueChange)=\"documentStampWorkflowStep.location.topUnits = Number($event)\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-2\">\r\n          <app-field\r\n            [field]=\"fields.location.specific.left\"\r\n            value=\"{{ documentStampWorkflowStep.location.left }}\"\r\n            (valueChange)=\"documentStampWorkflowStep.location.left = Number($event)\"\r\n          ></app-field>\r\n        </div>\r\n        <div class=\"col-6\">\r\n          <app-field\r\n            [field]=\"fields.location.specific.leftUnits\"\r\n            value=\"{{ documentStampWorkflowStep.location.leftUnits }}\"\r\n            (valueChange)=\"documentStampWorkflowStep.location.leftUnits = Number($event)\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n    }\r\n    @case ('StretchLocation') {\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <app-field\r\n            [field]=\"fields.location.stretch.insertAt\"\r\n            value=\"{{ documentStampWorkflowStep.location.insertAt }}\"\r\n            (valueChange)=\"documentStampWorkflowStep.location.insertAt = Number($event)\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-6\">\r\n          <app-field\r\n            [field]=\"fields.location.stretch.horizontalAlignment\"\r\n            value=\"{{ documentStampWorkflowStep.location.horizontalAlignment }}\"\r\n            (valueChange)=\"documentStampWorkflowStep.location.horizontalAlignment = Number($event)\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n    }\r\n  }\r\n</ng-template>\r\n\r\n<ng-template #tabOptions>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field\r\n        [field]=\"fields.options.rotate\"\r\n        value=\"{{ documentStampWorkflowStep.options.rotationDegrees }}\"\r\n        (valueChange)=\"documentStampWorkflowStep.options.rotationDegrees = Number($event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field\r\n        [field]=\"fields.options.applyTo\"\r\n        value=\"{{ documentStampWorkflowStep.options.applyToPages }}\"\r\n        (valueChange)=\"documentStampWorkflowStep.options.applyToPages = Number($event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n","export enum AvailableTabs {\r\n  ContentTypes = 0,\r\n  LocationTypes = 1,\r\n  Options = 2,\r\n}\r\n\r\nexport enum ContentTypes {\r\n  Text = 0,\r\n  Image = 1,\r\n  Stamp = 2,\r\n  Barcode = 3,\r\n}\r\n\r\nexport enum ContentTextModes {\r\n  Solid = 0,\r\n  Outline = 1,\r\n}\r\n\r\nexport enum LocationTypes {\r\n  Relative = 0,\r\n  Specific = 1,\r\n  Stretch = 2,\r\n}\r\n\r\nexport enum HorizontalLocations {\r\n  Left = 0,\r\n  Center = 1,\r\n  Right = 2,\r\n}\r\n\r\nexport enum VerticalLocations {\r\n  None = 0,\r\n  Top = 1,\r\n  Center = 2,\r\n  Bottom = 3,\r\n}\r\n\r\nexport enum LengthUnits {\r\n  Inches = 0,\r\n  Millimeters = 1,\r\n  Points = 2,\r\n}\r\n\r\nexport enum ApplyToPages {\r\n  All = 0,\r\n  First = 1,\r\n  Last = 2,\r\n}\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, MetaDataType, Tab } from 'shared-code-lib';\r\nimport { ExportToAPIWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-export-to-api',\r\n  templateUrl: './step-export-to-api.component.html',\r\n  styleUrls: ['./step-export-to-api.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepExportToAPIComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  fieldDisplayName: FieldDefinition;\r\n  exportToAPIStep: ExportToAPIWorkflowStep;\r\n\r\n  activeTab = 'roles';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.exportToAPIStep = <ExportToAPIWorkflowStep>this.step.workflowStep;\r\n    this.createFields();\r\n    this.createTabs();\r\n  }\r\n\r\n  createFields() {\r\n    this.fieldDisplayName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('admin-workflow.interactive-step-displayname'),\r\n      placeholder: this.translate.instant('admin-workflow.interactive-step-displayname-placeholder'),\r\n      required: true,\r\n    });\r\n  }\r\n\r\n  createTabs() {\r\n    this.tabs.push(new Tab('roles', this.translate.instant('step-interactive.roles')));\r\n  }\r\n\r\n  activateTab(view: string) {\r\n    this.activeTab = view;\r\n  }\r\n}\r\n","<div class=\"step-export-to-api container-fluid\">\r\n  <div class=\"row\">\r\n    <div class=\"col-6\" appAutoFocusFirstInput>\r\n      <app-field [field]=\"fieldDisplayName\" [(value)]=\"exportToAPIStep.name\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'roles' == activeTab\">\r\n      <app-step-interactive-roles [(roleIds)]=\"exportToAPIStep.roleIds\"></app-step-interactive-roles>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Component, Input, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar-portable';\r\nimport {\r\n  DelayService,\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  IFieldDataSource,\r\n  IFieldOptions,\r\n  MetadataIntellisenseDatasource,\r\n  MetaDataType,\r\n  Tab,\r\n} from 'shared-code-lib';\r\nimport { ExportToWebServiceWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { Dictionary } from '../../../blocks/services/models';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-export-to-webservice',\r\n  templateUrl: './step-export-to-webservice.component.html',\r\n  styleUrls: ['./step-export-to-webservice.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepExportToWebServiceComponent implements OnInit {\r\n  directiveRef: PerfectScrollbarDirective;\r\n  @ViewChild(PerfectScrollbarDirective, { static: false }) set content(content: PerfectScrollbarDirective) {\r\n    if (content) {\r\n      this.directiveRef = content;\r\n    }\r\n  }\r\n  @Input() step: Step;\r\n\r\n  workflowStep: ExportToWebServiceWorkflowStep;\r\n\r\n  tabs: Array<Tab>;\r\n  activeTab: string = 'endpoint';\r\n\r\n  actionDataSource: FixedDataSource;\r\n  typeDataSource: FixedDataSource;\r\n\r\n  actionField: FieldDefinition;\r\n  urlField: FieldDefinition;\r\n  timeoutField: FieldDefinition;\r\n  typeField: FieldDefinition;\r\n  bodyField: FieldDefinition;\r\n  focusedHeaderRow: number;\r\n\r\n  get workflowStepTimeout() {\r\n    return `${this.workflowStep.timeout}`;\r\n  }\r\n  set workflowStepTimeout(val: string) {\r\n    this.workflowStep.timeout = Number(val);\r\n  }\r\n  get workflowStepType() {\r\n    return `${this.workflowStep.type}`;\r\n  }\r\n  set workflowStepType(val: string) {\r\n    this.workflowStep.type = Number(val);\r\n  }\r\n\r\n  constructor(private translate: TranslateService, private delay: DelayService, private userState: UserStateService) {}\r\n\r\n  ngOnInit() {\r\n    this.workflowStep = <ExportToWebServiceWorkflowStep>this.step.workflowStep;\r\n    this.initDataSources();\r\n    this.createFields();\r\n    this.createTabs();\r\n  }\r\n\r\n  createFields = (): void => {\r\n    this.actionField = this.createField('action', 'action', MetaDataType.List, true, false, this.actionDataSource);\r\n    this.urlField = this.createField('url', 'url', MetaDataType.Text, true);\r\n    this.timeoutField = this.createField('timeout', 'timeout', MetaDataType.Integer, false);\r\n    this.typeField = this.createField('type', 'type', MetaDataType.List, true, false, this.typeDataSource);\r\n    this.bodyField = this.createField('body', 'body', MetaDataType.LargeText, false);\r\n  };\r\n\r\n  createField = (\r\n    label: string = null,\r\n    placeholder: string = '',\r\n    type: MetaDataType = MetaDataType.Text,\r\n    required: boolean = false,\r\n    substitutable: boolean = true,\r\n    datasource: IFieldDataSource = null\r\n  ): FieldDefinition => {\r\n    return new FieldDefinition({\r\n      type: type,\r\n      label: label ? this.translate.instant(`step-export-to-webservice.${label}`) : '',\r\n      placeholder: placeholder ? this.translate.instant(`step-export-to-webservice.${placeholder}`) : '',\r\n      required: required,\r\n      datasource: substitutable ? new MetadataIntellisenseDatasource(this.userState) : datasource,\r\n      substitutable: substitutable,\r\n    });\r\n  };\r\n\r\n  initDataSources = (): void => {\r\n    const actionsNames = ['POST', 'PUT', 'GET'];\r\n    this.actionDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n\r\n    actionsNames.forEach((x) => {\r\n      this.actionDataSource.options.push({\r\n        name: this.translate.instant(`step-export-to-webservice.actions.${x.toLocaleLowerCase()}`),\r\n        value: x,\r\n      });\r\n    });\r\n\r\n    this.typeDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n    this.typeDataSource.options.push({\r\n      name: this.translate.instant('step-export-to-webservice.document'),\r\n      value: '0',\r\n    });\r\n    this.typeDataSource.options.push({\r\n      name: this.translate.instant('step-export-to-webservice.substituted-text'),\r\n      value: '1',\r\n    });\r\n  };\r\n\r\n  createTabs = (): void => {\r\n    const tabsNames = ['endpoint', 'headers', 'body'];\r\n    this.tabs = [];\r\n\r\n    tabsNames.forEach((x) => {\r\n      this.tabs.push(new Tab(x, this.translate.instant(`step-export-to-webservice.${x}`)));\r\n    });\r\n  };\r\n\r\n  activateTab = (tab: string): void => {\r\n    this.activeTab = tab;\r\n  };\r\n\r\n  onAddValue = () => {\r\n    this.workflowStep.headers.push(new Dictionary('', ''));\r\n\r\n    this.delay.execute(() => {\r\n      this.directiveRef.scrollToBottom(0, 300);\r\n      this.focusedHeaderRow = this.workflowStep.headers.length - 1;\r\n    }, 100);\r\n  };\r\n\r\n  deleteAllItems = (): void => {\r\n    this.workflowStep.headers = [];\r\n\r\n    this.delay.execute(() => {\r\n      this.directiveRef.scrollToTop(0, 300);\r\n    }, 100);\r\n  };\r\n\r\n  deleteItem = (item) => {\r\n    const rowIndexToDelete = this.workflowStep.headers.indexOf(item);\r\n\r\n    if (rowIndexToDelete > -1) {\r\n      this.workflowStep.headers.splice(rowIndexToDelete, 1);\r\n    }\r\n  };\r\n\r\n  dropped(event: CdkDragDrop<string[]>) {\r\n    moveItemInArray(this.workflowStep.headers, event.previousIndex, event.currentIndex);\r\n  }\r\n}\r\n","<div class=\"step-export-to-webservice-panel container-fluid d-flex flex-column p-0 mt-2\">\r\n  <app-tab-bar [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n\r\n  <div class=\"tab-content min-h-fit-content content-padding h-100 mh-100 overflow-auto pr-3\">\r\n    <div class=\"h-100\" *ngIf=\"'endpoint' == activeTab\">\r\n      <div class=\"row\">\r\n        <div class=\"col-4\">\r\n          <app-field [field]=\"actionField\" [(value)]=\"workflowStep.action\"></app-field>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <app-field [field]=\"urlField\" [(value)]=\"workflowStep.url\"></app-field>\r\n        </div>\r\n      </div>\r\n      <div class=\"row\">\r\n        <div class=\"col-4\">\r\n          <app-field [field]=\"timeoutField\" [(value)]=\"workflowStepTimeout\"></app-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"h-100\" *ngIf=\"'headers' == activeTab\">\r\n      <div class=\"pick-list__configuration h-100 d-flex flex-column\">\r\n        <div class=\"d-flex align-items-end\">\r\n          <div class=\"col-12 p-0 text-right\">\r\n            <button\r\n              class=\"add-button btn btn-secondary btn-minwidth mr-0 mt-1\"\r\n              [title]=\"'step-export-to-webservice.add' | translate\"\r\n              (click)=\"onAddValue()\"\r\n              id=\"btn-items-Add Item\"\r\n            >\r\n              {{ 'step-export-to-webservice.add' | translate }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <table class=\"table draggable\">\r\n          <thead>\r\n            <tr>\r\n              <th class=\"table__th-control action-th\">\r\n                <div></div>\r\n              </th>\r\n              <th width=\"45%\" class=\"table__th-content\">\r\n                <div>{{ 'step-export-to-webservice.header' | translate }}</div>\r\n              </th>\r\n              <th width=\"45%\" class=\"table__th-content\">\r\n                <div>{{ 'step-export-to-webservice.value' | translate }}</div>\r\n              </th>\r\n              <th class=\"table__th-control action-th delete-all\">\r\n                <div class=\"text-center\">\r\n                  <i\r\n                    style=\"cursor: pointer\"\r\n                    class=\"icomoon-delete status\"\r\n                    (click)=\"deleteAllItems()\"\r\n                    [title]=\"'step-export-to-webservice.item-delete-all' | translate\"\r\n                  ></i>\r\n                </div>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody\r\n            class=\"table__body ps col p-0\"\r\n            fxFlex=\"auto\"\r\n            [perfectScrollbar]=\"{ suppressScrollY: false }\"\r\n            cdkDropList\r\n            (cdkDropListDropped)=\"dropped($event)\"\r\n          >\r\n            <tr class=\"table__table-row d-flex\" *ngFor=\"let item of workflowStep.headers; let i = index\" cdkDrag>\r\n              <td\r\n                class=\"table__control-cell p-1 h-100 align-items-center justify-content-center\"\r\n                style=\"cursor: default !important\"\r\n              >\r\n                <div class=\"checkbox table__checkbox d-flex align-items-center justify-content-center h-100\">\r\n                  <i cdkDragHandle class=\"icomoon-grip-small table__th-grip\"></i>\r\n                </div>\r\n              </td>\r\n              <td width=\"45%\" class=\"table__cell\" style=\"cursor: default !important\">\r\n                <div class=\"table__cell-content\">\r\n                  <app-field [field]=\"createField()\" [(value)]=\"item.key\" [focused]=\"i == focusedHeaderRow\"></app-field>\r\n                </div>\r\n              </td>\r\n              <td width=\"45%\" class=\"table__cell\" style=\"cursor: default !important\">\r\n                <div class=\"table__cell-content\">\r\n                  <app-field [field]=\"createField()\" [(value)]=\"item.value\"></app-field>\r\n                </div>\r\n              </td>\r\n              <td\r\n                class=\"table__control-cell p-1 d-flex h-100 align-items-center justify-content-center flex-grow-1\"\r\n                style=\"cursor: default !important\"\r\n              >\r\n                <div class=\"checkbox table__checkbox text-center\">\r\n                  <i\r\n                    style=\"cursor: pointer\"\r\n                    class=\"icomoon-delete status\"\r\n                    (click)=\"deleteItem(item)\"\r\n                    [title]=\"'step-export-to-webservice.item-delete' | translate\"\r\n                    id=\"items-delete-{{ item.key }}\"\r\n                  ></i>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n    <div class=\"h-100\" *ngIf=\"'body' == activeTab\">\r\n      <div class=\"row\">\r\n        <div class=\"col-4\">\r\n          <app-field\r\n            [field]=\"typeField\"\r\n            [(value)]=\"workflowStepType\"\r\n            [disabled]=\"workflowStep.action == 'get'\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-12\">\r\n          <app-field\r\n            [field]=\"bodyField\"\r\n            [(value)]=\"workflowStep.body\"\r\n            [disabled]=\"workflowStep.type == 0 || workflowStep.action == 'get'\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { cloneDeep } from 'lodash';\r\nimport { FieldDefinition, FixedDataSource, IFieldOptions, MetaDataType, ObjectIdGenerator } from 'shared-code-lib';\r\nimport { FormsAIWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-forms-ai',\r\n  templateUrl: './step-forms-ai.component.html',\r\n  styleUrls: ['./step-forms-ai.component.scss'],\r\n})\r\nexport class StepFormsAiComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  formsWorkflowStep: FormsAIWorkflowStep;\r\n\r\n  fieldFormType: FieldDefinition;\r\n  fieldFormTypeVariant: FieldDefinition;\r\n  fieldsDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n  fieldsVariantsDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n\r\n  fieldDisplayName: FieldDefinition;\r\n  fieldMaxDocsClassification: FieldDefinition;\r\n  fieldMaxDocsFieldTraining: FieldDefinition;\r\n  dataFieldsLoaded = false;\r\n\r\n  get isVarianceSupported(): boolean {\r\n    return this.formsWorkflowStep.projectVersion >= 3;\r\n  }\r\n  get maxDocsClassification() {\r\n    return `${this.formsWorkflowStep.maxDocumentsUsedForClassification}`;\r\n  }\r\n  set maxDocsClassification(val: string) {\r\n    this.formsWorkflowStep.maxDocumentsUsedForClassification = Number(val);\r\n  }\r\n  get maxDocsFieldTraining() {\r\n    return `${this.formsWorkflowStep.maxDocumentsUsedForFieldTraining}`;\r\n  }\r\n  set maxDocsFieldTraining(val: string) {\r\n    this.formsWorkflowStep.maxDocumentsUsedForFieldTraining = Number(val);\r\n  }\r\n\r\n  constructor(private translateService: TranslateService, private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.formsWorkflowStep = <FormsAIWorkflowStep>this.step.workflowStep;\r\n\r\n    this.setupMetaData();\r\n    this.createFields();\r\n  }\r\n\r\n  setupMetaData(): void {\r\n    const mdds = cloneDeep(this.userState.user.metaData);\r\n    mdds.sort((x, y) => x.name.localeCompare(y.name));\r\n\r\n    this.fieldsVariantsDataSource.options.push({\r\n      name: this.translateService.instant('Metadata-Form.none'),\r\n      value: ObjectIdGenerator.Empty,\r\n    });\r\n    this.fieldsDataSource.options.push({\r\n      name: this.translateService.instant('Metadata-Form.none'),\r\n      value: ObjectIdGenerator.Empty,\r\n    });\r\n\r\n    mdds.forEach((f) => {\r\n      const mdd = { name: f.name, value: f.id };\r\n      this.fieldsDataSource.options.push(mdd);\r\n      this.fieldsVariantsDataSource.options.push(mdd);\r\n    });\r\n  }\r\n\r\n  createFields(): void {\r\n    this.fieldFormType = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('step-interactive.training-form-type-field'),\r\n      placeholder: this.translateService.instant('step-interactive.training-form-type-field'),\r\n      datasource: this.fieldsDataSource,\r\n      required: true,\r\n    });\r\n\r\n    this.fieldFormTypeVariant = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('step-interactive.training-form-type-variant-field'),\r\n      placeholder: this.translateService.instant('step-interactive.training-form-type-variant-field'),\r\n      datasource: this.fieldsVariantsDataSource,\r\n      required: true,\r\n    });\r\n\r\n    this.fieldDisplayName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('admin-workflow.interactive-step-displayname'),\r\n      placeholder: this.translateService.instant('admin-workflow.interactive-step-displayname-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldMaxDocsClassification = new FieldDefinition({\r\n      type: MetaDataType.Integer,\r\n      label: this.translateService.instant('step-interactive.training-max-docs-classification'),\r\n      placeholder: this.translateService.instant('step-interactive.training-max-docs-classification-placeholder'),\r\n      allowNegativeNumbers: false,\r\n      required: true,\r\n    });\r\n\r\n    this.fieldMaxDocsFieldTraining = new FieldDefinition({\r\n      type: MetaDataType.Integer,\r\n      label: this.translateService.instant('step-interactive.training-max-docs-field-training'),\r\n      placeholder: this.translateService.instant('step-interactive.training-max-docs-field-training-placeholder'),\r\n      allowNegativeNumbers: false,\r\n      required: true,\r\n    });\r\n\r\n    this.dataFieldsLoaded = true;\r\n  }\r\n}\r\n","<div class=\"container-fluid d-flex flex-column h-100\">\r\n  <div *ngIf=\"dataFieldsLoaded\" appAutoFocusFirstInput>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field [field]=\"fieldDisplayName\" [(value)]=\"formsWorkflowStep.name\"></app-field>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-4\">\r\n        <app-field\r\n          [field]=\"fieldFormType\"\r\n          [(value)]=\"formsWorkflowStep.formTypeFieldId\"\r\n          [disabled]=\"formsWorkflowStep.lockTraining\"\r\n        ></app-field>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-4\" *ngIf=\"isVarianceSupported\">\r\n        <app-field\r\n          [field]=\"fieldFormTypeVariant\"\r\n          [(value)]=\"formsWorkflowStep.formTypeVariantFieldId\"\r\n          [disabled]=\"formsWorkflowStep.lockTraining\"\r\n        ></app-field>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field [field]=\"fieldMaxDocsClassification\" [(value)]=\"maxDocsClassification\"></app-field>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field [field]=\"fieldMaxDocsFieldTraining\" [(value)]=\"maxDocsFieldTraining\"></app-field>\r\n      </div>\r\n    </div>\r\n    <div class=\"row flex-grow-1\">\r\n      <div class=\"col\"></div>\r\n    </div>\r\n    <div class=\"row\" *ngIf=\"!formsWorkflowStep.isNewStep()\">\r\n      <div class=\"col\" style=\"margin: 5px\">\r\n        <app-checkbox\r\n          [(value)]=\"formsWorkflowStep.lockTraining\"\r\n          [label]=\"'step-interactive.lock-training' | translate\"\r\n        ></app-checkbox>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, ElementRef, Input, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FileDropEvent } from '../../../blocks/directives/drop-zone.directive';\r\nimport { FormsWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { HydraApiService } from '../../../blocks/services/hydra-api.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-forms',\r\n  templateUrl: './step-forms.component.html',\r\n  styleUrls: ['./step-forms.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepFormsComponent implements OnInit {\r\n  @ViewChild('file', { static: true })\r\n  fileInputRef: ElementRef;\r\n  @Input() step: Step;\r\n\r\n  fileInput: HTMLInputElement;\r\n\r\n  formsWorkflowStep: FormsWorkflowStep;\r\n\r\n  constructor(private translate: TranslateService, private hydraApi: HydraApiService) {}\r\n\r\n  ngOnInit() {\r\n    this.formsWorkflowStep = <FormsWorkflowStep>this.step.workflowStep;\r\n    this.formsWorkflowStep.enabled = true;\r\n    this.fileInput = this.fileInputRef.nativeElement;\r\n  }\r\n\r\n  validateForm = (): boolean => {\r\n    return true; //todo:\r\n  };\r\n\r\n  onFileSelected = (evt: any): void => {\r\n    if (this.fileInput.files.length == 0) return;\r\n    this.readFile(this.fileInput.files[0]);\r\n    this.formsWorkflowStep.pathname = this.fileInput.files[0].name;\r\n  };\r\n\r\n  public onFilesDropped = (event: FileDropEvent) => {\r\n    if (event.files.length == 0) return;\r\n    this.readFile(event.files[0]);\r\n    this.formsWorkflowStep.pathname = event.files[0].name;\r\n  };\r\n\r\n  getProjectFile = (): string => {\r\n    if (this.formsWorkflowStep.pathname) return this.formsWorkflowStep.pathname;\r\n\r\n    return this.translate.instant('admin-workflow.no-forms-project-selected');\r\n  };\r\n\r\n  readFile = (file: File): void => {\r\n    this.formsWorkflowStep.file = null;\r\n    const reader = new FileReader();\r\n    reader.onload = (event: any) => {\r\n      this.formsWorkflowStep.file = event.target.result.split(',')[1];\r\n    };\r\n\r\n    reader.readAsDataURL(file);\r\n  };\r\n}\r\n","<div class=\"container-fluid step-forms\">\r\n  <div class=\"row\" [class.disabled]=\"!formsWorkflowStep.enabled\">\r\n    <div class=\"col-4\">\r\n      <app-label [localize]=\"true\" [required]=\"true\" [text]=\"'admin-workflow.project-file'\"></app-label>\r\n      <span class=\"file-item w-100 text-truncate project-file\" [title]=\"getProjectFile()\">\r\n        {{ getProjectFile() }}\r\n      </span>\r\n    </div>\r\n    <div class=\"col-8\">\r\n      <div class=\"ngx-file-drop__drop-zone\">\r\n        <div class=\"w-100 h-100\" (appDropZone)=\"onFilesDropped($event)\">\r\n          <div style=\"text-align: center;\">\r\n            <p>&nbsp;</p>\r\n\r\n            <input type=\"file\" accept=\".zip\" #file style=\"display: none;\" (change)=\"onFileSelected($event)\" />\r\n\r\n            <button class=\"btn btn-info btn-minwidth mb-3\" (click)=\"file.click()\">\r\n              {{ 'FileUpload.ChooseFile' | translate }}\r\n            </button>\r\n\r\n            <p>&nbsp;</p>\r\n            <span>{{ 'admin-workflow.dnd-forms-project-instructions' | translate }} </span>\r\n            <p>&nbsp;</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ImageProcessingStep } from '../../../blocks/models/workflow-step';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-imageprocessing',\r\n  templateUrl: './step-imageprocessing.component.html',\r\n  styleUrls: ['./step-imageprocessing.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepImageprocessingComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  imageProcessingStep: ImageProcessingStep;\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.imageProcessingStep = <ImageProcessingStep>this.step.workflowStep;\r\n  }\r\n}\r\n","<div class=\"step-imageprocessing-panel container-fluid\">\r\n  <div>\r\n    <app-checkbox\r\n      name=\"despeckle\"\r\n      [(value)]=\"imageProcessingStep.despeckle\"\r\n      label=\"admin-workflow.image-despeckle\"\r\n    ></app-checkbox>\r\n  </div>\r\n  <div>\r\n    <app-checkbox\r\n      name=\"deskew\"\r\n      [(value)]=\"imageProcessingStep.deskew\"\r\n      label=\"admin-workflow.image-deskew\"\r\n    ></app-checkbox>\r\n  </div>\r\n  <div>\r\n    <app-checkbox\r\n      name=\"autorotate\"\r\n      [(value)]=\"imageProcessingStep.autoRotate\"\r\n      label=\"admin-workflow.image-auto-rotate\"\r\n    ></app-checkbox>\r\n  </div>\r\n  <div>\r\n    <app-checkbox\r\n      name=\"blankpageremoval\"\r\n      [(value)]=\"imageProcessingStep.blankPageRemoval\"\r\n      label=\"admin-workflow.image-blankpageremoval\"\r\n    ></app-checkbox>\r\n  </div>\r\n  <div>\r\n    <app-checkbox\r\n      name=\"binarize\"\r\n      [(value)]=\"imageProcessingStep.binarize\"\r\n      label=\"admin-workflow.image-binarize\"\r\n    ></app-checkbox>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ObjectIdGenerator } from 'shared-code-lib';\r\nimport { FieldDefinition, IFieldOptions } from '../../../../../../../../Bamba.Shared/src/models/field-definition';\r\nimport { FixedDataSource } from '../../../../../../../../Bamba.Shared/src/models/fixed-datasource';\r\nimport { MetaDataType } from '../../../../../../../../Bamba.Shared/src/models/metadata-definition';\r\nimport { Workflow } from '../../../../blocks/models/workflow';\r\nimport { InteractiveWorkflowStep } from '../../../../blocks/models/workflow-step';\r\n\r\n@Component({\r\n  selector: 'app-step-interactive-advanced',\r\n  templateUrl: './step-interactive-advanced.component.html',\r\n  styleUrls: ['./step-interactive-advanced.component.scss'],\r\n})\r\nexport class StepInteractiveAdvancedComponent implements OnInit {\r\n  @Input() workflowStep: InteractiveWorkflowStep;\r\n  @Input() workflow: Workflow;\r\n\r\n  fieldSortBy: FieldDefinition;\r\n  fieldSortDirection: FieldDefinition;\r\n  fieldTimeoutInHours: FieldDefinition;\r\n  fieldTimeoutOutcomeId: FieldDefinition;\r\n\r\n  get workflowStepSortBy() {\r\n    return `${this.workflowStep.sortBy}`;\r\n  }\r\n  set workflowStepSortBy(val: string) {\r\n    this.workflowStep.sortBy = Number(val);\r\n  }\r\n  get workflowStepSortDirection() {\r\n    return `${this.workflowStep.sortDirection}`;\r\n  }\r\n  set workflowStepSortDirection(val: string) {\r\n    this.workflowStep.sortDirection = Number(val);\r\n  }\r\n  get workflowStepTimeoutInHours() {\r\n    return `${this.workflowStep.timeoutInHours}`;\r\n  }\r\n  set workflowStepTimeoutInHours(val: string) {\r\n    this.workflowStep.timeoutInHours = Number(val);\r\n  }\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n    const SortByOptions = [\r\n      { name: this.translate.instant('admin-workflow.interactive-step-sort-by-date'), value: '0' },\r\n      { name: this.translate.instant('admin-workflow.interactive-step-sort-by-name'), value: '1' },\r\n    ];\r\n\r\n    const sortDirectionOptions = [\r\n      { name: this.translate.instant('admin-workflow.interactive-step-sort-direction-ascending'), value: '0' },\r\n      { name: this.translate.instant('admin-workflow.interactive-step-sort-direction-descending'), value: '1' },\r\n    ];\r\n\r\n    this.fieldSortBy = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('admin-workflow.interactive-step-sort-by'),\r\n      placeholder: this.translate.instant('admin-workflow.interactive-step-sort-by-placeholder'),\r\n      datasource: new FixedDataSource(SortByOptions),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldSortDirection = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('admin-workflow.interactive-step-sort-direction'),\r\n      placeholder: this.translate.instant('admin-workflow.interactive-step-sort-direction-placeholder'),\r\n      datasource: new FixedDataSource(sortDirectionOptions),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldTimeoutInHours = new FieldDefinition({\r\n      type: MetaDataType.Integer,\r\n      label: this.translate.instant('step-interactive.timeout-in-hours'),\r\n      placeholder: this.translate.instant('step-interactive.timeout-in-hours'),\r\n      required: false,\r\n    });\r\n\r\n    const options = new Array<IFieldOptions>();\r\n    const sortedSteps = this.workflow.workflowSteps.sort((x, y) => x.name.localeCompare(y.name));\r\n    options.push({\r\n      name: this.translate.instant('Metadata-Form.none'),\r\n      value: ObjectIdGenerator.Empty,\r\n    });\r\n    for (let step of sortedSteps) {\r\n      const item = { name: step.name, value: step.id };\r\n      options.push(item);\r\n    }\r\n    this.fieldTimeoutOutcomeId = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-interactive.timeout-outcome'),\r\n      placeholder: this.translate.instant('step-interactive.timeout-outcome'),\r\n      datasource: new FixedDataSource(options),\r\n      required: false,\r\n    });\r\n  }\r\n}\r\n","<div class=\"row mx-2\">\r\n  <div class=\"col-6\">\r\n    <app-field [field]=\"fieldSortBy\" [(value)]=\"workflowStepSortBy\"></app-field>\r\n  </div>\r\n  <div class=\"col-6\">\r\n    <app-field [field]=\"fieldSortDirection\" [(value)]=\"workflowStepSortDirection\"></app-field>\r\n  </div>\r\n\r\n  <div class=\"col-12 mt-2\">\r\n    <app-checkbox [(value)]=\"workflowStep.restrictViewToOwner\" [label]=\"'step-interactive.restrictViewToOwner'\">\r\n    </app-checkbox>\r\n  </div>\r\n  <div class=\"col-12\">\r\n    <app-checkbox\r\n      [(value)]=\"workflowStep.automaticallyAdvanceDocumentOnTab\"\r\n      [label]=\"'step-interactive.automaticallyAdvanceDocumentOnTab'\"\r\n    ></app-checkbox>\r\n  </div>\r\n  <div class=\"col-12\">\r\n    <app-checkbox [(value)]=\"workflowStep.allowTimeout\" [label]=\"'step-interactive.allow-timeout'\"></app-checkbox>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field\r\n          [field]=\"fieldTimeoutInHours\"\r\n          [(value)]=\"workflowStepTimeoutInHours\"\r\n          [disabled]=\"!workflowStep.allowTimeout\"\r\n        ></app-field>\r\n      </div>\r\n      <div class=\"col-6\">\r\n        <app-field\r\n          [field]=\"fieldTimeoutOutcomeId\"\r\n          [(value)]=\"workflowStep.timeoutOutcomeId\"\r\n          [disabled]=\"!workflowStep.allowTimeout\"\r\n        ></app-field>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, Input, Output, EventEmitter, ViewEncapsulation } from '@angular/core';\r\nimport { Capabilities } from '../../../document-capture/capture-models';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nclass Capability {\r\n  constructor(id: string, name: string) {\r\n    this.id = id;\r\n    this.name = name;\r\n  }\r\n\r\n  public id: string;\r\n  public name: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-step-interactive-capabilities',\r\n  templateUrl: './step-interactive-capabilities.component.html',\r\n  styleUrls: ['./step-interactive-capabilities.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepInteractiveCapabilitiesComponent implements OnInit {\r\n  @Input() capabilities: Array<string>;\r\n  @Output() capabilitiesChange = new EventEmitter<Array<string>>();\r\n\r\n  available: Array<Capability> = [];\r\n  current: Array<Capability> = [];\r\n\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.loadAvailable();\r\n    this.loadCurrent();\r\n  }\r\n\r\n  loadCurrent = (): void => {\r\n    for (let capability of this.capabilities) {\r\n      const c = this.available.find((a) => a.id == capability);\r\n      if (c == null) continue;\r\n\r\n      this.current.push(c);\r\n    }\r\n  };\r\n\r\n  loadAvailable = (): void => {\r\n    this.addAvailable(Capabilities.allowCaptureImport);\r\n    this.addAvailable(Capabilities.allowCaptureScan);\r\n    this.addAvailable(Capabilities.deletePage);\r\n    this.addAvailable(Capabilities.deleteDocument);\r\n    this.addAvailable(Capabilities.allowDropDocument);\r\n    this.addAvailable(Capabilities.allowDropDocumentPage);\r\n    this.addAvailable(Capabilities.allowDropExternalDocument);\r\n    this.addAvailable(Capabilities.allowCaptureRescanPage);\r\n    this.addAvailable(Capabilities.allowCaptureScanMorePages);\r\n    this.addAvailable(Capabilities.allowCaptureScanToFolder);\r\n    this.addAvailable(Capabilities.allowCaptureReimportPage);\r\n    this.addAvailable(Capabilities.allowCaptureImportMorePages);\r\n    this.addAvailable(Capabilities.allowCaptureImportToFolder);\r\n    this.addAvailable(Capabilities.allowAnnotations);\r\n    this.available = this.available.sort((x, y) => (x.name === y.name ? 0 : x.name < y.name ? -1 : 1));\r\n  };\r\n\r\n  addAvailable = (capability: string): void => {\r\n    this.available.push(new Capability(capability, this.translate.instant(`step-capabilities.${capability}`)));\r\n  };\r\n\r\n  currentChanged = (items: Array<Capability>) => {\r\n    this.capabilities = [];\r\n\r\n    for (let item of items) {\r\n      this.capabilities.push(item.id);\r\n    }\r\n\r\n    this.capabilitiesChange.emit(this.capabilities);\r\n  };\r\n}\r\n","<app-dual-picklist\r\n  [available]=\"available\"\r\n  [current]=\"current\"\r\n  (currentChange)=\"currentChanged($event)\"\r\n  [displayField]=\"'name'\"\r\n  [listName]=\"'step-interactive.capabilities' | translate\"\r\n  [allowOrderSelectedItems]=\"false\"\r\n>\r\n</app-dual-picklist>\r\n","import { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\r\nimport { MetaDataDefinition, MetaDataType } from 'shared-code-lib';\r\nimport { Workflow } from '../../../../blocks/models/workflow';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-step-interactive-groupings',\r\n  templateUrl: './step-interactive-groupings.component.html',\r\n  styleUrls: ['./step-interactive-groupings.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepInteractiveGroupingsComponent implements OnInit {\r\n  @Input() itemGroupingIds: Array<string> = [];\r\n  @Input() workflow: Workflow;\r\n  @Output() itemGroupingIdsChange = new EventEmitter<Array<string>>();\r\n\r\n  available: Array<MetaDataDefinition> = [];\r\n  current: Array<MetaDataDefinition> = [];\r\n\r\n  constructor(private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setupMetaData();\r\n  }\r\n\r\n  setupMetaData(): void {\r\n    const mdds = this.userState.user.metaData;\r\n    this.current = [];\r\n\r\n    this.available = mdds.filter(\r\n      (m) =>\r\n        m.type != MetaDataType.LineItems &&\r\n        m.type != MetaDataType.CascadingOptions &&\r\n        m.allowedForWorkflow(this.workflow.id)\r\n    );\r\n\r\n    for (let id of this.itemGroupingIds) {\r\n      const item = mdds.find((m) => m.id === id);\r\n      if (!item.allowedForWorkflow(this.workflow.id)) continue;\r\n\r\n      if (item) this.current.push(item);\r\n    }\r\n  }\r\n\r\n  currentChanged(items: Array<MetaDataDefinition>): void {\r\n    this.itemGroupingIds = items.map((item) => item.id);\r\n\r\n    this.itemGroupingIdsChange.emit(this.itemGroupingIds);\r\n  }\r\n}\r\n","<app-dual-picklist\r\n  [available]=\"available\"\r\n  [current]=\"current\"\r\n  (currentChange)=\"currentChanged($event)\"\r\n  [displayField]=\"'name'\"\r\n  [listName]=\"'step-interactive.index-fields' | translate\"\r\n></app-dual-picklist>\r\n","import { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\r\nimport { MetaDataDefinition } from 'shared-code-lib';\r\nimport { Workflow } from '../../../../blocks/models/workflow';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-step-interactive-indexing',\r\n  templateUrl: './step-interactive-indexing.component.html',\r\n  styleUrls: ['./step-interactive-indexing.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepInteractiveIndexingComponent implements OnInit {\r\n  @Input() metadataIds: Array<string> = [];\r\n  @Input() workflow: Workflow;\r\n  @Output() metadataIdsChange = new EventEmitter<Array<string>>();\r\n\r\n  available: Array<MetaDataDefinition> = [];\r\n  current: Array<MetaDataDefinition> = [];\r\n\r\n  constructor(private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setupMetaData();\r\n  }\r\n\r\n  setupMetaData(): void {\r\n    const mdds = this.userState.user.metaData;\r\n    this.current = [];\r\n\r\n    this.available = mdds.filter((i) => i.allowedForWorkflow(this.workflow.id));\r\n\r\n    for (let id of this.metadataIds) {\r\n      const item = mdds.find((m) => m.id === id);\r\n      if (!item.allowedForWorkflow(this.workflow.id)) continue;\r\n\r\n      if (item) this.current.push(item);\r\n    }\r\n  }\r\n\r\n  currentChanged(items: Array<MetaDataDefinition>): void {\r\n    this.metadataIds = items.map((item) => item.id);\r\n\r\n    this.metadataIdsChange.emit(this.metadataIds);\r\n  }\r\n}\r\n","<app-dual-picklist\r\n  [available]=\"available\"\r\n  [current]=\"current\"\r\n  (currentChange)=\"currentChanged($event)\"\r\n  [displayField]=\"'name'\"\r\n  [listName]=\"'step-interactive.index-fields' | translate\"\r\n></app-dual-picklist>\r\n","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\r\nimport { DelayService } from 'shared-code-lib';\r\nimport { IOutcome, Interactive, Outcome } from '../../../../blocks/models/outcome';\r\n\r\n@Component({\r\n  selector: 'app-step-interactive-outcomes',\r\n  templateUrl: './step-interactive-outcomes.component.html',\r\n  styleUrls: ['./step-interactive-outcomes.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepInteractiveOutcomesComponent implements OnInit {\r\n  @Input() outcomes: Array<Outcome> = [];\r\n  @Output() outcomesChange = new EventEmitter<Array<Outcome>>();\r\n\r\n  sortable = false;\r\n  constructor(private delay: DelayService) {}\r\n\r\n  ngOnInit() {}\r\n\r\n  onDeleteOutcome = (outcome: IOutcome): void => {\r\n    this.outcomes = this.outcomes.filter((o) => o.id !== outcome.id);\r\n    this.outcomesChange.emit(this.outcomes);\r\n  };\r\n\r\n  onOutcomeOrderChanged = (): void => {\r\n    this.outcomesChange.emit(this.outcomes);\r\n  };\r\n\r\n  onAddOutcome = (): void => {\r\n    this.outcomes.push(Interactive.create());\r\n    this.outcomesChange.emit(this.outcomes);\r\n\r\n    this.delay.execute(this.setFocusToAddedOutcome, 1);\r\n  };\r\n\r\n  setFocusToAddedOutcome = (): void => {\r\n    const id = `workflow-outcome-${this.outcomes.length - 1}`;\r\n    const lastOutcome = document.getElementById(id);\r\n    if (lastOutcome) {\r\n      lastOutcome.focus();\r\n    }\r\n  };\r\n\r\n  dropped(event: CdkDragDrop<string[]>) {\r\n    moveItemInArray(this.outcomes, event.previousIndex, event.currentIndex);\r\n  }\r\n}\r\n","<div class=\"step-interactive-properties step-interactive-outcomes\">\r\n  <table class=\"table\">\r\n    <thead>\r\n      <tr>\r\n        <td></td>\r\n        <td class=\"col-width\">{{ 'step-interactive.button-label' | translate }}</td>\r\n        <td class=\"col-width\">{{ 'step-interactive.require-valid-metadata' | translate }}</td>\r\n        <td>\r\n          <button\r\n            class=\"button-icon\"\r\n            (click)=\"onAddOutcome()\"\r\n            title=\"{{ 'step-interactive.tooltip-addaction' | translate }}\"\r\n          >\r\n            <div class=\"add-circle d-flex justify-content-center align-items-center\">\r\n              <i class=\"icon-plus\"></i>\r\n            </div>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </thead>\r\n\r\n    <tbody cdkDropList (cdkDropListDropped)=\"dropped($event)\" [perfectScrollbar]=\"{ suppressScrollX: true }\">\r\n      <tr *ngFor=\"let outcome of outcomes; let i = index\" cdkDrag>\r\n        <td>\r\n          <i class=\"icomoon-grip-small gripper\" cdkDragHandle> </i>\r\n        </td>\r\n        <td class=\"data-col-width\">\r\n          <input\r\n            class=\"form-control\"\r\n            type=\"text\"\r\n            [ngModel]=\"outcome.label\"\r\n            (ngModelChange)=\"outcome.label = $event\"\r\n            [ngModelOptions]=\"{ standalone: true }\"\r\n            [class.disabled]=\"!outcome.enabled\"\r\n            [id]=\"'workflow-outcome-' + i.toString()\"\r\n          />\r\n        </td>\r\n\r\n        <td class=\"data-col-width\">\r\n          <app-checkbox\r\n            name=\"step.workflowStep.requiresValidMetaData\"\r\n            [(value)]=\"outcome.requiresValidMetaData\"\r\n            [disabled]=\"!outcome.enabled\"\r\n          ></app-checkbox>\r\n        </td>\r\n\r\n        <td title=\"{{ 'step-interactive.tooltip-deleteaction' | translate }}\">\r\n          <app-delete-icon class=\"step-action-edit-button\" (click)=\"onDeleteOutcome(outcome)\"></app-delete-icon>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n","import { Component, OnInit, ViewEncapsulation, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Role } from 'shared-code-lib';\r\nimport { HydraApiService } from '../../../../blocks/services/hydra-api.service';\r\n\r\n@Component({\r\n  selector: 'app-step-interactive-roles',\r\n  templateUrl: './step-interactive-roles.component.html',\r\n  styleUrls: ['./step-interactive-roles.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepInteractiveRolesComponent implements OnInit {\r\n  @Input() roleIds: Array<string> = [];\r\n  @Output() roleIdsChange = new EventEmitter<Array<string>>();\r\n\r\n  available: Array<Role> = [];\r\n  current: Array<Role> = [];\r\n\r\n  constructor(private hydraApi: HydraApiService) {}\r\n\r\n  ngOnInit() {\r\n    this.loadPicklistItems();\r\n  }\r\n\r\n  currentChanged = (items: Array<Role>) => {\r\n    this.roleIds = [];\r\n    for (let item of items) {\r\n      this.roleIds.push(item.id);\r\n    }\r\n\r\n    this.roleIdsChange.emit(this.roleIds);\r\n  };\r\n\r\n  loadPicklistItems = () => {\r\n    this.hydraApi.getRoles(this.loaded, this.loadFailed);\r\n  };\r\n\r\n  loaded = (roles: Array<Role>) => {\r\n    this.available = roles;\r\n    this.current = roles.filter((r) => this.roleIds.find((ri) => ri == r.id) != null);\r\n  };\r\n\r\n  loadFailed = () => {};\r\n}\r\n","<app-dual-picklist\r\n  [available]=\"available\"\r\n  [current]=\"current\"\r\n  [allowOrderSelectedItems]=\"false\"\r\n  (currentChange)=\"currentChanged($event)\"\r\n  [displayField]=\"'name'\"\r\n  [listName]=\"'step-interactive.roles' | translate\"\r\n></app-dual-picklist>\r\n","import { Component, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\r\n\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { DelayService, FieldDefinition, FixedDataSource, IFieldOptions, Key, MetaDataType } from 'shared-code-lib';\r\nimport {\r\n  Threshold,\r\n  ThresholdDataField,\r\n  ThresholdStyle,\r\n  ThresholdUnits,\r\n} from '../../../../blocks/models/workflow-threshold';\r\n\r\n@Component({\r\n  selector: 'app-step-interactive-thresholds',\r\n  templateUrl: './step-interactive-thresholds.component.html',\r\n  styleUrls: ['./step-interactive-thresholds.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepInteractiveThresholdsComponent implements OnInit {\r\n  @Input() thresholds: Array<Threshold> = [];\r\n  @Output() thresholdsChange = new EventEmitter<Array<Threshold>>();\r\n\r\n  dataFieldDataSource: FixedDataSource;\r\n  unitsDataSource: FixedDataSource;\r\n  stylesDataSource: FixedDataSource;\r\n\r\n  dataFieldDropLists = new Array<FieldDefinition>();\r\n  unitsdDropLists = new Array<FieldDefinition>();\r\n  stylesDropLists = new Array<FieldDefinition>();\r\n\r\n  fieldTooltip: FieldDefinition;\r\n\r\n  sortable = false;\r\n  constructor(private delay: DelayService, private translate: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    const dataFields = new Array<IFieldOptions>();\r\n    dataFields.push({\r\n      name: this.translate.instant('step-interactive.date-created'),\r\n      value: `${ThresholdDataField.DateCreated}`,\r\n    });\r\n    dataFields.push({\r\n      name: this.translate.instant('step-interactive.date-modified'),\r\n      value: `${ThresholdDataField.DateModified}`,\r\n    });\r\n    this.dataFieldDataSource = new FixedDataSource(dataFields);\r\n\r\n    const units = new Array<IFieldOptions>();\r\n    units.push({ name: this.translate.instant('step-interactive.unit-minutes'), value: `${ThresholdUnits.Minutes}` });\r\n    units.push({ name: this.translate.instant('step-interactive.unit-hours'), value: `${ThresholdUnits.Hours}` });\r\n    units.push({ name: this.translate.instant('step-interactive.unit-days'), value: `${ThresholdUnits.Days}` });\r\n    this.unitsDataSource = new FixedDataSource(units);\r\n\r\n    const styles = new Array<IFieldOptions>();\r\n    styles.push({ name: this.translate.instant('step-interactive.style-caution'), value: `${ThresholdStyle.Caution}` });\r\n    styles.push({ name: this.translate.instant('step-interactive.style-warning'), value: `${ThresholdStyle.Warning}` });\r\n    styles.push({\r\n      name: this.translate.instant('step-interactive.style-critical'),\r\n      value: `${ThresholdStyle.Critical}`,\r\n    });\r\n    this.stylesDataSource = new FixedDataSource(styles);\r\n\r\n    this.fieldTooltip = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      placeholder: this.translate.instant('step-interactive.threshold-tooltip-placeholder'),\r\n    });\r\n  }\r\n\r\n  onDeleteThreshold = (threshold: Threshold): void => {\r\n    this.thresholds = this.thresholds.filter((o) => o.id !== threshold.id);\r\n    this.thresholdsChange.emit(this.thresholds);\r\n  };\r\n\r\n  onThresholdOrderChanged = (): void => {\r\n    this.thresholdsChange.emit(this.thresholds);\r\n  };\r\n\r\n  onAddThreshold = (): void => {\r\n    this.thresholds.push(Threshold.create());\r\n    this.thresholdsChange.emit(this.thresholds);\r\n\r\n    this.delay.execute(this.setFocusToAddedThreshold, 1);\r\n  };\r\n\r\n  setFocusToAddedThreshold = (): void => {\r\n    const id = `workflow-threshold-${this.thresholds.length - 1}`;\r\n    const lastThreshold = document.getElementById(id);\r\n    if (lastThreshold) {\r\n      lastThreshold.focus();\r\n    }\r\n  };\r\n\r\n  getUnitsDropList = (index: number): FieldDefinition =>\r\n    this.getDropListField(index, this.unitsdDropLists, this.unitsDataSource);\r\n  getDataFieldDropList = (index: number): FieldDefinition =>\r\n    this.getDropListField(index, this.dataFieldDropLists, this.dataFieldDataSource);\r\n  getStylesDropList = (index: number): FieldDefinition =>\r\n    this.getDropListField(index, this.stylesDropLists, this.stylesDataSource);\r\n\r\n  getDropListField = (index: number, dropLists: Array<FieldDefinition>, ds: FixedDataSource): FieldDefinition => {\r\n    while (dropLists.length <= index) {\r\n      dropLists.push(\r\n        new FieldDefinition({\r\n          type: MetaDataType.List,\r\n          label: '',\r\n          placeholder: '',\r\n          datasource: ds,\r\n          required: false,\r\n        })\r\n      );\r\n    }\r\n\r\n    return dropLists[index];\r\n  };\r\n\r\n  validateNumber = (event): boolean => {\r\n    var key;\r\n    if (window.event) key = event.key;\r\n\r\n    if (event.key === Key.Backspace || event.key === Key.Delete) {\r\n      return true;\r\n    } else if (isNaN(Number(key)) || event.key === Key.Space) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  dropped(event: CdkDragDrop<string[]>) {\r\n    moveItemInArray(this.thresholds, event.previousIndex, event.currentIndex);\r\n  }\r\n\r\n  getThresholdDataField = (index: number) => {\r\n    return `${this.thresholds[index].dataField}`;\r\n  };\r\n  setThresholdDataField = (index: number, val: string) => {\r\n    this.thresholds[index].dataField = Number(val);\r\n  };\r\n  getThresholdUnit = (index: number) => {\r\n    return `${this.thresholds[index].unit}`;\r\n  };\r\n  setThresholdUnit = (index: number, val: string) => {\r\n    this.thresholds[index].unit = Number(val);\r\n  };\r\n  getThresholdStyle = (index: number) => {\r\n    return `${this.thresholds[index].style}`;\r\n  };\r\n  setThresholdStyle = (index: number, val: string) => {\r\n    this.thresholds[index].style = Number(val);\r\n  };\r\n}\r\n","<div class=\"step-interactive-properties step-interactive-thresholds\">\r\n  <table class=\"table\">\r\n    <thead>\r\n      <tr>\r\n        <td class=\"icon\"></td>\r\n        <td class=\"data-field\">{{ 'step-interactive.threshold-property' | translate }}</td>\r\n        <td class=\"between\">{{ 'step-interactive.threshold-comparison' | translate }}</td>\r\n        <td class=\"small-drop-list\">{{ 'step-interactive.threshold-unit' | translate }}</td>\r\n        <td class=\"small-drop-list\">{{ 'step-interactive.threshold-style' | translate }}</td>\r\n        <td class=\"add-threshold-btn\">\r\n          <button\r\n            class=\"button-icon\"\r\n            (click)=\"onAddThreshold()\"\r\n            title=\"{{ 'step-interactive.tooltip-addalert' | translate }}\"\r\n          >\r\n            <div class=\"add-circle d-flex justify-content-center align-items-center\">\r\n              <i class=\"icon-plus\"></i>\r\n            </div>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </thead>\r\n\r\n    <tbody cdkDropList (cdkDropListDropped)=\"dropped($event)\" [perfectScrollbar]=\"{ suppressScrollX: true }\">\r\n      <tr *ngFor=\"let threshold of thresholds; let i = index\" cdkDrag>\r\n        <td class=\"icon\">\r\n          <i class=\"icomoon-grip-small gripper\" cdkDragHandle> </i>\r\n        </td>\r\n        <td class=\"data-field\">\r\n          <app-field\r\n            [field]=\"getDataFieldDropList(i)\"\r\n            [value]=\"getThresholdDataField(i)\"\r\n            (valueChange)=\"setThresholdDataField(i, $event)\"\r\n          ></app-field>\r\n          <app-field\r\n            [field]=\"fieldTooltip\"\r\n            class=\"tooltip-field\"\r\n            [(value)]=\"threshold.tooltip\"\r\n            [maxLength]=\"80\"\r\n          ></app-field>\r\n        </td>\r\n        <td class=\"between\">\r\n          <div class=\"between d-flex align-items-center\">\r\n            <input\r\n              class=\"form-control small-input\"\r\n              type=\"text\"\r\n              (keypress)=\"validateNumber($event)\"\r\n              [ngModel]=\"threshold.minimum\"\r\n              (ngModelChange)=\"threshold.minimum = $event\"\r\n              [ngModelOptions]=\"{ standalone: true }\"\r\n              [id]=\"'workflow-threshold-minimum' + i.toString()\"\r\n            />\r\n            &nbsp;&amp;&nbsp;\r\n            <input\r\n              class=\"form-control small-input\"\r\n              type=\"text\"\r\n              (keypress)=\"validateNumber($event)\"\r\n              [ngModel]=\"threshold.maximum\"\r\n              (ngModelChange)=\"threshold.maximum = $event\"\r\n              [ngModelOptions]=\"{ standalone: true }\"\r\n              [id]=\"'workflow-threshold-maximum' + i.toString()\"\r\n            />\r\n          </div>\r\n        </td>\r\n        <td class=\"small-drop-list\">\r\n          <app-field\r\n            [field]=\"getUnitsDropList(i)\"\r\n            [value]=\"getThresholdUnit(i)\"\r\n            (valueChange)=\"setThresholdUnit(i, $event)\"\r\n          ></app-field>\r\n        </td>\r\n        <td class=\"small-drop-list\">\r\n          <app-field\r\n            [field]=\"getStylesDropList(i)\"\r\n            [value]=\"getThresholdStyle(i)\"\r\n            (valueChange)=\"setThresholdStyle(i, $event)\"\r\n          ></app-field>\r\n        </td>\r\n        <td class=\"delete-button\">\r\n          <app-delete-icon\r\n            (click)=\"onDeleteThreshold(threshold)\"\r\n            title=\"{{ 'step-interactive.tooltip-deletealert' | translate }}\"\r\n          ></app-delete-icon>\r\n        </td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, FixedDataSource, IFieldOptions, MetaDataDefinition, MetaDataType } from 'shared-code-lib';\r\nimport { FormsAIWorkflowStep, InteractiveWorkflowStep, IWorkflowStep } from '../../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-step-interactive-training',\r\n  templateUrl: './step-interactive-training.component.html',\r\n  styleUrls: ['./step-interactive-training.component.scss'],\r\n})\r\nexport class StepInteractiveTrainingComponent implements OnInit {\r\n  @Input() classifySteps: Array<IWorkflowStep> = [];\r\n  @Input() workflowStep: InteractiveWorkflowStep;\r\n\r\n  stepsDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n  fieldClassifyStep: FieldDefinition;\r\n\r\n  availableDataFields: Array<MetaDataDefinition> = [];\r\n  currentDataFields: Array<MetaDataDefinition> = [];\r\n\r\n  get isTrainingLocked(): boolean {\r\n    return this.formsAiWorkflowStep?.lockTraining ?? false;\r\n  }\r\n\r\n  get stepLockedText(): string {\r\n    return this.translate\r\n      .instant('step-interactive.step-locked')\r\n      .replace('{stepname}', this.formsAiWorkflowStep?.name ?? '');\r\n  }\r\n\r\n  get formsAiWorkflowStep(): FormsAIWorkflowStep {\r\n    let id = this.workflowStep?.formTraining?.classifyStepId;\r\n    return (this.classifySteps?.find((s) => s.id === id) as FormsAIWorkflowStep) ?? null;\r\n  }\r\n\r\n  constructor(private translate: TranslateService, private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setupMetaData();\r\n    this.createFields();\r\n\r\n    if (\r\n      this.classifySteps.length &&\r\n      this.classifySteps.findIndex((s) => s.id === this.workflowStep.formTraining.classifyStepId) < 0\r\n    ) {\r\n      this.workflowStep.formTraining.classifyStepId = this.classifySteps[0].id;\r\n    }\r\n  }\r\n\r\n  setupMetaData(): void {\r\n    this.availableDataFields = this.userState.user.metaData.filter((m) => this.workflowStep.metaDataIds.includes(m.id));\r\n    this.currentDataFields = this.availableDataFields.filter((f) =>\r\n      this.workflowStep.formTraining.metaDataIds.includes(f.id)\r\n    );\r\n  }\r\n\r\n  createFields(): void {\r\n    this.classifySteps.forEach((s) => {\r\n      this.stepsDataSource.options.push({\r\n        name: s.name,\r\n        value: s.id,\r\n      });\r\n    });\r\n\r\n    this.fieldClassifyStep = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-interactive.training-classify-step'),\r\n      placeholder: this.translate.instant('step-interactive.training-classify-step'),\r\n      datasource: this.stepsDataSource,\r\n      required: true,\r\n    });\r\n  }\r\n\r\n  currentDataFieldChanged = (items: Array<MetaDataDefinition>) => {\r\n    this.workflowStep.formTraining.metaDataIds = [];\r\n    for (let item of items) {\r\n      this.workflowStep.formTraining.metaDataIds.push(item.id);\r\n    }\r\n  };\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-3\">\r\n    <app-checkbox\r\n      [(value)]=\"workflowStep.formTraining.enabled\"\r\n      label=\"step-interactive.training-enabled\"\r\n    ></app-checkbox>\r\n  </div>\r\n</div>\r\n\r\n<div *ngIf=\"workflowStep.formTraining.enabled\" class=\"indented\" [class.disabled]=\"!workflowStep.formTraining.enabled\">\r\n  <div class=\"row mb-2\">\r\n    <div class=\"col-6\" *ngIf=\"fieldClassifyStep\">\r\n      <app-field [field]=\"fieldClassifyStep\" [(value)]=\"workflowStep.formTraining.classifyStepId\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div *ngIf=\"isTrainingLocked; then trainingLocked; else trainingNotLocked\"></div>\r\n\r\n  <ng-template #trainingLocked>\r\n    <div class=\"row align-items-center pt-5\">\r\n      <div class=\"col flex-grow-1\"></div>\r\n      <div class=\"col\">\r\n        <app-label [text]=\"stepLockedText\" [localize]=\"false\"></app-label>\r\n      </div>\r\n      <div class=\"col flex-grow-1\"></div>\r\n    </div>\r\n  </ng-template>\r\n\r\n  <ng-template #trainingNotLocked>\r\n    <app-dual-picklist\r\n      [available]=\"availableDataFields\"\r\n      [current]=\"currentDataFields\"\r\n      (currentChange)=\"currentDataFieldChanged($event)\"\r\n      [displayField]=\"'name'\"\r\n      [listName]=\"'step-interactive.training-data-fields' | translate\"\r\n      [allowOrderSelectedItems]=\"false\"\r\n    >\r\n    </app-dual-picklist>\r\n  </ng-template>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, MetaDataType, Tab } from 'shared-code-lib';\r\nimport { Workflow } from '../../../blocks/models/workflow';\r\nimport { InteractiveWorkflowStep, IWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-interactive',\r\n  templateUrl: './step-interactive.component.html',\r\n  styleUrls: ['./step-interactive.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepInteractiveComponent implements OnInit {\r\n  @Input() step: Step;\r\n  @Input() workflow: Workflow;\r\n\r\n  workflowStep: InteractiveWorkflowStep;\r\n\r\n  fieldDisplayName: FieldDefinition;\r\n\r\n  activeTab = 'roles';\r\n  tabs = new Array<Tab>();\r\n\r\n  previousClassifySteps = new Array<IWorkflowStep>();\r\n\r\n  constructor(private translateService: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.workflowStep = <InteractiveWorkflowStep>this.step.workflowStep;\r\n    this.createFields();\r\n    this.createTabs();\r\n  }\r\n\r\n  private createTabs = () => {\r\n    this.tabs.push(new Tab('roles', this.translateService.instant('step-interactive.roles')));\r\n    this.tabs.push(new Tab('index', this.translateService.instant('step-interactive.index-fields')));\r\n    this.tabs.push(new Tab('groupings', this.translateService.instant('step-interactive.groupings')));\r\n    this.tabs.push(new Tab('outcomes', this.translateService.instant('step-interactive.outcomes')));\r\n    this.tabs.push(new Tab('capabilities', this.translateService.instant('step-interactive.capabilities')));\r\n    this.tabs.push(new Tab('thresholds', this.translateService.instant('step-interactive.thresholds')));\r\n    this.tabs.push(new Tab('advanced', this.translateService.instant('step-interactive.advanced')));\r\n\r\n    this.loadPreviousClassifySteps(this.workflowStep.id);\r\n\r\n    if (this.previousClassifySteps.length) {\r\n      this.tabs.push(new Tab('training', this.translateService.instant('step-interactive.training')));\r\n    }\r\n  };\r\n\r\n  private createFields = () => {\r\n    this.fieldDisplayName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('admin-workflow.interactive-step-displayname'),\r\n      placeholder: this.translateService.instant('admin-workflow.interactive-step-displayname-placeholder'),\r\n      required: true,\r\n    });\r\n  };\r\n\r\n  activateTab = (view) => {\r\n    this.activeTab = view;\r\n  };\r\n\r\n  loadPreviousClassifySteps = (stepId: string, visitedSteps: Array<any> = []): boolean => {\r\n    if (visitedSteps.some((a) => a == stepId)) return;\r\n\r\n    visitedSteps.push(stepId);\r\n\r\n    const previousSteps = this.workflow.workflowSteps.filter((s) => this.isStepLinkedByOutcome(s, stepId));\r\n    if (!previousSteps) return false;\r\n\r\n    previousSteps.forEach((ps) => {\r\n      if (ps.stepType === 'formsai' && this.previousClassifySteps.findIndex((s) => s.id === ps.id) < 0) {\r\n        this.previousClassifySteps.push(ps);\r\n      }\r\n\r\n      this.loadPreviousClassifySteps(ps.id, visitedSteps);\r\n    });\r\n\r\n    return false;\r\n  };\r\n\r\n  isStepLinkedByOutcome = (step: IWorkflowStep, stepId: string): boolean => {\r\n    const outcomes = step.outcomes.filter((o) => o.nextId === stepId);\r\n    return outcomes.length > 0;\r\n  };\r\n}\r\n","<div class=\"container-fluid step-interactive\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldDisplayName\" [(value)]=\"workflowStep.name\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'roles' == activeTab\">\r\n      <app-step-interactive-roles [(roleIds)]=\"workflowStep.roleIds\"></app-step-interactive-roles>\r\n    </div>\r\n    <div *ngIf=\"'index' == activeTab\">\r\n      <app-step-interactive-indexing [(metadataIds)]=\"workflowStep.metaDataIds\" [workflow]=\"workflow\">\r\n      </app-step-interactive-indexing>\r\n    </div>\r\n    <div *ngIf=\"'groupings' == activeTab\">\r\n      <app-step-interactive-groupings [(itemGroupingIds)]=\"workflowStep.itemGroupingIds\" [workflow]=\"workflow\">\r\n      </app-step-interactive-groupings>\r\n    </div>\r\n    <div *ngIf=\"'outcomes' == activeTab\">\r\n      <app-step-interactive-outcomes [(outcomes)]=\"step.workflowStep.outcomes\"></app-step-interactive-outcomes>\r\n    </div>\r\n    <div *ngIf=\"'capabilities' == activeTab\">\r\n      <app-step-interactive-capabilities [(capabilities)]=\"workflowStep.capabilities\">\r\n      </app-step-interactive-capabilities>\r\n    </div>\r\n    <div *ngIf=\"'thresholds' == activeTab\">\r\n      <app-step-interactive-thresholds [(thresholds)]=\"workflowStep.thresholds\"></app-step-interactive-thresholds>\r\n    </div>\r\n    <div *ngIf=\"'training' == activeTab\">\r\n      <app-step-interactive-training [classifySteps]=\"previousClassifySteps\" [workflowStep]=\"workflowStep\">\r\n      </app-step-interactive-training>\r\n    </div>\r\n    <div *ngIf=\"'advanced' == activeTab\">\r\n      <app-step-interactive-advanced\r\n        [workflowStep]=\"workflowStep\"\r\n        [workflow]=\"workflow\"\r\n      ></app-step-interactive-advanced>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport {\r\n  DelayService,\r\n  EnumDataSource,\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  IFieldOptions,\r\n  LineItemConfiguration,\r\n  MetaDataDefinition,\r\n  MetaDataType,\r\n  ObjectIdGenerator,\r\n  Tab,\r\n} from 'shared-code-lib';\r\nimport { AwsFieldMapping, DuplicateSelectionType, FieldMappingType } from '../../../blocks/models/aws-field-mapping';\r\nimport { InvoiceExtractionFields } from '../../../blocks/models/invoice-extraction-fields';\r\nimport { InvoiceExtractionWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-invoice-extraction',\r\n  templateUrl: './step-invoice-extraction.component.html',\r\n  styleUrls: ['./step-invoice-extraction.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepInvoiceExtractionComponent implements OnInit {\r\n  @Input() step: Step;\r\n  @Input() useInvoiceFields: boolean = false;\r\n  @Input() useExpressions: boolean = false;\r\n\r\n  tabs = new Array<Tab>();\r\n  invoiceExtractionStep: InvoiceExtractionWorkflowStep;\r\n  dataFieldIdFields: Array<FieldDefinition> = [];\r\n  dataFieldMappingTypeFields: Array<FieldDefinition> = [];\r\n  dataFieldValueFields: Array<FieldDefinition> = [];\r\n  dataFieldAdvancedFields: Array<FieldDefinition> = [];\r\n  dataFieldDuplicateSelectionFields: Array<FieldDefinition> = [];\r\n  lineItemFieldLabelNames: Array<string> = [];\r\n  lineItemValueFields: Array<FieldDefinition> = [];\r\n  lineItemMappingTypeFields: Array<FieldDefinition> = [];\r\n  lineItemAdvancedFields: Array<FieldDefinition> = [];\r\n  fieldDisplayName: FieldDefinition;\r\n  fieldLineItemsId: FieldDefinition;\r\n  fieldTableExpression: FieldDefinition;\r\n  fieldTableRowExpression: FieldDefinition;\r\n  dataFieldsDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n  awsFieldsDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n  awsFieldAdvancedDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n  fieldMappingTypeDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n  lineItemMappingCache: Array<AwsFieldMapping>;\r\n  lineItemCacheFieldId = '';\r\n  activeTab = 'datafields';\r\n  extractionFields: InvoiceExtractionFields;\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private userService: UserStateService,\r\n    private delay: DelayService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.invoiceExtractionStep = <InvoiceExtractionWorkflowStep>this.step.workflowStep;\r\n    this.extractionFields = new InvoiceExtractionFields(\r\n      this.useInvoiceFields ? this.translate.instant('invoice-extraction-mapping', { returnObject: true }) : []\r\n    );\r\n    this.setLineItemsCache();\r\n    this.createTabs();\r\n    this.createNonMappingFields();\r\n    this.loadDataSources();\r\n    this.createMappingFields();\r\n  }\r\n\r\n  createTabs = () => {\r\n    this.tabs.push(new Tab('datafields', this.translate.instant('step-interactive.index-fields')));\r\n    this.tabs.push(new Tab('lineitems', this.translate.instant('step-invoice-extraction.line-items-tab')));\r\n  };\r\n\r\n  createMappingFields = () => {\r\n    this.invoiceExtractionStep.dataFieldMappings.map((m) => {\r\n      this.createNewDataFieldMappingField();\r\n    });\r\n\r\n    const lineItemMetaDataOptions = new Array<IFieldOptions>();\r\n    lineItemMetaDataOptions.push({\r\n      name: this.translate.instant('Metadata-Form.none'),\r\n      value: ObjectIdGenerator.Empty,\r\n    });\r\n\r\n    for (const mdd of this.userService.user.metaData) {\r\n      if (mdd.type != MetaDataType.LineItems) continue;\r\n\r\n      lineItemMetaDataOptions.push({ name: mdd.name, value: mdd.id });\r\n    }\r\n\r\n    lineItemMetaDataOptions.sort((x, y) => x.name.localeCompare(y.name));\r\n\r\n    this.fieldLineItemsId = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-invoice-extraction.line-items-field-id'),\r\n      required: false,\r\n      datasource: new FixedDataSource(lineItemMetaDataOptions),\r\n    });\r\n\r\n    this.fieldTableExpression = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-invoice-extraction.table-expression-field'),\r\n      placeholder: this.translate.instant('step-invoice-extraction.table-expression-placeholder'),\r\n      required: false,\r\n    });\r\n\r\n    this.fieldTableRowExpression = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-invoice-extraction.table-row-expression-field'),\r\n      placeholder: this.translate.instant('step-invoice-extraction.table-row-expression-placeholder'),\r\n      required: false,\r\n    });\r\n  };\r\n\r\n  createNonMappingFields = () => {\r\n    this.fieldDisplayName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('admin-workflow.interactive-step-displayname'),\r\n      placeholder: this.translate.instant('admin-workflow.interactive-step-displayname-placeholder'),\r\n      required: true,\r\n    });\r\n  };\r\n\r\n  activateTab = (view) => {\r\n    this.activeTab = view;\r\n    this.setLineItemsCache();\r\n  };\r\n\r\n  createNewDataFieldMappingField = () => {\r\n    this.dataFieldIdFields.push(\r\n      new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        datasource: this.dataFieldsDataSource,\r\n        required: true,\r\n      })\r\n    );\r\n\r\n    this.dataFieldMappingTypeFields.push(\r\n      new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        required: true,\r\n        datasource: this.fieldMappingTypeDataSource,\r\n      })\r\n    );\r\n\r\n    this.dataFieldValueFields.push(\r\n      new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        required: true,\r\n        datasource: this.awsFieldsDataSource,\r\n      })\r\n    );\r\n\r\n    this.dataFieldAdvancedFields.push(\r\n      new FieldDefinition({\r\n        type: MetaDataType.Text,\r\n        required: true,\r\n        substitutable: true,\r\n        datasource: this.awsFieldAdvancedDataSource,\r\n      })\r\n    );\r\n\r\n    this.dataFieldDuplicateSelectionFields.push(\r\n      new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        required: true,\r\n        datasource: new EnumDataSource(\r\n          DuplicateSelectionType,\r\n          'step-invoice-extraction.duplicateSelectionTypeEnum',\r\n          this.translate\r\n        ),\r\n      })\r\n    );\r\n  };\r\n\r\n  createNewLineItemMappingRow = (fieldId: string) => {\r\n    const mdd = this.userService.findMetaDataById(fieldId);\r\n    if (!mdd) return;\r\n\r\n    this.lineItemFieldLabelNames.push(mdd.name);\r\n\r\n    const lineItemMappingTypeDataSource = new FixedDataSource([...this.fieldMappingTypeDataSource.options]);\r\n\r\n    lineItemMappingTypeDataSource.options.push({\r\n      name: this.translate.instant('step-invoice-extraction.mapping-type-not-mapped'),\r\n      value: FieldMappingType.NotMapped.toString(),\r\n    });\r\n\r\n    this.lineItemMappingTypeFields.push(\r\n      new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        required: true,\r\n        datasource: lineItemMappingTypeDataSource,\r\n      })\r\n    );\r\n\r\n    this.lineItemValueFields.push(\r\n      new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        required: true,\r\n        datasource: this.awsFieldsDataSource,\r\n      })\r\n    );\r\n\r\n    this.lineItemAdvancedFields.push(\r\n      new FieldDefinition({\r\n        type: MetaDataType.Text,\r\n        required: true,\r\n        substitutable: true,\r\n        datasource: this.awsFieldAdvancedDataSource,\r\n      })\r\n    );\r\n  };\r\n\r\n  onAddDataFieldMapping = (): void => {\r\n    const fieldMapping = AwsFieldMapping.create();\r\n    fieldMapping.type = this.useInvoiceFields ? FieldMappingType.Standard : FieldMappingType.Advanced;\r\n\r\n    this.invoiceExtractionStep.dataFieldMappings.push(fieldMapping);\r\n\r\n    this.createNewDataFieldMappingField();\r\n    this.delay.execute(this.setFocusToAddedMapping, 1);\r\n  };\r\n\r\n  onDeleteMapping = (index: number): void => {\r\n    this.invoiceExtractionStep.dataFieldMappings.splice(index, 1);\r\n    this.dataFieldIdFields.splice(index, 1);\r\n    this.dataFieldValueFields.splice(index, 1);\r\n  };\r\n\r\n  loadDataSources = (): void => {\r\n    this.extractionFields.fields.forEach((f) => {\r\n      const field = { name: f.name, value: `%${f.value}%` };\r\n      this.awsFieldsDataSource.options.push(field);\r\n\r\n      const advancedField = { name: f.value, value: f.value };\r\n      this.awsFieldAdvancedDataSource.options.push(advancedField);\r\n    });\r\n\r\n    this.awsFieldsDataSource.options.sort((x, y) => x.name.localeCompare(y.name));\r\n    this.awsFieldsDataSource.options.unshift({\r\n      name: this.translate.instant('admin-workflow.not-mapped'),\r\n      value: '',\r\n    });\r\n\r\n    this.awsFieldAdvancedDataSource.options.sort((x, y) => x.name.localeCompare(y.name));\r\n\r\n    this.userService.user.metaData.forEach((f) => {\r\n      if (\r\n        f.type == MetaDataType.LineItems ||\r\n        f.type == MetaDataType.Expression ||\r\n        f.type == MetaDataType.CascadingOptions\r\n      )\r\n        return;\r\n\r\n      const mdd = { name: f.name, value: f.id };\r\n      this.dataFieldsDataSource.options.push(mdd);\r\n    });\r\n\r\n    this.dataFieldsDataSource.options.sort((x, y) => x.name.localeCompare(y.name));\r\n\r\n    this.dataFieldsDataSource.options.unshift({\r\n      name: this.translate.instant('admin-workflow.not-mapped'),\r\n      value: ObjectIdGenerator.Empty,\r\n    });\r\n\r\n    this.fieldMappingTypeDataSource.options.push({\r\n      name: this.translate.instant('step-invoice-extraction.mapping-type-standard'),\r\n      value: FieldMappingType.Standard.toString(),\r\n    });\r\n\r\n    this.fieldMappingTypeDataSource.options.push({\r\n      name: this.translate.instant('step-invoice-extraction.mapping-type-advanced'),\r\n      value: FieldMappingType.Advanced.toString(),\r\n    });\r\n  };\r\n\r\n  onLineItemsFieldChanged = (value: string): void => {\r\n    this.invoiceExtractionStep.lineItemMappings.splice(0, this.invoiceExtractionStep.lineItemMappings.length);\r\n    this.lineItemFieldLabelNames.splice(0, this.lineItemFieldLabelNames.length);\r\n    this.lineItemValueFields.splice(0, this.lineItemValueFields.length);\r\n    this.lineItemMappingTypeFields.splice(0, this.lineItemMappingTypeFields.length);\r\n\r\n    const mdd = this.userService.user.metaData.find((f) => f.id == value);\r\n    if (!mdd) return;\r\n\r\n    const lineItemField = new MetaDataDefinition(mdd);\r\n    lineItemField.lineItemConfigurations.forEach((li) => {\r\n      const cacheMapping = this.getCachedValue(value, li);\r\n      if (!cacheMapping) return;\r\n\r\n      this.invoiceExtractionStep.lineItemMappings.push(\r\n        new AwsFieldMapping({\r\n          fieldId: li.metaDataId,\r\n          value: cacheMapping.value,\r\n          type: this.useInvoiceFields ? cacheMapping.type : FieldMappingType.Advanced,\r\n          duplicateSelectionType: cacheMapping.duplicateSelectionType,\r\n        })\r\n      );\r\n\r\n      this.applyAutoMapping(\r\n        li.metaDataId,\r\n        this.invoiceExtractionStep.lineItemMappings.length - 1,\r\n        this.invoiceExtractionStep.lineItemMappings\r\n      );\r\n\r\n      this.createNewLineItemMappingRow(li.metaDataId);\r\n    });\r\n  };\r\n\r\n  onDataFieldChanged = (selectedFieldValue: string, index: number): void => {\r\n    if (index >= this.invoiceExtractionStep.dataFieldMappings.length) return;\r\n    if (selectedFieldValue == '') return;\r\n\r\n    this.applyAutoMapping(selectedFieldValue, index, this.invoiceExtractionStep.dataFieldMappings);\r\n  };\r\n\r\n  onLineItemDataFieldChanged = (selectedFieldValue: string, index: number): void => {\r\n    if (index >= this.invoiceExtractionStep.lineItemMappings.length) return;\r\n    if (selectedFieldValue == '') return;\r\n\r\n    this.applyAutoMapping(selectedFieldValue, index, this.invoiceExtractionStep.lineItemMappings);\r\n  };\r\n\r\n  applyAutoMapping = (selectedFieldValue: string, index: number, fieldMappings: Array<AwsFieldMapping>): void => {\r\n    if (fieldMappings[index].value) return;\r\n\r\n    if (fieldMappings[index].type === FieldMappingType.NotMapped) {\r\n      fieldMappings[index].value = '';\r\n      return;\r\n    }\r\n\r\n    const mdd = this.userService.findMetaDataById(selectedFieldValue);\r\n    if (!mdd) return;\r\n\r\n    const matchingField = this.extractionFields.fields.find((ef) => ef.mappingMatches(mdd.name));\r\n    if (matchingField) {\r\n      fieldMappings[index].value = `%${matchingField.value}%`;\r\n    }\r\n  };\r\n\r\n  setLineItemsCache = (): void => {\r\n    this.lineItemMappingCache = [];\r\n\r\n    this.invoiceExtractionStep.lineItemMappings.map((m) => {\r\n      this.lineItemMappingCache.push(m);\r\n    });\r\n\r\n    this.lineItemCacheFieldId = this.invoiceExtractionStep.lineItemsFieldId;\r\n  };\r\n\r\n  getCachedValue = (lineItemFieldId: string, lineItem: LineItemConfiguration): AwsFieldMapping => {\r\n    const mapping = this.lineItemMappingCache.find((m) => {\r\n      if (m.fieldId === lineItem.metaDataId) return m;\r\n    });\r\n\r\n    return mapping && lineItemFieldId === this.lineItemCacheFieldId ? mapping : AwsFieldMapping.create();\r\n  };\r\n\r\n  setFocusToAddedMapping = (): void => {\r\n    const valueField = <HTMLSelectElement>(\r\n      document.querySelector(\r\n        `#datafield-mapping-${this.invoiceExtractionStep.dataFieldMappings.length - 1} .custom-drop-down`\r\n      )\r\n    );\r\n    if (valueField) {\r\n      valueField.focus();\r\n    }\r\n  };\r\n}\r\n","<div class=\"step-invoice-extraction-panel container-fluid\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"fieldDisplayName\" [(value)]=\"invoiceExtractionStep.name\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <app-tab-bar class=\"tab-bar-padding\" [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n  </div>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'datafields' == activeTab\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <td class=\"mapping-data-field-header\">{{ 'step-invoice-extraction.field-column-header' | translate }}</td>\r\n            <td *ngIf=\"useInvoiceFields\" class=\"mapping-type-header\">{{ 'step-invoice-extraction.mapping-column-header' | translate }}</td>\r\n            <td [ngClass]=\"{\r\n              'mapping-value-header': useInvoiceFields,\r\n              'tag-value-mapping-value-header': !useInvoiceFields\r\n            }\">{{ 'step-invoice-extraction.value-column-header' | translate }}</td>\r\n            <td class=\"mapping-type-header\">{{ 'step-invoice-extraction.duplicate-selection-header' | translate }}</td>\r\n            <td></td>\r\n            <td>\r\n              <button class=\"button-icon\"\r\n                      (click)=\"onAddDataFieldMapping()\"\r\n                      title=\"{{ 'step-invoice-extraction.add-mapping-button-tooltip' | translate }}\">\r\n                <div class=\"add-circle d-flex justify-content-center align-items-center\">\r\n                  <i class=\"icon-plus\"></i>\r\n                </div>\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          <tr *ngFor=\"let field of dataFieldIdFields; let i = index\">\r\n            <td class=\"data-col-width\">\r\n              <app-field [field]=\"dataFieldIdFields[i]\"\r\n                         [(value)]=\"invoiceExtractionStep.dataFieldMappings[i].fieldId\"\r\n                         (valueChange)=\"onDataFieldChanged($event, i)\"\r\n                         [id]=\"'datafield-mapping-' + i.toString()\">\r\n              </app-field>\r\n            </td>\r\n\r\n            <td *ngIf=\"useInvoiceFields\" class=\"mapping-type-list\">\r\n              <app-field [field]=\"dataFieldMappingTypeFields[i]\"\r\n                         [(value)]=\"invoiceExtractionStep.dataFieldMappings[i].mappingType\">\r\n              </app-field>\r\n            </td>\r\n\r\n            <td *ngIf=\"invoiceExtractionStep.dataFieldMappings[i].type == 0\"\r\n              [ngClass]=\"{\r\n                'mapping-value': useInvoiceFields,\r\n                'tag-value-mapping-value': !useInvoiceFields\r\n              }\">\r\n              <app-field [field]=\"dataFieldValueFields[i]\"\r\n                         [(value)]=\"invoiceExtractionStep.dataFieldMappings[i].value\">\r\n              </app-field>\r\n            </td>\r\n            <td *ngIf=\"invoiceExtractionStep.dataFieldMappings[i].type == 1\"\r\n              [ngClass]=\"{\r\n                'mapping-value': useInvoiceFields,\r\n                'tag-value-mapping-value': !useInvoiceFields\r\n              }\">\r\n              <app-field [field]=\"dataFieldAdvancedFields[i]\"\r\n                         [(value)]=\"invoiceExtractionStep.dataFieldMappings[i].value\">\r\n              </app-field>\r\n            </td>\r\n            <td class=\"mapping-type-list\">\r\n              <app-field [field]=\"dataFieldDuplicateSelectionFields[i]\"\r\n                         [(value)]=\"invoiceExtractionStep.dataFieldMappings[i].mappingDuplicateSelectionType\">\r\n              </app-field>\r\n            </td>\r\n            <td></td>\r\n            <td title=\"{{ 'step-invoice-extraction.delete-mapping-button-tooltip' | translate }}\">\r\n              <app-delete-icon class=\"step-action-edit-button\" (click)=\"onDeleteMapping(i)\"></app-delete-icon>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n    <div *ngIf=\"'lineitems' == activeTab\">\r\n      <div class=\"col-6 line-items-field\" *ngIf=\"fieldLineItemsId\">\r\n        <app-field [field]=\"fieldLineItemsId\"\r\n                   [(value)]=\"invoiceExtractionStep.lineItemsFieldId\"\r\n                   (valueChange)=\"onLineItemsFieldChanged($event)\"></app-field>\r\n      </div>\r\n      <div class=\"col-12 line-items-field\" *ngIf=\"fieldTableExpression && useExpressions\">\r\n        <app-field [field]=\"fieldTableExpression\" [(value)]=\"invoiceExtractionStep.tableExpression\"></app-field>\r\n      </div>\r\n      <div class=\"col-12 line-items-field\" *ngIf=\"fieldTableRowExpression && useExpressions\">\r\n        <app-field [field]=\"fieldTableRowExpression\" [(value)]=\"invoiceExtractionStep.rowExpression\"></app-field>\r\n      </div>\r\n      <table class=\"table line-items-table\">\r\n        <thead>\r\n          <tr>\r\n            <td [ngClass]=\"{\r\n              'lineitem-header-col': useInvoiceFields,\r\n              'tag-value-lineitem-header-col': !useInvoiceFields\r\n              }\">\r\n              {{ 'step-invoice-extraction.field-column-header' | translate }}\r\n            </td>\r\n            <td *ngIf=\"useInvoiceFields\" class=\"lineitem-header-col\">{{ 'step-invoice-extraction.mapping-column-header' | translate }}</td>\r\n            <td class=\"lineitem-data-header-col\">{{ 'step-invoice-extraction.value-column-header' | translate }}</td>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          <tr *ngFor=\"let fieldName of lineItemFieldLabelNames; let i = index\">\r\n            <td [ngClass]=\"{\r\n              'data-col-width line-item-field-label': useInvoiceFields,\r\n              'tag-value-line-item-label': !useInvoiceFields\r\n              }\">\r\n              <app-label [text]=\"fieldName\"></app-label>\r\n            </td>\r\n            <td *ngIf=\"useInvoiceFields\" class=\"data-col-width\">\r\n              <app-field [field]=\"lineItemMappingTypeFields[i]\"\r\n                         [(value)]=\"invoiceExtractionStep.lineItemMappings[i].mappingType\">\r\n              </app-field>\r\n            </td>\r\n\r\n            <td *ngIf=\"invoiceExtractionStep.lineItemMappings[i].type == 0 || invoiceExtractionStep.lineItemMappings[i].type == 2\" class=\"data-value-col-width\">\r\n              <app-field [field]=\"lineItemValueFields[i]\"\r\n                         [(value)]=\"invoiceExtractionStep.lineItemMappings[i].value\"\r\n                         [disabled]=\"invoiceExtractionStep.lineItemMappings[i].type == 2\">\r\n              </app-field>\r\n            </td>\r\n            <td *ngIf=\"invoiceExtractionStep.lineItemMappings[i].type == 1\" class=\"data-value-col-width\">\r\n              <app-field [field]=\"lineItemAdvancedFields[i]\"\r\n                         [(value)]=\"invoiceExtractionStep.lineItemMappings[i].value\">\r\n              </app-field>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport {\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  IFieldDataSource,\r\n  IFieldOptions,\r\n  MetaDataDefinition,\r\n  MetadataIntellisenseDatasource,\r\n  MetaDataType,\r\n  ObjectIdGenerator,\r\n} from 'shared-code-lib';\r\nimport { KeywordExtractionWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-keyword-extraction',\r\n  templateUrl: './step-keyword-extraction.component.html',\r\n  styleUrls: ['./step-keyword-extraction.component.scss'],\r\n})\r\nexport class StepKeywordExtractionComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  keywordExtractionStep: KeywordExtractionWorkflowStep;\r\n  maxKeywordsField: FieldDefinition;\r\n  fieldLineItemsId: FieldDefinition;\r\n  fieldLineItemsText: FieldDefinition;\r\n  fieldLineItemsIndex: FieldDefinition;\r\n  keyWordDataSource: FixedDataSource;\r\n  currentStepLineItem: string;\r\n\r\n  get maxKeywords() {\r\n    return `${this.keywordExtractionStep.maxKeywords}`;\r\n  }\r\n  set maxKeywords(val: string) {\r\n    this.keywordExtractionStep.maxKeywords = Number(val);\r\n  }\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private userService: UserStateService,\r\n    private cdr: ChangeDetectorRef\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.keywordExtractionStep = this.step.workflowStep as KeywordExtractionWorkflowStep;\r\n    this.currentStepLineItem = this.keywordExtractionStep.lineItemsFieldId;\r\n    this.createLineItemFields();\r\n    this.createFields();\r\n  }\r\n\r\n  createLineItemFields = () => {\r\n    const lineItemMetaDataOptions = new Array<IFieldOptions>();\r\n\r\n    for (const mdd of this.userService.user.metaData) {\r\n      if (mdd.type != MetaDataType.LineItems) continue;\r\n\r\n      lineItemMetaDataOptions.push({ name: mdd.name, value: mdd.id });\r\n    }\r\n\r\n    lineItemMetaDataOptions.sort((x, y) => x.name.localeCompare(y.name));\r\n\r\n    this.fieldLineItemsId = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-keyword-extraction.line-items-field-id'),\r\n      required: false,\r\n      datasource: new FixedDataSource(lineItemMetaDataOptions),\r\n    });\r\n\r\n    this.keyWordDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n    this.fieldLineItemsText = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-keyword-extraction.line-item-field-text'),\r\n      required: true,\r\n      datasource: this.keyWordDataSource,\r\n    });\r\n\r\n    this.fieldLineItemsIndex = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('step-keyword-extraction.line-item-field-index'),\r\n      required: false,\r\n      datasource: this.keyWordDataSource,\r\n    });\r\n  };\r\n\r\n  createFields() {\r\n    this.maxKeywordsField = this.createField('maxKeywords', 'maxKeywords', MetaDataType.Integer, true);\r\n  }\r\n\r\n  createField = (\r\n    label: string = null,\r\n    placeholder: string = '',\r\n    type: MetaDataType = MetaDataType.Text,\r\n    required: boolean = false,\r\n    substitutable: boolean = true,\r\n    datasource: IFieldDataSource = null\r\n  ): FieldDefinition => {\r\n    return new FieldDefinition({\r\n      type: type,\r\n      label: label ? this.translate.instant(`step-keyword-extraction.${label}`) : '',\r\n      placeholder: placeholder ? this.translate.instant(`step-keyword-extraction.${placeholder}`) : '',\r\n      required: required,\r\n      datasource: substitutable ? new MetadataIntellisenseDatasource(this.userService) : datasource,\r\n      substitutable: substitutable,\r\n    });\r\n  };\r\n\r\n  onLineItemsFieldChanged = (value: string): void => {\r\n    const mddLineItem = this.userService.user.metaData.find((f) => f.id == value);\r\n    if (!mddLineItem) return;\r\n\r\n    const lineItemField = new MetaDataDefinition(mddLineItem);\r\n    const keywordOptions: Array<IFieldOptions> = [];\r\n\r\n    for (const config of lineItemField.lineItemConfigurations) {\r\n      const mdd = this.userService.findMetaDataById(config.metaDataId);\r\n      if (!mdd) continue;\r\n\r\n      keywordOptions.push({ name: mdd.name, value: mdd.id });\r\n    }\r\n\r\n    keywordOptions.sort((x, y) => x.name.localeCompare(y.name));\r\n\r\n    keywordOptions.unshift({\r\n      name: this.translate.instant('Metadata-Form.none'),\r\n      value: ObjectIdGenerator.Empty,\r\n    });\r\n\r\n    this.keyWordDataSource.updateOptions(keywordOptions);\r\n\r\n    if (value !== this.currentStepLineItem) {\r\n      this.keywordExtractionStep.lineItemFieldText = ObjectIdGenerator.Empty;\r\n      this.keywordExtractionStep.lineItemFieldIndex = ObjectIdGenerator.Empty;\r\n      this.cdr.detectChanges();\r\n    }\r\n\r\n    this.currentStepLineItem = this.keywordExtractionStep.lineItemsFieldId;\r\n  };\r\n}\r\n","<div class=\"step-keyword-extraction-panel container-fluid\" appAutoFocusFirstInput>\r\n    <div class=\"row\">\r\n      <div class=\"col-6 line-items-field\">\r\n        <app-field [field]=\"maxKeywordsField\" [(value)]=\"maxKeywords\"></app-field>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-6 line-items-field\" *ngIf=\"fieldLineItemsId\">\r\n            <app-field [field]=\"fieldLineItemsId\"\r\n                       [(value)]=\"keywordExtractionStep.lineItemsFieldId\"\r\n                       (valueChange)=\"onLineItemsFieldChanged($event)\"></app-field>\r\n          </div>\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col-6 line-items-field\" *ngIf=\"fieldLineItemsText\">\r\n        <app-field [field]=\"fieldLineItemsText\"\r\n                   [(value)]=\"keywordExtractionStep.lineItemFieldText\"></app-field>\r\n      </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6 line-items-field\" *ngIf=\"fieldLineItemsIndex\">\r\n      <app-field [field]=\"fieldLineItemsIndex\"\r\n                 [(value)]=\"keywordExtractionStep.lineItemFieldIndex\"></app-field>\r\n    </div>\r\n</div>\r\n</div>","import {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, MetaDataType } from 'shared-code-lib';\r\nimport { WorkflowsDataSource, WorkflowStepsDataSource } from '../../../blocks/models/workflow-datasource';\r\nimport { MoveToWorkflow } from '../../../blocks/models/workflow-step';\r\nimport { HydraApiService } from '../../../blocks/services/hydra-api.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-move-to-workflow',\r\n  templateUrl: './step-move-to-workflow.component.html',\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepMoveToWorkflowComponent implements OnInit {\r\n  @ViewChild('modalBody', { static: true }) modalBody: ElementRef;\r\n  @Input() step: Step;\r\n  @Input() workflowId: string;\r\n  @Output() elementLoading: EventEmitter<string> = new EventEmitter<string>();\r\n  @Output() finishedLoading: EventEmitter<any> = new EventEmitter();\r\n\r\n  initialSelectedWorkflowId: string;\r\n  initialSelectedWorkflowStepId: string;\r\n\r\n  moveToWorkflow: MoveToWorkflow;\r\n\r\n  fieldDisplayName: FieldDefinition;\r\n  fieldWorkflows: FieldDefinition;\r\n  fieldWorkflowSteps: FieldDefinition;\r\n  workflowsLoaded = false;\r\n\r\n  workflowsDataSource: WorkflowsDataSource;\r\n  workflowStepsDataSource: WorkflowStepsDataSource;\r\n\r\n  constructor(private translate: TranslateService, private hydraApi: HydraApiService, private toastr: ToastrService) {}\r\n\r\n  ngOnInit() {\r\n    this.moveToWorkflow = <MoveToWorkflow>this.step.workflowStep;\r\n    this.initialSelectedWorkflowId = this.moveToWorkflow.selectedWorkflowId;\r\n    this.initialSelectedWorkflowStepId = this.moveToWorkflow.selectedWorkflowStepId;\r\n\r\n    this.elementLoading.emit('admin-workflow.loading-workflows');\r\n    this.hydraApi.getWorkflows(\r\n      (workflows) => {\r\n        workflows = workflows.filter((w) => w.id !== this.workflowId);\r\n        this.workflowsDataSource = new WorkflowsDataSource(workflows);\r\n        this.workflowStepsDataSource = new WorkflowStepsDataSource(this.moveToWorkflow, workflows);\r\n\r\n        this.createFields();\r\n        this.finishedLoading.emit();\r\n      },\r\n      (err: any) => {\r\n        this.toastr.error(this.translate.instant('errors.failed-load-workflows'));\r\n        this.finishedLoading.emit();\r\n      }\r\n    );\r\n  }\r\n\r\n  createFields = () => {\r\n    this.fieldDisplayName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('admin-workflow.interactive-step-displayname'),\r\n      placeholder: this.translate.instant('admin-workflow.interactive-step-displayname-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldWorkflows = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('workitem-properties.workflow'),\r\n      placeholder: this.translate.instant('workitem-properties.workflow'),\r\n      datasource: this.workflowsDataSource,\r\n      required: true,\r\n    });\r\n\r\n    this.fieldWorkflowSteps = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('workitem-properties.workflow-step'),\r\n      placeholder: this.translate.instant('workitem-properties.workflow-step'),\r\n      datasource: this.workflowStepsDataSource,\r\n      required: true,\r\n    });\r\n\r\n    this.workflowsLoaded = true;\r\n  };\r\n\r\n  onSelectedWorkflowChanged(selectedWorkflowId: string) {\r\n    if (!selectedWorkflowId) return;\r\n\r\n    this.moveToWorkflow.selectedWorkflowId = selectedWorkflowId;\r\n    this.workflowStepsDataSource.changed.next();\r\n\r\n    if (selectedWorkflowId === this.initialSelectedWorkflowId) {\r\n      this.moveToWorkflow.selectedWorkflowStepId = this.initialSelectedWorkflowStepId;\r\n      return;\r\n    }\r\n\r\n    const startStep = this.workflowStepsDataSource.steps.find((s) => s.stepType === 'start');\r\n    if (startStep) {\r\n      this.moveToWorkflow.selectedWorkflowStepId = startStep.id;\r\n    }\r\n  }\r\n}\r\n","<div class=\"move-to-workflow-step-properties\" #modalBody>\r\n  <div *ngIf=\"workflowsLoaded\" appAutoFocusFirstInput>\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field [field]=\"fieldDisplayName\" [(value)]=\"moveToWorkflow.name\"></app-field>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field\r\n          [field]=\"fieldWorkflows\"\r\n          [(value)]=\"moveToWorkflow.selectedWorkflowId\"\r\n          (blur)=\"onSelectedWorkflowChanged($event)\"\r\n        ></app-field>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-6\">\r\n        <app-field [field]=\"fieldWorkflowSteps\" [(value)]=\"moveToWorkflow.selectedWorkflowStepId\"></app-field>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { OCRWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { Step } from '../step';\r\n\r\nclass OCRLanguage {\r\n  public code: string;\r\n  public displayName: string;\r\n\r\n  constructor(code: string, displayName: string) {\r\n    this.code = code;\r\n    this.displayName = displayName;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'app-step-ocr',\r\n  templateUrl: './step-ocr.component.html',\r\n  styleUrls: ['./step-ocr.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepOcrComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  ocrWorkflowStep: OCRWorkflowStep;\r\n\r\n  available: Array<OCRLanguage> = [];\r\n  current: Array<OCRLanguage> = [];\r\n\r\n  constructor(private translateService: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.ocrWorkflowStep = <OCRWorkflowStep>this.step.workflowStep;\r\n\r\n    this.addLanguages();\r\n\r\n    console.log(this.ocrWorkflowStep.languageCodes);\r\n\r\n    this.current = this.ocrWorkflowStep.languageCodes.map((lc) => this.available.find((a) => a.code == lc));\r\n  }\r\n\r\n  addLanguages = (): void => {\r\n    this.addLanguage('zh-CN');\r\n    this.addLanguage('en-US');\r\n    this.addLanguage('fr-FR');\r\n    this.addLanguage('de-DE');\r\n    this.addLanguage('it-IT');\r\n    this.addLanguage('pt-BR');\r\n    this.addLanguage('es-ES');\r\n\r\n    this.addLanguage('ar-SA');\r\n    this.addLanguage('bg-BG');\r\n    this.addLanguage('zh-TW');\r\n    this.addLanguage('cs-CZ');\r\n    this.addLanguage('da-DK');\r\n    this.addLanguage('nl-NL');\r\n    this.addLanguage('fi-FI');\r\n    this.addLanguage('el-GR');\r\n    this.addLanguage('he-IL');\r\n    this.addLanguage('hu-HU');\r\n    this.addLanguage('id-ID');\r\n    this.addLanguage('ja-JP');\r\n    this.addLanguage('no');\r\n    this.addLanguage('pl-PL');\r\n    this.addLanguage('pt-PT');\r\n    this.addLanguage('ro-RO');\r\n    this.addLanguage('ru-RU');\r\n    this.addLanguage('sk-SK');\r\n    this.addLanguage('sv-SE');\r\n    this.addLanguage('th-TH');\r\n    this.addLanguage('tr-TR');\r\n    this.addLanguage('ko-KR');\r\n\r\n    this.available = this.available.sort((x, y) => x.displayName.localeCompare(y.displayName));\r\n  };\r\n\r\n  addLanguage = (code: string): void => {\r\n    this.available.push(new OCRLanguage(code, this.translateService.instant(`step-ocr.language-${code}`)));\r\n  };\r\n\r\n  currentChanged = (items: Array<OCRLanguage>): void => {\r\n    this.ocrWorkflowStep.languageCodes = items.map((item) => item.code);\r\n\r\n    console.log(this.ocrWorkflowStep.languageCodes);\r\n  };\r\n}\r\n","<div class=\"step-ocr-panel container-fluid d-flex flex-column h-100\">\r\n  <app-label [localize]=\"true\" [required]=\"true\" [text]=\"'step-ocr.languages'\"></app-label>\r\n  <app-dual-picklist class=\"max-height col\"\r\n                     [available]=\"available\"\r\n                     [current]=\"current\"\r\n                     (currentChange)=\"currentChanged($event)\"\r\n                     [displayField]=\"'displayName'\"\r\n                     [listName]=\"'step-ocr.languages' | translate\"></app-dual-picklist>\r\n</div>\r\n","import { Component, Input, ViewEncapsulation } from '@angular/core';\r\nimport { Step } from '../step';\r\nimport { OCRPlusWorkflowStep, WorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-step-ocrplus',\r\n  templateUrl: './step-ocrplus.component.html',\r\n  styleUrl: './step-ocrplus.component.scss',\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepOcrPlusComponent {\r\n  @Input() step: Step;\r\n\r\n  ocrWorkflowStep: OCRPlusWorkflowStep;\r\n\r\n  constructor(private translateService: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.ocrWorkflowStep = <OCRPlusWorkflowStep>this.step.workflowStep;\r\n  }\r\n}\r\n","<div class=\"container-fluid\" appAutoFocusFirstInput>\r\n</div>\r\n","import { Component, Input, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar-portable';\r\nimport { Observable } from 'rxjs';\r\nimport { FieldDefinition, MetaDataType, MetadataWithDocumentNameDatasource } from 'shared-code-lib';\r\nimport {\r\n  IRadioButtonOption,\r\n  RadioButtonsLayout,\r\n} from '../../../../../../../Bamba.Shared/src/models/radio-buttons-group';\r\nimport { RenameDocumentMode, RenameDocumentWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-rename-document',\r\n  templateUrl: './step-rename-document.component.html',\r\n  styleUrls: ['./step-rename-document.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepRenameDocumentComponent implements OnInit {\r\n  @ViewChild(PerfectScrollbarDirective, { static: true }) directiveRef?: PerfectScrollbarDirective;\r\n  @Input() step: Step;\r\n  @Input() onSave: Observable<void>;\r\n\r\n  renameDocumentStep: RenameDocumentWorkflowStep;\r\n  modeField: FieldDefinition;\r\n  newNameField: FieldDefinition;\r\n  modeOptions: IRadioButtonOption<string>[] = [];\r\n  RenameDocumentMode = RenameDocumentMode;\r\n  RadioButtonsLayout = RadioButtonsLayout;\r\n\r\n  constructor(private translate: TranslateService, private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.renameDocumentStep = <RenameDocumentWorkflowStep>this.step.workflowStep;\r\n\r\n    this.createFields();\r\n\r\n    for (let key in RenameDocumentMode) {\r\n      if (!isNaN(Number(key))) continue;\r\n\r\n      this.modeOptions.push({\r\n        label: this.translate.instant(`step-rename-document.${key.toLocaleLowerCase()}`),\r\n        value: RenameDocumentMode[key],\r\n      });\r\n    }\r\n  }\r\n\r\n  createFields = (): void => {\r\n    this.newNameField = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('step-rename-document.new-name'),\r\n      placeholder: '',\r\n      required: true,\r\n      substitutable: true,\r\n      datasource: new MetadataWithDocumentNameDatasource(this.userState, this.translate),\r\n    });\r\n  };\r\n\r\n  onModeChanged = (mode: RenameDocumentMode): RenameDocumentMode => (this.renameDocumentStep.mode = mode);\r\n}\r\n","<div class=\"step-rename-document container-fluid d-flex flex-column h-100\">\r\n  <div class=\"tab-content h-100\" *ngIf=\"renameDocumentStep\">\r\n    <div class=\"mt-3 mb-2\">\r\n      <app-radio-buttons-group\r\n        groupName=\"prepaid-card-type\"\r\n        [value]=\"this.renameDocumentStep?.mode\"\r\n        (valueChange)=\"onModeChanged($event)\"\r\n        [options]=\"modeOptions\"\r\n        [layout]=\"RadioButtonsLayout.Horizontal\"\r\n      ></app-radio-buttons-group>\r\n    </div>\r\n    <div *ngIf=\"renameDocumentStep.mode === RenameDocumentMode.Simple\">\r\n      <div class=\"row\">\r\n        <div class=\"col-6 line-items-field\">\r\n          <app-field\r\n            *ngIf=\"newNameField\"\r\n            [field]=\"newNameField\"\r\n            [(value)]=\"renameDocumentStep.newDocumentName\"\r\n          ></app-field>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div *ngIf=\"renameDocumentStep.mode === RenameDocumentMode.Advanced\" class=\"formatters-wrapper\">\r\n      <app-formatters\r\n        [formatters]=\"renameDocumentStep?.formatters\"\r\n        [testHeaderText]=\"'step-rename-document.test-formatters-header'\"\r\n      ></app-formatters>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Component, Input, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { cloneDeep } from 'lodash';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar-portable';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport {\r\n  DelayService,\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  IFieldOptions,\r\n  MetadataIntellisenseDatasource,\r\n  MetaDataType,\r\n} from 'shared-code-lib';\r\nimport { ComputedDataFieldValue, SetDataFieldsWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-set-data-fields',\r\n  templateUrl: './step-set-data-fields.component.html',\r\n  styleUrls: ['./step-set-data-fields.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepSetDataFieldsComponent implements OnInit, OnDestroy {\r\n  @ViewChild(PerfectScrollbarDirective, { static: true }) directiveRef?: PerfectScrollbarDirective;\r\n  @Input() step: Step;\r\n  @Input() onSave: Observable<void>;\r\n\r\n  subscriptions: Subscription = new Subscription();\r\n  workflowStep: SetDataFieldsWorkflowStep;\r\n  dataFieldsDataSource: FixedDataSource;\r\n  dataFieldsLoaded: boolean = false;\r\n  items: ComputedDataFieldValue[] = [];\r\n  constructor(private translate: TranslateService, private delay: DelayService, private userState: UserStateService) {}\r\n\r\n  ngOnInit() {\r\n    this.workflowStep = <SetDataFieldsWorkflowStep>this.step.workflowStep;\r\n    this.dataFieldsDataSource = new FixedDataSource(new Array<IFieldOptions>());\r\n    this.loadMetaData();\r\n\r\n    this.items = cloneDeep(this.workflowStep.items);\r\n    this.subscriptions.add(this.onSave.subscribe(() => (this.workflowStep.items = this.items)));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  loadMetaData = (): void => {\r\n    const metadataFields: Array<IFieldOptions> = [];\r\n\r\n    for (let i = 0; i < this.userState.user.metaData.length; i++) {\r\n      const md = this.userState.user.metaData[i];\r\n      if (md.type == MetaDataType.CascadingOptions || md.type == MetaDataType.LineItems) continue;\r\n      metadataFields.push({\r\n        name: md.name,\r\n        value: md.id,\r\n      });\r\n    }\r\n\r\n    this.dataFieldsDataSource.updateOptions(metadataFields);\r\n    this.dataFieldsLoaded = true;\r\n  };\r\n\r\n  createListField = (label: string, placeholder: string, datasource: FixedDataSource) => {\r\n    return new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: label ? this.translate.instant(label) : '',\r\n      placeholder: this.translate.instant(placeholder),\r\n      required: true,\r\n      datasource: datasource,\r\n    });\r\n  };\r\n\r\n  createTextField = (label: string, placeholder: string) => {\r\n    return new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: label ? this.translate.instant(label) : '',\r\n      placeholder: this.translate.instant(placeholder),\r\n      required: true,\r\n      substitutable: true,\r\n      datasource: new MetadataIntellisenseDatasource(this.userState),\r\n    });\r\n  };\r\n\r\n  onAddValue = () => {\r\n    this.items.push({ metaDataId: '', value: '' });\r\n\r\n    this.delay.execute(() => {\r\n      this.directiveRef.scrollToBottom(0, 300);\r\n    }, 100);\r\n  };\r\n\r\n  deleteAllItems = (): void => {\r\n    this.items = [];\r\n\r\n    this.delay.execute(() => {\r\n      this.directiveRef.scrollToTop(0, 300);\r\n    }, 100);\r\n  };\r\n\r\n  deleteItem = (item) => {\r\n    const rowIndexToDelete = this.items.indexOf(item);\r\n\r\n    if (rowIndexToDelete > -1) {\r\n      this.items.splice(rowIndexToDelete, 1);\r\n    }\r\n  };\r\n\r\n  dropped(event: CdkDragDrop<string[]>) {\r\n    moveItemInArray(this.items, event.previousIndex, event.currentIndex);\r\n  }\r\n}\r\n","<div class=\"step-setdatafields-panel container-fluid d-flex flex-column h-100\">\r\n  <div\r\n    class=\"h-100 d-flex justify-content-center align-items-center\"\r\n    *ngIf=\"dataFieldsLoaded && dataFieldsDataSource.options.length == 0\"\r\n  >\r\n    {{ 'admin-workflow.no-data-fields' | translate }}\r\n  </div>\r\n  <div\r\n    class=\"pick-list__configuration h-100 d-flex flex-column\"\r\n    *ngIf=\"dataFieldsLoaded && dataFieldsDataSource.options.length > 0\"\r\n  >\r\n    <div class=\"d-flex align-items-end\">\r\n      <div class=\"col-12 p-0 text-right\">\r\n        <button\r\n          class=\"add-button btn btn-secondary btn-minwidth mr-0\"\r\n          [title]=\"'admin-workflow.add' | translate\"\r\n          (click)=\"onAddValue()\"\r\n          id=\"btn-items-Add Item\"\r\n          [disabled]=\"!dataFieldsLoaded\"\r\n          style=\"margin-bottom: 5px\"\r\n        >\r\n          {{ 'admin-workflow.add' | translate }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <table class=\"table draggable\">\r\n      <thead>\r\n        <tr>\r\n          <th class=\"table__th-control action-th\">\r\n            <div></div>\r\n          </th>\r\n          <th width=\"45%\" class=\"table__th-content\">\r\n            <div>{{ 'admin-workflow.data-field' | translate }}</div>\r\n          </th>\r\n          <th width=\"45%\" class=\"table__th-content\">\r\n            <div>{{ 'admin-workflow.set-value' | translate }}</div>\r\n          </th>\r\n          <th class=\"table__th-control action-th delete-all\">\r\n            <div class=\"text-center\">\r\n              <i\r\n                style=\"cursor: pointer\"\r\n                class=\"icomoon-delete status\"\r\n                (click)=\"deleteAllItems()\"\r\n                [title]=\"'admin-workflow.item-delete-all' | translate\"\r\n              ></i>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody\r\n        class=\"table__body ps col p-0\"\r\n        fxFlex=\"auto\"\r\n        [perfectScrollbar]=\"{ suppressScrollY: false }\"\r\n        cdkDropList\r\n        (cdkDropListDropped)=\"dropped($event)\"\r\n      >\r\n        <tr class=\"table__table-row\" *ngFor=\"let item of items; let i = index\" cdkDrag>\r\n          <td\r\n            class=\"table__control-cell p-1 h-100 align-items-center justify-content-center\"\r\n            style=\"cursor: default !important\"\r\n          >\r\n            <div class=\"checkbox table__checkbox d-flex align-items-center justify-content-center h-100\">\r\n              <i cdkDragHandle class=\"icomoon-grip-small table__th-grip\"></i>\r\n            </div>\r\n          </td>\r\n          <td width=\"45%\" class=\"table__cell\" style=\"cursor: default !important\">\r\n            <div class=\"table__cell-content\">\r\n              <app-field\r\n                [field]=\"createListField('', 'admin-workflow.data-field', dataFieldsDataSource)\"\r\n                [(value)]=\"item.metaDataId\"\r\n              ></app-field>\r\n            </div>\r\n          </td>\r\n          <td width=\"45%\" class=\"table__cell\" style=\"cursor: default !important\">\r\n            <div class=\"table__cell-content\">\r\n              <app-field [field]=\"createTextField('', 'admin-workflow.set-value')\" [(value)]=\"item.value\"></app-field>\r\n            </div>\r\n          </td>\r\n          <td\r\n            class=\"table__control-cell p-1 d-flex h-100 align-items-center justify-content-center\"\r\n            style=\"cursor: default !important\"\r\n          >\r\n            <div class=\"checkbox table__checkbox\">\r\n              <i\r\n                style=\"cursor: pointer\"\r\n                class=\"icomoon-delete status\"\r\n                (click)=\"deleteItem(item)\"\r\n                [title]=\"'admin-workflow.item-delete' | translate\"\r\n                id=\"items-delete-{{ $any(item).name }}\"\r\n              ></i>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, IFieldOptions } from '../../../../../../../../Bamba.Shared/src/models/field-definition';\r\nimport { FixedDataSource } from '../../../../../../../../Bamba.Shared/src/models/fixed-datasource';\r\nimport { MetaDataType } from '../../../../../../../../Bamba.Shared/src/models/metadata-definition';\r\nimport { DelayService } from '../../../../../../../../Bamba.Shared/src/utils/delay.service';\r\nimport {\r\n  Classification,\r\n  ContentCriteria,\r\n  ContentCriteriaType,\r\n  IContentCriteria,\r\n  PageSelectionCriteria,\r\n} from '../../../../blocks/models/workflow-step';\r\n\r\n@Component({\r\n  selector: 'app-classification',\r\n  templateUrl: './classification.component.html',\r\n  styleUrls: ['./classification.component.scss'],\r\n})\r\nexport class ClassificationComponent implements OnInit {\r\n  @Input() classification: Classification;\r\n  @Input() index: number;\r\n  @Input() disableDeletion: boolean;\r\n  @Output() onDeleteClassification = new EventEmitter<number>();\r\n\r\n  nameField: FieldDefinition;\r\n  contentCriteriaRequiredField: FieldDefinition;\r\n\r\n  get disableContentCriteriaDeletion() {\r\n    return this.classification.contentCriteria.length === 1;\r\n  }\r\n\r\n  constructor(private translateService: TranslateService, private delayService: DelayService) {}\r\n\r\n  ngOnInit() {\r\n    this.createFields();\r\n  }\r\n\r\n  createFields() {\r\n    this.nameField = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translateService.instant('simple-classifier-step-properties.name-label'),\r\n      placeholder: this.translateService.instant('simple-classifier-step-properties.name-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.setContentCriteriaRequiredField();\r\n  }\r\n\r\n  setContentCriteriaRequiredField() {\r\n    this.contentCriteriaRequiredField = null;\r\n    this.delayService.execute(() => {\r\n      const options: IFieldOptions[] = [\r\n        { name: this.translateService.instant('simple-classifier-step-properties.all'), value: '0' },\r\n      ];\r\n\r\n      const contentCriteriaNumbers = Array.from(\r\n        { length: this.classification.contentCriteria.length - 1 },\r\n        (_, i) => i + 1\r\n      );\r\n\r\n      contentCriteriaNumbers.forEach((num) => {\r\n        options.push({\r\n          name: this.translateService.instant('simple-classifier-step-properties.at-least') + ' ' + num,\r\n          value: num + '',\r\n        });\r\n      });\r\n\r\n      this.contentCriteriaRequiredField = new FieldDefinition({\r\n        type: MetaDataType.List,\r\n        label: '',\r\n        placeholder: '',\r\n        datasource: new FixedDataSource(options),\r\n        required: false,\r\n      });\r\n\r\n      if (this.classification.contentCriteriaRequired > contentCriteriaNumbers.length) {\r\n        this.classification.contentCriteriaRequired = contentCriteriaNumbers.length;\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  deleteClassification() {\r\n    if (this.disableDeletion) return;\r\n    this.onDeleteClassification.emit(this.index);\r\n  }\r\n\r\n  addContentCriteria() {\r\n    this.classification.contentCriteria.push(this.getDefaultContentCriteria());\r\n\r\n    this.delayService.execute(() => {\r\n      const criteriaTextField = <HTMLInputElement>(\r\n        document.querySelector(\r\n          `#classification-${this.index} #content-criteria-${\r\n            this.classification.contentCriteria.length - 1\r\n          } .field-text`\r\n        )\r\n      );\r\n      if (criteriaTextField) {\r\n        criteriaTextField.focus();\r\n      }\r\n    }, 50);\r\n\r\n    this.setContentCriteriaRequiredField();\r\n  }\r\n\r\n  getDefaultContentCriteria() {\r\n    return ContentCriteria.create({\r\n      contentCriteriaType: 'RegexContentCriteria',\r\n      pageSelection: PageSelectionCriteria.First,\r\n      pageRange: '',\r\n      onlyIfOnSpecificPages: false,\r\n      text: '',\r\n      caseInsensitive: false,\r\n      repeats: false,\r\n      minimumRepeats: 1,\r\n      maximumRepeats: 1,\r\n    } as IContentCriteria);\r\n  }\r\n\r\n  deleteContentCriteria(indexToDelete: number) {\r\n    if (this.disableContentCriteriaDeletion) return;\r\n    this.classification.contentCriteria.splice(indexToDelete, 1);\r\n    this.setContentCriteriaRequiredField();\r\n  }\r\n\r\n  onSelectContentCriteriaRequired(value: string) {\r\n    this.classification.contentCriteriaRequired = +value;\r\n  }\r\n\r\n  updateContentCriteriaType(newType: ContentCriteriaType, index: number) {\r\n    const oldCriteria = this.classification.contentCriteria[index];\r\n    if (!oldCriteria) return;\r\n\r\n    const newCriteriaInitializer = {\r\n      ...oldCriteria.serializable(),\r\n      contentCriteriaType: newType,\r\n    };\r\n\r\n    this.classification.contentCriteria.splice(index, 1, ContentCriteria.create(newCriteriaInitializer));\r\n  }\r\n}\r\n","<div id=\"{{ 'classification-' + index }}\" class=\"classification\">\r\n  <div class=\"row name-field-container\">\r\n    <app-field *ngIf=\"nameField\" [field]=\"nameField\" [(value)]=\"classification.name\"></app-field>\r\n  </div>\r\n  <div class=\"row content-criteria-label-and-number\">\r\n    <div class=\"content-criteria-label-container\">\r\n      <app-label\r\n        [text]=\"'simple-classifier-step-properties.content-criteria-section-label'\"\r\n        [localize]=\"true\"\r\n        [required]=\"true\"\r\n      ></app-label>\r\n    </div>\r\n    <div\r\n      class=\"content-criteria-required-field-container\"\r\n      *ngIf=\"contentCriteriaRequiredField && classification.contentCriteria.length > 1\"\r\n    >\r\n      <app-field\r\n        [field]=\"contentCriteriaRequiredField\"\r\n        [value]=\"classification.contentCriteriaRequired + ''\"\r\n        (fieldChanged)=\"onSelectContentCriteriaRequired($event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n  <div class=\"row content-criterias-list\">\r\n    <div class=\"col\">\r\n      <app-content-criteria\r\n        *ngFor=\"let contentCriteria of classification.contentCriteria; let i = index\"\r\n        [contentCriteria]=\"contentCriteria\"\r\n        [index]=\"i\"\r\n        [classificationIndex]=\"index\"\r\n        [disableDeletion]=\"disableContentCriteriaDeletion\"\r\n        (onDeleteContentCriteria)=\"deleteContentCriteria($event)\"\r\n        (onUpdateType)=\"updateContentCriteriaType($event, i)\"\r\n      ></app-content-criteria>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row add-content-criteria-btn-container\">\r\n    <button class=\"btn btn-secondary\" (click)=\"addContentCriteria()\">\r\n      {{ 'simple-classifier-step-properties.add-content-criteria' | translate }}\r\n    </button>\r\n  </div>\r\n\r\n  <button class=\"item-delete\" [disabled]=\"disableDeletion\">\r\n    <i\r\n      class=\"icon-cancel-circle\"\r\n      [title]=\"'simple-classifier-step-properties.delete-classification' | translate\"\r\n      (click)=\"deleteClassification()\"\r\n    ></i>\r\n  </button>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition } from '../../../../../../../../../Bamba.Shared/src/models/field-definition';\r\nimport { EnumDataSource } from '../../../../../../../../../Bamba.Shared/src/models/fixed-datasource';\r\nimport { MetaDataType } from '../../../../../../../../../Bamba.Shared/src/models/metadata-definition';\r\nimport { ContentCriteria, ContentCriteriaType, TextContentCriteria } from '../../../../../blocks/models/workflow-step';\r\n\r\n@Component({\r\n  selector: 'app-content-criteria',\r\n  templateUrl: './content-criteria.component.html',\r\n  styleUrls: ['./content-criteria.component.scss'],\r\n})\r\nexport class ContentCriteriaComponent implements OnInit {\r\n  @Input() contentCriteria: ContentCriteria;\r\n  @Input() classificationIndex: number;\r\n  @Input() index: number;\r\n  @Input() disableDeletion: boolean;\r\n  @Output() onDeleteContentCriteria = new EventEmitter();\r\n  @Output() onUpdateType = new EventEmitter();\r\n\r\n  contentCriteriaTypeField: FieldDefinition;\r\n\r\n  constructor(private translateService: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.createFields();\r\n  }\r\n\r\n  createFields() {\r\n    this.contentCriteriaTypeField = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: '',\r\n      placeholder: '',\r\n      datasource: new EnumDataSource(ContentCriteriaType, 'ContentCriteriaTypeEnum', this.translateService),\r\n      required: true,\r\n    });\r\n  }\r\n\r\n  deleteContentCriteria() {\r\n    if (this.disableDeletion) return;\r\n    this.onDeleteContentCriteria.emit(this.index);\r\n  }\r\n\r\n  updateSelectedFieldType(value: string) {\r\n    this.onUpdateType.emit(value);\r\n  }\r\n\r\n  isTextContentCriteria(contentCriteria: ContentCriteria) {\r\n    return (\r\n      contentCriteria instanceof TextContentCriteria ||\r\n      contentCriteria.contentCriteriaType === 'RegexContentCriteria' ||\r\n      contentCriteria.contentCriteriaType === 'LiteralContentCriteria' ||\r\n      contentCriteria.contentCriteriaType === 'WildcardContentCriteria'\r\n    );\r\n  }\r\n\r\n  getTextContentCriteria(contentCriteria: ContentCriteria) {\r\n    return contentCriteria as TextContentCriteria;\r\n  }\r\n}\r\n","<div id=\"{{ 'content-criteria-' + index }}\" class=\"content-criteria-container\">\r\n  <div class=\"row\">\r\n    <div class=\"col-3\">\r\n      <app-field\r\n        *ngIf=\"contentCriteriaTypeField\"\r\n        [field]=\"contentCriteriaTypeField\"\r\n        [value]=\"contentCriteria.contentCriteriaType\"\r\n        (fieldChanged)=\"updateSelectedFieldType($event)\"\r\n      ></app-field>\r\n    </div>\r\n\r\n    <div class=\"col-9\">\r\n      <app-text-content-criteria-options\r\n        *ngIf=\"isTextContentCriteria(contentCriteria)\"\r\n        [textContentCriteria]=\"getTextContentCriteria(contentCriteria)\"\r\n        [id]=\"classificationIndex + index\"\r\n      ></app-text-content-criteria-options>\r\n    </div>\r\n  </div>\r\n\r\n  <button class=\"item-delete\" [disabled]=\"disableDeletion\">\r\n    <i\r\n      class=\"icon-cancel-circle\"\r\n      [title]=\"'simple-classifier-step-properties.delete-content-criteria' | translate\"\r\n      (click)=\"deleteContentCriteria()\"\r\n    ></i>\r\n  </button>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition } from '../../../../../../../../../../Bamba.Shared/src/models/field-definition';\r\nimport { EnumDataSource } from '../../../../../../../../../../Bamba.Shared/src/models/fixed-datasource';\r\nimport { MetaDataType } from '../../../../../../../../../../Bamba.Shared/src/models/metadata-definition';\r\nimport { PageSelectionCriteria, TextContentCriteria } from '../../../../../../blocks/models/workflow-step';\r\n\r\n@Component({\r\n  selector: 'app-text-content-criteria-options',\r\n  templateUrl: './text-content-criteria-options.component.html',\r\n  styleUrls: ['./text-content-criteria-options.component.scss'],\r\n})\r\nexport class TextContentCriteriaOptionsComponent implements OnInit {\r\n  @Input() textContentCriteria: TextContentCriteria;\r\n  @Input() id: number;\r\n  textField: FieldDefinition;\r\n  pageSelectionField: FieldDefinition;\r\n  pageRangeField: FieldDefinition;\r\n  minimumRepeatsField: FieldDefinition;\r\n  maximumRepeatsField: FieldDefinition;\r\n\r\n  constructor(private translateService: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.createFields();\r\n  }\r\n\r\n  createFields() {\r\n    this.textField = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: '',\r\n      placeholder: '',\r\n      required: false,\r\n    });\r\n\r\n    this.pageSelectionField = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: '',\r\n      placeholder: '',\r\n      required: true,\r\n      datasource: new EnumDataSource(PageSelectionCriteria, 'PageSelectionCriteriaEnum', this.translateService),\r\n    });\r\n\r\n    this.pageRangeField = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: '',\r\n      placeholder: '',\r\n      required: false,\r\n    });\r\n\r\n    this.minimumRepeatsField = new FieldDefinition({\r\n      type: MetaDataType.Integer,\r\n      label: this.translateService.instant('simple-classifier-step-properties.minimum-repeats-label'),\r\n      placeholder: '',\r\n      required: true,\r\n    });\r\n\r\n    this.maximumRepeatsField = new FieldDefinition({\r\n      type: MetaDataType.Integer,\r\n      label: this.translateService.instant('simple-classifier-step-properties.maximum-repeats-label'),\r\n      placeholder: '',\r\n      required: true,\r\n    });\r\n  }\r\n\r\n  updatePageSelection(value: string) {\r\n    this.textContentCriteria.pageSelection = +value;\r\n  }\r\n\r\n  updateMinimumRepeats(value: string) {\r\n    this.textContentCriteria.minimumRepeats = +value;\r\n  }\r\n\r\n  updateMaximumRepeats(value: string) {\r\n    this.textContentCriteria.maximumRepeats = +value;\r\n  }\r\n}\r\n","<div class=\"text-content-criteria-options-container\">\r\n  <div class=\"text-field-container\">\r\n    <app-field *ngIf=\"textField\" [field]=\"textField\" [(value)]=\"textContentCriteria.text\"></app-field>\r\n  </div>\r\n\r\n  <app-checkbox\r\n    [(value)]=\"textContentCriteria.caseInsensitive\"\r\n    label=\"simple-classifier-step-properties.case-insensitive\"\r\n    name=\"{{ 'case-insensitive-' + id }}\"\r\n  ></app-checkbox>\r\n\r\n  <app-checkbox\r\n    [(value)]=\"textContentCriteria.onlyIfOnSpecificPages\"\r\n    label=\"simple-classifier-step-properties.only-if-on-specific-pages\"\r\n    name=\"{{ 'specific-pages-' + id }}\"\r\n  ></app-checkbox>\r\n\r\n  <div class=\"row\" *ngIf=\"textContentCriteria.onlyIfOnSpecificPages\">\r\n    <div class=\"col page-selection-field\">\r\n      <app-field\r\n        *ngIf=\"pageSelectionField\"\r\n        [field]=\"pageSelectionField\"\r\n        [value]=\"textContentCriteria.pageSelection + ''\"\r\n        (fieldChanged)=\"updatePageSelection($event)\"\r\n      ></app-field>\r\n    </div>\r\n    <div class=\"col page-range-field\">\r\n      <app-field\r\n        *ngIf=\"pageRangeField && textContentCriteria.pageSelection === 2\"\r\n        [field]=\"pageRangeField\"\r\n        [(value)]=\"textContentCriteria.pageRange\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <app-checkbox\r\n    [(value)]=\"textContentCriteria.repeats\"\r\n    label=\"simple-classifier-step-properties.repeats-label\"\r\n    name=\"{{ 'repeats-' + id }}\"\r\n  ></app-checkbox>\r\n\r\n  <div class=\"row\" *ngIf=\"textContentCriteria.repeats\">\r\n    <div class=\"col minimum-repeats-field\">\r\n      <app-field\r\n        *ngIf=\"minimumRepeatsField\"\r\n        [field]=\"minimumRepeatsField\"\r\n        [value]=\"textContentCriteria.minimumRepeats + ''\"\r\n        (valueChange)=\"updateMinimumRepeats($event)\"\r\n      ></app-field>\r\n    </div>\r\n    <div class=\"col maximum-repeats-field\">\r\n      <app-field\r\n        *ngIf=\"maximumRepeatsField\"\r\n        [field]=\"maximumRepeatsField\"\r\n        [value]=\"textContentCriteria.maximumRepeats + ''\"\r\n        (valueChange)=\"updateMaximumRepeats($event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { Component, Input, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { cloneDeep } from 'lodash';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar-portable';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { ObjectIdGenerator } from '../../../../../../../Bamba.Shared';\r\nimport { FieldDefinition, IFieldOptions } from '../../../../../../../Bamba.Shared/src/models/field-definition';\r\nimport { FixedDataSource } from '../../../../../../../Bamba.Shared/src/models/fixed-datasource';\r\nimport { MetaDataType } from '../../../../../../../Bamba.Shared/src/models/metadata-definition';\r\nimport { DelayService } from '../../../../../../../Bamba.Shared/src/utils/delay.service';\r\nimport { Classified, NotClassified, Outcome } from '../../../blocks/models/outcome';\r\nimport {\r\n  Classification,\r\n  ContentCriteria,\r\n  IContentCriteria,\r\n  PageSelectionCriteria,\r\n  SimpleClassifierWorkflowStep,\r\n} from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-simple-classifier',\r\n  templateUrl: './step-simple-classifier.component.html',\r\n  styleUrls: ['./step-simple-classifier.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepSimpleClassifierComponent implements OnInit, OnDestroy {\r\n  @Input() step: Step;\r\n  @Input() onSave: Observable<any>;\r\n  @ViewChild(PerfectScrollbarDirective) perfectScrollbar: PerfectScrollbarDirective;\r\n\r\n  simpleClassifierStep: SimpleClassifierWorkflowStep;\r\n\r\n  metaDataOptions: IFieldOptions[] = [];\r\n  fieldDataField: FieldDefinition;\r\n\r\n  subscription = new Subscription();\r\n\r\n  get stepHasOneClassification() {\r\n    return this.simpleClassifierStep.classifications.length === 1;\r\n  }\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private delayService: DelayService,\r\n    private userState: UserStateService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.initStep();\r\n    this.subscription.add(this.onSave.subscribe(this.saveChangesToWorkflow));\r\n\r\n    this.setupMetaData();\r\n    this.createFields();\r\n  }\r\n\r\n  initStep(): void {\r\n    this.simpleClassifierStep = cloneDeep(this.step.workflowStep as SimpleClassifierWorkflowStep);\r\n    if (!this.simpleClassifierStep.classifications.length)\r\n      this.simpleClassifierStep.classifications.push(this.getDefaultClassificationDefinition());\r\n  }\r\n\r\n  saveChangesToWorkflow = (): void => {\r\n    const nextId = this.simpleClassifierStep.outcomes.find((o) => o.outcomeType == 'notclassified')?.nextId ?? '';\r\n\r\n    this.simpleClassifierStep.outcomes = this.simpleClassifierStep.classifications.map(this.outcomeFromClassification);\r\n\r\n    this.simpleClassifierStep.outcomes.push(\r\n      new NotClassified({\r\n        id: this.simpleClassifierStep.id,\r\n        outcomeType: 'notclassified',\r\n        text: '',\r\n        label: '',\r\n        enabled: true,\r\n        requiresValidMetaData: false,\r\n        requiresConfirmation: false,\r\n        nextId: nextId,\r\n      })\r\n    );\r\n\r\n    this.step.workflowStep = cloneDeep(this.simpleClassifierStep);\r\n  };\r\n\r\n  outcomeFromClassification = (c: Classification): Outcome => {\r\n    const nextId = this.simpleClassifierStep.outcomes.find((o) => o.id == c.id)?.nextId ?? '';\r\n\r\n    return new Classified({\r\n      id: c.id,\r\n      outcomeType: 'classified',\r\n      text: c.name,\r\n      label: c.name,\r\n      enabled: true,\r\n      requiresValidMetaData: false,\r\n      requiresConfirmation: false,\r\n      nextId: nextId,\r\n    });\r\n  };\r\n\r\n  getDefaultClassificationDefinition(): Classification {\r\n    return new Classification({\r\n      id: ObjectIdGenerator.generateNewObjectId(),\r\n      name: '',\r\n      contentCriteriaRequired: 0,\r\n      contentCriteria: [this.getDefaultContentCriteria()],\r\n    });\r\n  }\r\n\r\n  getDefaultContentCriteria(): IContentCriteria {\r\n    return ContentCriteria.create({\r\n      contentCriteriaType: 'RegexContentCriteria',\r\n      pageSelection: PageSelectionCriteria.First,\r\n      pageRange: '',\r\n      onlyIfOnSpecificPages: false,\r\n      text: '',\r\n      caseInsensitive: false,\r\n      repeats: false,\r\n      minimumRepeats: 1,\r\n      maximumRepeats: 1,\r\n    } as IContentCriteria);\r\n  }\r\n\r\n  setupMetaData(): void {\r\n    this.metaDataOptions = this.userState.user.metaData\r\n      .filter((metaData) => metaData.type !== MetaDataType.LineItems)\r\n      .map((metaData) => ({ name: metaData.label, value: metaData.id }));\r\n\r\n    this.metaDataOptions.unshift({\r\n      name: this.translateService.instant('simple-classifier-step-properties.form-type'),\r\n      value: '',\r\n    });\r\n  }\r\n\r\n  createFields(): void {\r\n    this.fieldDataField = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant('simple-classifier-step-properties.data-field-label'),\r\n      placeholder: '',\r\n      datasource: new FixedDataSource(this.metaDataOptions),\r\n      required: true,\r\n    });\r\n  }\r\n\r\n  moveItem(event: CdkDragDrop<string[]>): void {\r\n    moveItemInArray(this.simpleClassifierStep.classifications, event.previousIndex, event.currentIndex);\r\n  }\r\n\r\n  deleteClassification(indexToDelete: number): void {\r\n    if (this.stepHasOneClassification) return;\r\n    this.simpleClassifierStep.classifications.splice(indexToDelete, 1);\r\n    this.perfectScrollbar.update();\r\n  }\r\n\r\n  addClassification(): void {\r\n    this.simpleClassifierStep.classifications.push(this.getDefaultClassificationDefinition());\r\n    this.delayService.execute(() => {\r\n      const classificationNameField = <HTMLInputElement>(\r\n        document.querySelector(`#classification-${this.simpleClassifierStep.classifications.length - 1} input`)\r\n      );\r\n      if (classificationNameField) {\r\n        classificationNameField.focus();\r\n      }\r\n    }, 50);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"simpleclassifier-properties\" *ngIf=\"simpleClassifierStep\">\r\n  <div class=\"data-field-container\">\r\n    <app-field\r\n      *ngIf=\"fieldDataField\"\r\n      [field]=\"fieldDataField\"\r\n      [(value)]=\"simpleClassifierStep.metaDataFieldId\"\r\n    ></app-field>\r\n  </div>\r\n  <div\r\n    class=\"classifications-list\"\r\n    [perfectScrollbar]=\"{ suppressScrollX: true }\"\r\n    cdkDropList\r\n    (cdkDropListDropped)=\"moveItem($event)\"\r\n  >\r\n    <div\r\n      class=\"classification-box\"\r\n      *ngFor=\"let classification of simpleClassifierStep.classifications; let i = index\"\r\n      cdkDrag\r\n    >\r\n      <div class=\"classification-container\">\r\n        <i class=\"icomoon-grip-small gripper-icon\" id=\"{{ 'gripper-' + i }}\" cdkDragHandle></i>\r\n        <app-classification\r\n          [classification]=\"classification\"\r\n          [index]=\"i\"\r\n          [disableDeletion]=\"stepHasOneClassification\"\r\n          (onDeleteClassification)=\"deleteClassification($event)\"\r\n        ></app-classification>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"add-classification-btn-container\">\r\n    <button class=\"btn btn-secondary\" (click)=\"addClassification()\">\r\n      {{ 'simple-classifier-step-properties.add-classification' | translate }}\r\n    </button>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Tab } from 'shared-code-lib';\r\nimport { Workflow } from '../../../blocks/models/workflow';\r\n\r\n@Component({\r\n  selector: 'app-step-start',\r\n  templateUrl: './step-start.component.html',\r\n  styleUrls: ['./step-start.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class StepStartComponent implements OnInit {\r\n  @Input() workflow: Workflow;\r\n\r\n  activeTab = 'scan-settings';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private translateService: TranslateService) {}\r\n\r\n  ngOnInit() {\r\n    this.createTabs();\r\n  }\r\n\r\n  activateTab = (view) => {\r\n    this.activeTab = view;\r\n  };\r\n\r\n  private createTabs = () => {\r\n    this.tabs.push(new Tab('scan-settings', this.translateService.instant('step-interactive.scan-settings')));\r\n    this.tabs.push(new Tab('prompts', this.translateService.instant('admin-workflow.prompts')));\r\n  };\r\n}\r\n","<div class=\"start-step-properties\">\r\n  <app-tab-bar [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n\r\n  <div class=\"tab-content\">\r\n    <div *ngIf=\"'scan-settings' == activeTab\">\r\n      <app-scan-settings [workflow]=\"workflow\"></app-scan-settings>\r\n    </div>\r\n\r\n    <div *ngIf=\"'prompts' == activeTab\">\r\n      <app-prompts [workflow]=\"workflow\"></app-prompts>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport {\r\n  FieldDefinition,\r\n  FixedDataSource,\r\n  IFieldDataSource,\r\n  IFieldOptions,\r\n  MetadataIntellisenseDatasource,\r\n  MetaDataType,\r\n} from 'shared-code-lib';\r\nimport { SummarizationWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-summarization',\r\n  templateUrl: './step-summarization.component.html',\r\n  styleUrls: ['./step-summarization.component.scss'],\r\n})\r\nexport class StepSummarizationComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  summarizationStep: SummarizationWorkflowStep;\r\n  maxWordsField: FieldDefinition;\r\n  metaDataOptions: IFieldOptions[] = [];\r\n  fieldDataField: FieldDefinition;\r\n\r\n  get maxWords() {\r\n    return `${this.summarizationStep.maxWords}`;\r\n  }\r\n  set maxWords(val: string) {\r\n    this.summarizationStep.maxWords = Number(val);\r\n  }\r\n\r\n  constructor(private translator: TranslateService, private userState: UserStateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.summarizationStep = this.step.workflowStep as SummarizationWorkflowStep;\r\n\r\n    this.setupMetaData();\r\n    this.createFields();\r\n  }\r\n\r\n  setupMetaData(): void {\r\n    this.metaDataOptions = this.userState.user.metaData\r\n      .filter((metaData) => metaData.type !== MetaDataType.LineItems)\r\n      .map((metaData) => ({ name: metaData.label, value: metaData.id }));\r\n\r\n    this.metaDataOptions.unshift({\r\n      name: this.translator.instant('step-summarization.summary'),\r\n      value: '',\r\n    });\r\n  }\r\n\r\n  createFields(): void {\r\n    this.maxWordsField = this.createField('maxWords', 'maxWords', MetaDataType.Integer, true);\r\n    this.fieldDataField = this.createField(\r\n      'data-field-label',\r\n      '',\r\n      MetaDataType.List,\r\n      true,\r\n      false,\r\n      new FixedDataSource(this.metaDataOptions)\r\n    );\r\n  }\r\n\r\n  createField(\r\n    label: string = null,\r\n    placeholder: string = '',\r\n    type: MetaDataType = MetaDataType.Text,\r\n    required: boolean = false,\r\n    substitutable: boolean = true,\r\n    datasource: IFieldDataSource = null\r\n  ): FieldDefinition {\r\n    return new FieldDefinition({\r\n      type: type,\r\n      label: label ? this.translator.instant(`step-summarization.${label}`) : '',\r\n      placeholder: placeholder ? this.translator.instant(`step-summarization.${placeholder}`) : '',\r\n      required: required,\r\n      datasource: substitutable ? new MetadataIntellisenseDatasource(this.userState) : datasource,\r\n      substitutable: substitutable,\r\n    });\r\n  }\r\n}\r\n","<div class=\"container-fluid\" appAutoFocusFirstInput>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field *ngIf=\"fieldDataField\"\r\n                 [field]=\"fieldDataField\"\r\n                 [(value)]=\"summarizationStep.metaDataFieldId\"></app-field>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"maxWordsField\" [(value)]=\"maxWords\"></app-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { FieldDefinition, FixedDataSource, IFieldOptions, MetaDataType } from '../../../../../../../Bamba.Shared';\r\nimport { TranslateDocumentWorkflowStep } from '../../../blocks/models/workflow-step';\r\nimport { Step } from '../step';\r\n\r\n@Component({\r\n  selector: 'app-step-translate-document',\r\n  templateUrl: './step-translate-document.component.html',\r\n  styleUrls: ['./step-translate-document.component.scss'],\r\n})\r\nexport class StepTranslateDocumentComponent implements OnInit {\r\n  @Input() step: Step;\r\n\r\n  translateDocument: TranslateDocumentWorkflowStep;\r\n\r\n  sourceLanguageCodeField: FieldDefinition;\r\n  targetLanguageCodeField: FieldDefinition;\r\n\r\n  constructor(private translateService: TranslateService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.translateDocument = this.step.workflowStep as TranslateDocumentWorkflowStep;\r\n\r\n    this.createFields();\r\n  }\r\n\r\n  createFields = (): void => {\r\n    this.sourceLanguageCodeField = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant(`step-translate-document.source-language-code`),\r\n      placeholder: '',\r\n      required: true,\r\n      datasource: this.createLanaguageCodeDataSource(true),\r\n    });\r\n\r\n    this.targetLanguageCodeField = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translateService.instant(`step-translate-document.target-language-code`),\r\n      placeholder: '',\r\n      required: true,\r\n      datasource: this.createLanaguageCodeDataSource(false),\r\n    });\r\n  };\r\n\r\n  createLanaguageCodeDataSource = (includeAutoDetect: boolean): FixedDataSource => {\r\n    const options = new Array<IFieldOptions>();\r\n\r\n    this.translateDocument.supportedLanguageCodes.forEach((lc) => {\r\n      options.push({ name: this.translateService.instant(`step-translate-document.languages.${lc}`), value: lc });\r\n    });\r\n\r\n    options.sort((x, y) => x.name.localeCompare(y.name));\r\n\r\n    if (includeAutoDetect)\r\n      options.unshift({\r\n        name: this.translateService.instant(`step-translate-document.languages.automatic`),\r\n        value: '*',\r\n      });\r\n\r\n    return new FixedDataSource(options);\r\n  };\r\n}\r\n","<div class=\"step-document-translate-panel container-fluid\">\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"sourceLanguageCodeField\" [(value)]=\"translateDocument.sourceLanguageCode\"></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-6\">\r\n      <app-field [field]=\"targetLanguageCodeField\" [(value)]=\"translateDocument.targetLanguageCode\"></app-field>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { TranslateService } from '@ngx-translate/core';\r\nimport { IWorkflowStep } from '../../blocks/models/workflow-step';\r\n\r\nexport class Step {\r\n  public workflowStep: IWorkflowStep;\r\n\r\n  constructor(public stepType: string) {}\r\n\r\n  clone = (): Step => {\r\n    const step = new Step(this.stepType);\r\n    if (this.workflowStep) step.workflowStep = this.workflowStep.clone();\r\n\r\n    return step;\r\n  };\r\n\r\n  getCellName = (translate: TranslateService): string => {\r\n    return this.workflowStep.name;\r\n  };\r\n\r\n  private static steps: Array<Step>;\r\n\r\n  static getSteps = (): Array<Step> => {\r\n    if (Step.steps == null) {\r\n      Step.steps = [];\r\n\r\n      Step.steps.push(new Step('start'));\r\n      Step.steps.push(new Step('completed'));\r\n      Step.steps.push(new Step('completedfailed'));\r\n      Step.steps.push(new Step('bursting'));\r\n      Step.steps.push(new Step('ocr'));\r\n      Step.steps.push(new Step('interactivestep'));\r\n      Step.steps.push(new Step('forms'));\r\n      Step.steps.push(new Step('formsai'));\r\n      Step.steps.push(new Step('delivertofilebound'));\r\n      Step.steps.push(new Step('imageprocessing'));\r\n      Step.steps.push(new Step('decisionpoint'));\r\n      Step.steps.push(new Step('movetoworkflow'));\r\n      Step.steps.push(new Step('delivertoemail'));\r\n      Step.steps.push(new Step('delivertointerfax'));\r\n      Step.steps.push(new Step('delivertonetdocs'));\r\n      Step.steps.push(new Step('delivertoawss3'));\r\n      Step.steps.push(new Step('delivertosharepoint365'));\r\n      Step.steps.push(new Step('routingsheet'));\r\n      Step.steps.push(new Step('exporttoapi'));\r\n      Step.steps.push(new Step('barcodedatamapping'));\r\n      Step.steps.push(new Step('delivertoftp'));\r\n      Step.steps.push(new Step('setdatafields'));\r\n      Step.steps.push(new Step('exporttowebservice'));\r\n      Step.steps.push(new Step('barcodecoverpage'));\r\n      Step.steps.push(new Step('invoiceextraction'));\r\n      Step.steps.push(new Step('detectsignature'));\r\n      Step.steps.push(new Step('detectpii'));\r\n      Step.steps.push(new Step('translatedocument'));\r\n      Step.steps.push(new Step('simpleclassifier'));\r\n      Step.steps.push(new Step('addtemplate'));\r\n      Step.steps.push(new Step('summarization'));\r\n      Step.steps.push(new Step('keywordextraction'));\r\n      Step.steps.push(new Step('dataextraction'));\r\n      Step.steps.push(new Step('extractionpro'));\r\n      Step.steps.push(new Step('classifier'));\r\n      Step.steps.push(new Step('duplicate'));\r\n      Step.steps.push(new Step('renamedocument'));\r\n      Step.steps.push(new Step('ocrplus'));\r\n      Step.steps.push(new Step('documentstamp'));\r\n    }\r\n\r\n    return Step.steps;\r\n  };\r\n\r\n  static getStepFor = (stepType: string): Step => {\r\n    console.log(stepType);\r\n\r\n    const step = Step.getSteps().find((s) => s.stepType == stepType);\r\n    if (step == null) return null;\r\n\r\n    return step.clone();\r\n  };\r\n}\r\n\r\nexport enum StepCategory {\r\n  Process = 0,\r\n  Export = 1,\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { NgxSmartModalComponent, NgxSmartModalService } from 'ngx-smart-modal';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { BrowserDetectorService, MouseClick } from 'shared-code-lib';\r\nimport { Action, ActionEvent } from '../../../blocks/core/actions';\r\nimport { KeyboardActionMapping } from '../../../blocks/core/keyboardActionMapping';\r\nimport { Log } from '../../../blocks/core/log';\r\nimport { Failed, Interactive, Outcome, Succeeded } from '../../../blocks/models/outcome';\r\nimport { Workflow } from '../../../blocks/models/workflow';\r\nimport {\r\n  CompletedFailedWorkflowStep,\r\n  CompletedWorkflowStep,\r\n  InteractiveWorkflowStep,\r\n  IWorkflowStep,\r\n  StartWorkflowStep,\r\n  WorkflowStep,\r\n} from '../../../blocks/models/workflow-step';\r\nimport {\r\n  WorkflowStepCostType,\r\n  WorkflowStepPageLicenseCost,\r\n} from '../../../blocks/models/workflow-step-page-license-cost';\r\nimport { ActionService } from '../../../blocks/services/action.service';\r\nimport { ErrorsService } from '../../../blocks/services/errors.service';\r\nimport { HydraApiService } from '../../../blocks/services/hydra-api.service';\r\nimport { ModalsUtilitiesService } from '../../../blocks/services/modals-utilities.service';\r\nimport { SpinnerStateService } from '../../../blocks/services/spinner-state.service';\r\nimport { Step } from '../step';\r\n\r\ndeclare const $: any;\r\n\r\n@Component({\r\n  selector: 'app-workflow-editor',\r\n  templateUrl: './workflow-editor.component.html',\r\n  styleUrls: ['./workflow-editor.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class WorkflowEditorComponent implements OnInit, AfterViewInit, OnDestroy, OnChanges {\r\n  @ViewChild('graphContainer', { static: true })\r\n  graphContainer: ElementRef;\r\n  @ViewChild('graphWrapper', { static: true })\r\n  graphWrapper: ElementRef;\r\n  @ViewChild('stepPropertiesModal', { static: true })\r\n  stepPropertiesModalElement: ElementRef;\r\n  @ViewChild('modalBody', { static: true })\r\n  modalBody: ElementRef;\r\n\r\n  @Input() workflow: Workflow;\r\n  private _onSave = new Subject<void>();\r\n  onSave = this._onSave.asObservable();\r\n\r\n  subscriptions: Subscription;\r\n  stepPropertiesModal: NgxSmartModalComponent;\r\n  selectionHandler: mxSelectionCellsHandler;\r\n\r\n  public graph: mxGraph;\r\n  done: mxCell;\r\n\r\n  portMap = {};\r\n  vertexMap = {};\r\n\r\n  zoomInTitle: string;\r\n  zoomOutTitle: string;\r\n\r\n  isLoading: boolean;\r\n\r\n  readonly min_zoom = 0.2;\r\n  readonly max_zoom = 5;\r\n  readonly graphMinWidth = 500;\r\n  readonly graphMinHeight = 500;\r\n  readonly graphMaxWidth = 5000;\r\n  readonly graphMaxHeight = 5000;\r\n  private loadingGraph: boolean;\r\n  cellHasProperties: boolean;\r\n  cellCanBeDeleted: boolean;\r\n  contextMenuActive = false;\r\n  contextMenuPosition: {\r\n    top: number;\r\n    left: number;\r\n  };\r\n\r\n  showConnectionLabels = true;\r\n  stepPropertiesModalTitle: string;\r\n  stepPropertiesModalCustomClasses: string;\r\n\r\n  baseCellsMoved: (\r\n    cells: mxCell[],\r\n    dx: number,\r\n    dy: number,\r\n    disconnect: boolean,\r\n    constrain: boolean,\r\n    extend: boolean\r\n  ) => {};\r\n  baseViewStateChanged: () => {};\r\n\r\n  stepsCost: Array<WorkflowStepPageLicenseCost> = [];\r\n\r\n  lastSelectedStep: Step;\r\n\r\n  constructor(\r\n    public ngxSmartModalService: NgxSmartModalService,\r\n    public translate: TranslateService,\r\n    public hydraApi: HydraApiService,\r\n    private toastr: ToastrService,\r\n    private cdr: ChangeDetectorRef,\r\n    private actionService: ActionService,\r\n    private errorsService: ErrorsService,\r\n    private spinnerState: SpinnerStateService,\r\n    private browserDetector: BrowserDetectorService,\r\n    private modalsUtilitiesService: ModalsUtilitiesService\r\n  ) {\r\n    this.subscriptions = new Subscription();\r\n\r\n    mxUtils.getStyleString = (style) => Object.keys(style).reduce((acc, key) => `${acc}${key}=${style[key]};`, '');\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.subscriptions.add(this.actionService.onActivateAction.subscribe(this.invokeAction));\r\n\r\n    this.zoomInTitle = this.getActionTitle('Scanning.ZoomIn', Action.ZoomIn);\r\n    this.zoomOutTitle = this.getActionTitle('Scanning.ZoomOut', Action.ZoomOut);\r\n\r\n    this.hydraApi.getWorkflowStepsCosts(this.onStepsCostLoaded, this.onStepsCostLoadFailed);\r\n  }\r\n\r\n  onStepsCostLoaded = (workflowStepsCost: Array<WorkflowStepPageLicenseCost>): void => {\r\n    this.stepsCost = workflowStepsCost;\r\n  };\r\n\r\n  onStepsCostLoadFailed = (err: any): void => {\r\n    Log.error('WorkflowEditorComponent.onStepsCostLoadFailed', err);\r\n  };\r\n\r\n  get zoomInDisabled() {\r\n    return this.graph.view.getScale() >= this.max_zoom;\r\n  }\r\n\r\n  get zoomOutDisabled() {\r\n    return this.graph.view.getScale() <= this.min_zoom;\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    this.loadGraph();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    mxVertexHandler.prototype.createSelectionShape = function (bounds) {\r\n      const shape = new mxRectangleShape(bounds, null, this.getSelectionColor());\r\n      shape.isRounded = true;\r\n      const { width, height } = bounds;\r\n      shape.style = {\r\n        // since 15% rounded edges works for square cells\r\n        // multiply by width to height ratio for cells with height < width (start, done)\r\n        arcSize: (width / height) * 15,\r\n      };\r\n      shape.strokewidth = 4;\r\n      shape.isDashed = this.isSelectionDashed();\r\n\r\n      return shape;\r\n    };\r\n\r\n    this.loadGraph();\r\n\r\n    this.stepPropertiesModal = this.ngxSmartModalService.getModal('stepPropertiesModal');\r\n    this.subscriptions.add(\r\n      this.stepPropertiesModal.onClose.subscribe(() => {\r\n        this.hideLoading();\r\n      })\r\n    );\r\n\r\n    $('.context-menu').bind('contextmenu', function (e: Event) {\r\n      e.preventDefault();\r\n    });\r\n  }\r\n\r\n  invokeAction = (event: ActionEvent): void => {\r\n    if (event.action === Action.DeleteSelectedItem || event.action === Action.CtrlDeleteSelectedItem) {\r\n      this.invokeDeleteKeyAction();\r\n    } else if (event.action == Action.ZoomIn) {\r\n      this.zoomIn();\r\n    } else if (event.action == Action.ZoomOut) {\r\n      this.zoomOut();\r\n    }\r\n  };\r\n\r\n  invokeDeleteKeyAction() {\r\n    if (this.modalsUtilitiesService.isAnyModalOpened()) return;\r\n\r\n    const selectedStepsCount = {};\r\n    const errors = [];\r\n\r\n    for (const cell of this.graph.getSelectionCells()) {\r\n      if (!cell.vertex || !(cell.data instanceof Step)) continue;\r\n\r\n      const step = <Step>cell.data;\r\n      selectedStepsCount[step.stepType] = selectedStepsCount[step.stepType] + 1 || 1;\r\n\r\n      if (step.workflowStep.requiredForWorkflow()) {\r\n        if (this.getCellCount(step.stepType) === selectedStepsCount[step.stepType]) {\r\n          errors.push(\r\n            this.translate.instant('admin-workflow.step-cannot-deleted').replace('{stepname}', step.workflowStep.name)\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    if (errors.length) {\r\n      this.errorsService.showErrorsModal(errors, 'Common.ActionFailed');\r\n      return;\r\n    }\r\n\r\n    this.showItemDeleteModal();\r\n  }\r\n\r\n  showItemDeleteModal() {\r\n    this.ngxSmartModalService.setModalData(\r\n      {\r\n        title: 'MainHeader.DeleteConfirmation',\r\n        text: this.translate.instant('admin-workflow.cell-delete-confirm-text'),\r\n        buttonText: this.translate.instant('Common.Delete'),\r\n        confirm: this.confirmedCellDelete,\r\n        cancel: this.cancelCellDelete,\r\n      },\r\n      'actionConfirmModal',\r\n      true\r\n    );\r\n\r\n    this.ngxSmartModalService.getModal('actionConfirmModal').open();\r\n  }\r\n\r\n  confirmedCellDelete = () => {\r\n    this.ngxSmartModalService.getModal('actionConfirmModal').close();\r\n    this.deleteSelectedCell();\r\n  };\r\n\r\n  cancelCellDelete = () => {\r\n    this.ngxSmartModalService.getModal('actionConfirmModal').close();\r\n  };\r\n\r\n  deleteSelectedCell = (): void => {\r\n    for (const cell of this.graph.getSelectionCells()) {\r\n      if (cell.vertex) {\r\n        if (!(cell.data instanceof Step)) {\r\n          continue;\r\n        }\r\n\r\n        const step = <Step>cell.data;\r\n\r\n        this.workflow.workflowSteps = this.workflow.workflowSteps.filter((ws) => ws.id !== step.workflowStep.id);\r\n\r\n        for (const wf of this.workflow.workflowSteps) {\r\n          if (!(wf instanceof InteractiveWorkflowStep)) continue;\r\n\r\n          const iws = wf as InteractiveWorkflowStep;\r\n          if (!iws.formTraining.enabled) continue;\r\n\r\n          if (iws.formTraining.classifyStepId == step.workflowStep.id) {\r\n            iws.formTraining.enabled = false;\r\n          }\r\n        }\r\n      } else if (cell.edge) {\r\n        if (cell.source == null || !(cell.source.value instanceof Outcome)) {\r\n          continue;\r\n        }\r\n\r\n        const outcome = <Outcome>cell.source.value;\r\n        outcome.nextId = '';\r\n      }\r\n    }\r\n\r\n    this.graph.removeCells(this.graph.getSelectionCells(), true);\r\n  };\r\n\r\n  createGraphEditor = (): void => {\r\n    if (this.graph) {\r\n      return;\r\n    }\r\n\r\n    mxGraphView.prototype.optimizeVmlReflows = false;\r\n    mxConnectionHandler.prototype.movePreviewAway = false;\r\n    mxGraphHandler.prototype.htmlPreview = true;\r\n    mxConnectionHandler.prototype.moveIconFront = true;\r\n\r\n    mxEvent.disableContextMenu(this.graphContainer.nativeElement);\r\n\r\n    const model = new mxGraphModel();\r\n    this.graph = new mxGraph(this.graphContainer.nativeElement, model);\r\n    const rubberband = new mxRubberband(this.graph);\r\n\r\n    this.graph.setConnectable(true);\r\n    this.graph.setMultigraph(true);\r\n    this.graph.graphHandler.scrollOnMove = false;\r\n    this.graph.maximumGraphBounds = new mxRectangle(0, 0, this.graphMaxWidth, this.graphMaxHeight);\r\n    this.graph.minimumGraphSize = new mxRectangle(0, 0, this.graphMinWidth, this.graphMinHeight);\r\n    this.graph.keepEdgesInBackground = true;\r\n\r\n    this.graph.dblClick = this.onComponentProperties;\r\n    this.graph.convertValueToString = this.getCellLabel;\r\n    this.graph.click = this.onClick;\r\n    this.baseCellsMoved = this.graph.cellsMoved.bind(this.graph);\r\n    this.graph.cellsMoved = this.onCellsMoved;\r\n    this.graph.addListener(mxEvent.ADD, (cell: mxCell) => {\r\n      const highlight = new mxCellHighlight(this.graph, '#ff0000', 2, false);\r\n      highlight.highlight(this.graph.view.getState(cell));\r\n    });\r\n\r\n    this.baseViewStateChanged = mxGraphView.prototype.viewStateChanged.bind(this.graph.view);\r\n    this.graph.view.viewStateChanged = this.updateTranslate.bind(this);\r\n\r\n    this.graph.setTooltips(false);\r\n    this.handleCustomTooltip();\r\n\r\n    this.graph.getTooltipForCell = this.getTooltipForCell;\r\n\r\n    this.graph.allowLoops = false;\r\n    this.graph.setCellsEditable(false);\r\n    this.graph.setCellsDisconnectable(true);\r\n    this.graph.setHtmlLabels(true);\r\n    this.graph.setConnectable(true);\r\n    this.graph.setAllowDanglingEdges(false);\r\n    this.graph.centerZoom = false;\r\n    this.graph.edgeLabelsMovable = false;\r\n    this.graph.expandedImage = '';\r\n\r\n    this.graph.addListener('cellConnected', this.onConnectCell);\r\n\r\n    this.graph.popupMenuHandler.factoryMethod = (menu, cell, evt) => menu;\r\n  };\r\n\r\n  handleCustomTooltip = (): void => {\r\n    const that = this;\r\n    this.graph.addMouseListener({\r\n      mouseDown: function (sender, event) {},\r\n      mouseMove: function (sender, event) {\r\n        if (!that.graph?.tooltipHandler) return;\r\n        if (!event.sourceState?.cell || event.evt.srcElement.nodeName !== 'ellipse') {\r\n          that.graph.tooltipHandler.hide();\r\n          return;\r\n        }\r\n        const tooltipText = that.getTooltipForCell(event.sourceState.cell);\r\n        if (!tooltipText) return;\r\n        that.graph.tooltipHandler.show(tooltipText, event.evt.clientX, event.evt.clientY);\r\n      },\r\n      mouseUp: function (sender, event) {},\r\n    });\r\n  };\r\n\r\n  getTooltipForCell = (cell: mxCell): string => {\r\n    if (cell.value == null) {\r\n      return '';\r\n    }\r\n\r\n    if (cell.edge) {\r\n      if (cell.source.data instanceof Outcome && cell.target.data instanceof WorkflowStep) {\r\n        const source = this.findWorkflowNameForOutcome(<Outcome>cell.source.data);\r\n        const target =\r\n          cell.target.data instanceof Interactive\r\n            ? (<Interactive>cell.target.value).graphLabel\r\n            : (<WorkflowStep>cell.target.value).name;\r\n\r\n        return `${this.getOutcomeLabel(cell.data)}<br>${source} -> ${target}`;\r\n      }\r\n\r\n      return cell.value;\r\n    } else {\r\n      if (cell.data instanceof Step) {\r\n        return (<Step>cell.data).getCellName(this.translate);\r\n      } else if (typeof cell.data === 'string') {\r\n        return cell.data;\r\n      } else if (cell.data instanceof Outcome) {\r\n        return this.getOutcomeLabel(<Outcome>cell.data);\r\n      } else if (cell.data instanceof WorkflowStep) {\r\n        return (<WorkflowStep>cell.data).name;\r\n      } else if (cell.value instanceof Outcome) {\r\n        return this.getOutcomeLabel(<Outcome>cell.value);\r\n      } else if (cell.value instanceof WorkflowStep) {\r\n        return (<WorkflowStep>cell.value).name;\r\n      }\r\n    }\r\n\r\n    return '';\r\n  };\r\n\r\n  findWorkflowNameForOutcome = (o: Outcome): string => {\r\n    for (const ws of this.workflow.workflowSteps) {\r\n      for (const outcome of ws.outcomes) {\r\n        if (outcome.id === o.id) {\r\n          return ws.name;\r\n        }\r\n      }\r\n    }\r\n\r\n    return '';\r\n  };\r\n\r\n  getCellLabel = (cell: mxCell): string => {\r\n    if (cell.value == null) {\r\n      return '';\r\n    }\r\n\r\n    if (cell.value instanceof Step) {\r\n      return (<Step>cell.value).getCellName(this.translate);\r\n    } else if (typeof cell.value === 'string') {\r\n      return cell.value;\r\n    }\r\n\r\n    return '';\r\n  };\r\n\r\n  zoomIn = (): void => {\r\n    this.graph.zoomIn();\r\n  };\r\n\r\n  zoomOut = (): void => {\r\n    this.graph.zoomOut();\r\n  };\r\n\r\n  onComponentProperties = (evt, cell: mxCell): void => {\r\n    if (!cell || !cell.data || !(cell.data instanceof Step)) return;\r\n\r\n    const step: Step = cell.data;\r\n    if (!step.workflowStep.supportsUIProperties()) return;\r\n\r\n    this.ngxSmartModalService.resetModalData('stepPropertiesModal');\r\n\r\n    this.stepPropertiesModal.open();\r\n    this.cdr.detectChanges();\r\n\r\n    this.ngxSmartModalService.setModalData(\r\n      {\r\n        cell: cell,\r\n        step: step.clone(),\r\n        workflow: this.workflow.clone(),\r\n        workflowId: this.workflow.id,\r\n        cost: this.getStepCost(step.stepType),\r\n      },\r\n      'stepPropertiesModal',\r\n      true\r\n    );\r\n\r\n    this.stepPropertiesModalTitle = `${(\r\n      this.stepPropertiesModal.getData() as any\r\n    ).step.getCellName()}  ${this.translate.instant('admin-workflow.properties-for')}`;\r\n\r\n    this.stepPropertiesModalCustomClasses = `modal-content workflow-step-properties-modal ${step.stepType.toLocaleLowerCase()}-properties`;\r\n  };\r\n\r\n  private getStepCost = (stepType: string): string => {\r\n    const cost = this.stepsCost.find((x) => x.workflowStepClassName.toLocaleLowerCase() == stepType);\r\n    if (!cost) return;\r\n\r\n    if (cost.baseCostValue === 0) return; \r\n\r\n    if (cost.baseCostType == WorkflowStepCostType.Constant) return cost.baseCostValue.toString();\r\n\r\n    return ` ${this.translate.instant('admin-workflow-step-cost.additional')} ${\r\n      cost.baseCostValue\r\n    } ${this.translate.instant('admin-workflow-step-cost.page-count')}`;\r\n  };\r\n\r\n  onClick = (e: mxMouseEvent) => {\r\n    if (document && document.activeElement && (document.activeElement as any).blur) {\r\n      (document.activeElement as any).blur();\r\n    }\r\n\r\n    if (e.evt.which === MouseClick.Right) {\r\n      this.onHandleRightClick(e);\r\n    }\r\n  };\r\n\r\n  onCellsMoved = (cells: mxCell[], dx, dy, disconnect, constrain, extend) => {\r\n    this.baseCellsMoved(cells, dx, dy, disconnect, constrain, extend);\r\n\r\n    const cell = cells[0];\r\n    const designerPropeties = cell.data.workflowStep.designerProperties;\r\n    designerPropeties.x = cell.geometry.x;\r\n    designerPropeties.y = cell.geometry.y;\r\n\r\n    cell.children.forEach((child) => {\r\n      if (!child.edges) return;\r\n\r\n      child.edges.forEach((edge: mxCell) => {\r\n        if (edge.source === child) {\r\n          child.removeEdge(edge, false);\r\n        } else {\r\n          child.removeEdge(edge, true);\r\n        }\r\n      });\r\n    });\r\n\r\n    this.workflow.workflowSteps.forEach(this.connectVertexStep.bind(this));\r\n  };\r\n\r\n  onHandleRightClick = (e: mxMouseEvent) => {\r\n    this.contextMenuActive = false;\r\n    const cell = e.getCell();\r\n    if (!cell || (cell.vertex && !cell.data)) {\r\n      return;\r\n    }\r\n\r\n    this.cellCanBeDeleted = true;\r\n    this.cellHasProperties = true;\r\n    if (!(cell.data instanceof Step)) {\r\n      this.cellHasProperties = false;\r\n    } else {\r\n      const step = <Step>cell.data;\r\n      if (!step.workflowStep.supportsUIProperties()) {\r\n        this.cellHasProperties = false;\r\n      }\r\n\r\n      if (step.workflowStep.requiredForWorkflow()) {\r\n        if (this.getCellCount(step.stepType) < 2) {\r\n          this.cellCanBeDeleted = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cellCanBeDeleted || this.cellHasProperties) {\r\n      const graphWrapperElement = this.graphWrapper.nativeElement as HTMLElement;\r\n      const elementRect = graphWrapperElement.getBoundingClientRect();\r\n      this.contextMenuPosition = {\r\n        top: e.evt.pageY + graphWrapperElement.scrollTop - elementRect.top,\r\n        left: e.evt.pageX + graphWrapperElement.scrollLeft - elementRect.left,\r\n      };\r\n      this.contextMenuActive = true;\r\n    }\r\n  };\r\n\r\n  @HostListener('document:click')\r\n  disableContextMenu() {\r\n    this.contextMenuActive = false;\r\n  }\r\n\r\n  getCellCount(type: string): number {\r\n    const cells = this.graph.getChildCells(this.graph.getDefaultParent(), true, true);\r\n    let stepCount = 0;\r\n\r\n    for (let i = 0; i < cells.length; i++) {\r\n      if (cells[i].data instanceof Step) {\r\n        const step = <Step>cells[i].data;\r\n        if (step.stepType === type) {\r\n          stepCount++;\r\n        }\r\n      }\r\n    }\r\n\r\n    return stepCount;\r\n  }\r\n\r\n  openPropertiesModal() {\r\n    this.onComponentProperties(null, this.graph.getSelectionCell());\r\n  }\r\n\r\n  cancelProperties = (): void => {\r\n    this.stepPropertiesModal.close();\r\n    this.hideLoading();\r\n  };\r\n\r\n  saveProperties = (): void => {\r\n    this._onSave.next();\r\n    this.stepPropertiesModal.close();\r\n\r\n    const data = this.ngxSmartModalService.getModalData('stepPropertiesModal') as any;\r\n    if (!data) {\r\n      return;\r\n    }\r\n\r\n    const cell = <mxCell>data.cell;\r\n    if (!cell) {\r\n      return;\r\n    }\r\n\r\n    const step = <Step>data.step;\r\n    if (!step) {\r\n      return;\r\n    }\r\n\r\n    this.workflow.workflowSteps = this.workflow.workflowSteps.map((ws) =>\r\n      ws.id === step.workflowStep.id ? step.workflowStep : ws\r\n    );\r\n\r\n    this.workflow.scanSettings = data.workflow.scanSettings;\r\n    this.workflow.prompts = data.workflow.prompts;\r\n\r\n    this.loadGraph();\r\n  };\r\n\r\n  onConnectCell = (graph, event): void => {\r\n    if (this.loadingGraph) {\r\n      return;\r\n    }\r\n\r\n    const edge: mxCell = event.properties.edge;\r\n    if (!edge.edge) {\r\n      return;\r\n    }\r\n\r\n    if (edge.source == null || edge.target == null) {\r\n      return;\r\n    }\r\n\r\n    if (!(edge.source.value instanceof Outcome) || !(edge.target.value instanceof WorkflowStep)) {\r\n      this.graph.removeCells([edge], true);\r\n      this.toastr.error(this.translate.instant('admin-workflow.invalid-connection'));\r\n      return;\r\n    }\r\n\r\n    const sourceOutcome = <Outcome>edge.source.value;\r\n    const targetWorkflowStep = <WorkflowStep>edge.target.value;\r\n\r\n    sourceOutcome.nextId = targetWorkflowStep.id;\r\n\r\n    edge.value = this.getOutcomeHtmlLabel(sourceOutcome);\r\n    edge.data = sourceOutcome;\r\n\r\n    if (edge.source.edges.length === 1) {\r\n      return;\r\n    }\r\n\r\n    const edgesToDeleted = [];\r\n    for (let i = 0; i < edge.source.edges.length - 1; i++) {\r\n      edgesToDeleted.push(edge.source.edges[i]);\r\n    }\r\n    this.graph.removeCells(edgesToDeleted, true);\r\n  };\r\n\r\n  loadGraph = (): void => {\r\n    this.createGraphEditor();\r\n\r\n    const graph = this.graph;\r\n\r\n    graph.removeCells(graph.getChildVertices(graph.getDefaultParent()), true);\r\n\r\n    const styleSheet = graph.getStylesheet();\r\n    const style = styleSheet.getDefaultEdgeStyle();\r\n    style.strokeWidth = 3;\r\n    style.edgeStyle = 'elbowEdgeStyle';\r\n    style.elbow = 'vertical';\r\n    style.orthogonal = '1';\r\n\r\n    graph.connectionHandler.createEdgeState = function (me) {\r\n      // style needs to be a string...\r\n      var edge = graph.createEdge(null, null, null, null, null, mxUtils.getStyleString(style));\r\n\r\n      return new mxCellState(this.graph.view, edge, this.graph.getCellStyle(edge));\r\n    };\r\n\r\n    graph.getModel().beginUpdate();\r\n\r\n    try {\r\n      this.loadingGraph = true;\r\n\r\n      this.vertexMap = {};\r\n      this.portMap = {};\r\n\r\n      this.buildGraphFromSteps(this.workflow.workflowSteps);\r\n\r\n      const { translateX, translateY } = this.workflow.designerProperties;\r\n      this.graph.view.setTranslate(translateX, translateY);\r\n    } finally {\r\n      graph.getModel().endUpdate();\r\n      this.loadingGraph = false;\r\n    }\r\n  };\r\n\r\n  buildGraphFromSteps = (steps: IWorkflowStep[]): void => {\r\n    steps.forEach((step) => {\r\n      const vertex = this.createVertexForStep(step);\r\n      this.addWorkflowStepVertex(vertex, step);\r\n    });\r\n    steps.forEach(this.connectVertexStep.bind(this));\r\n  };\r\n\r\n  createVertexForStep = (ws: IWorkflowStep): mxCell => {\r\n    const label = this.createCellLabel(ws);\r\n    const { x, y } = ws.designerProperties;\r\n    let cellGeometry = new mxGeometry(x, y, 100, 100);\r\n    let cellStyle = 'resizable=0';\r\n    if (\r\n      ws instanceof StartWorkflowStep ||\r\n      ws instanceof CompletedWorkflowStep ||\r\n      ws instanceof CompletedFailedWorkflowStep\r\n    ) {\r\n      cellGeometry = new mxGeometry(x, y, 150, 40);\r\n      cellStyle += ';strokeOpacity=0;fillOpacity=0';\r\n    }\r\n    return new mxCell(label, cellGeometry, cellStyle);\r\n  };\r\n\r\n  addWorkflowStepVertex = (vertex: mxCell, ws: IWorkflowStep): void => {\r\n    const graph = this.graph;\r\n\r\n    const step = Step.getStepFor(ws.stepType);\r\n    if (step) step.workflowStep = ws; //todo: this indicates a real problem....\r\n\r\n    vertex.setVertex(true);\r\n    vertex.setConnectable(false);\r\n    vertex.data = step;\r\n    const designerProperties = step.workflowStep.designerProperties;\r\n    designerProperties.x = vertex.geometry.x;\r\n    designerProperties.y = vertex.geometry.y;\r\n\r\n    graph.addCell(vertex);\r\n\r\n    graph.setCellStyles('strokeColor', '#D3D3D3', [vertex]);\r\n    graph.setCellStyles('fillColor', '#EAEAEA', [vertex]);\r\n    graph.setCellStyles('strokeWidth', '3', [vertex]);\r\n    graph.setCellStyles('fontColor', 'white', [vertex]);\r\n    graph.setCellStyles('shape', 'rectangle', [vertex]);\r\n    graph.setCellStyles('whiteSpace', 'wrap', [vertex]);\r\n    graph.setCellStyles('rounded', '1', [vertex]);\r\n\r\n    this.vertexMap[ws.id] = vertex;\r\n\r\n    if (ws instanceof StartWorkflowStep) {\r\n      return null;\r\n    }\r\n\r\n    const port = (this.portMap[ws.id] = graph.insertVertex(vertex, 'input', ws, 0.5, 0.0, 8, 8, 'port', true));\r\n    port.data = ws;\r\n\r\n    port.connectable = true;\r\n    port.geometry.offset = new mxPoint(-4, -8);\r\n\r\n    graph.setCellStyles('shape', 'ellipse', [port]);\r\n    graph.setCellStyles('strokeColor', '#0099cc', [port]);\r\n    graph.setCellStyles('fillColor', '#0099cc', [port]);\r\n\r\n    if (ws instanceof CompletedWorkflowStep || ws instanceof CompletedFailedWorkflowStep) this.done = port;\r\n  };\r\n\r\n  getOutcomeHtmlLabel = (outcome: Outcome): string => {\r\n    if (!this.showConnectionLabels) return '';\r\n\r\n    return `<div class=\"edge-label\">${this.getOutcomeLabel(outcome)}</div>`;\r\n  };\r\n\r\n  getOutcomeLabel = (outcome: Outcome): string => {\r\n    const localization = `outcome-labels.${outcome.graphLabel().toLowerCase()}`;\r\n\r\n    const localized = this.translate.instant(localization);\r\n    if (localized !== localization) {\r\n      return localized;\r\n    }\r\n\r\n    return outcome.graphLabel();\r\n  };\r\n\r\n  connectVertexStep = (step: IWorkflowStep): void => {\r\n    const graph = this.graph;\r\n    const start = this.vertexMap[step.id];\r\n\r\n    const offset = 1.0 / (step.outcomes.length + 1);\r\n    let index = 1;\r\n\r\n    for (const outcome of step.outcomes) {\r\n      if (!outcome.enabled) {\r\n        continue;\r\n      }\r\n\r\n      const x = offset * index;\r\n      const port = graph.insertVertex(start, this.getOutcomeLabel(outcome), outcome, x, 1.0, 8, 8, 'port;', true);\r\n      port.data = outcome;\r\n\r\n      if (step instanceof StartWorkflowStep) {\r\n        port.geometry.offset = new mxPoint(-4, -2);\r\n      } else {\r\n        port.geometry.offset = new mxPoint(-4, 0);\r\n      }\r\n\r\n      graph.setCellStyles('shape', 'ellipse', [port]);\r\n\r\n      let edge = null;\r\n      if (this.portMap[outcome.nextId]) {\r\n        edge = graph.insertEdge(\r\n          graph.getDefaultParent(),\r\n          '',\r\n          this.getOutcomeHtmlLabel(outcome),\r\n          port,\r\n          this.portMap[outcome.nextId]\r\n        );\r\n        edge.data = outcome;\r\n      }\r\n\r\n      let color = '#003399';\r\n      if (outcome instanceof Failed) {\r\n        color = '#ff8080';\r\n      } else if (outcome instanceof Succeeded) {\r\n        color = '#339933';\r\n      } else {\r\n        const colors = ['#003cb3', '#004de6', '#1a66ff', '#4d88ff', '#80aaff', '#ccddff'];\r\n        color = colors[index - 1];\r\n      }\r\n\r\n      if (color) {\r\n        if (edge) {\r\n          graph.setCellStyles('strokeColor', '#8e8c8d', [edge]);\r\n          graph.setCellStyles('bendable', '0', [edge]);\r\n        }\r\n\r\n        graph.setCellStyles('strokeColor', color, [port]);\r\n        graph.setCellStyles('fillColor', color, [port]);\r\n      }\r\n\r\n      index++;\r\n    }\r\n  };\r\n\r\n  createCellLabel = (ws: IWorkflowStep): string => {\r\n    const isStart = ws instanceof StartWorkflowStep;\r\n    const isComplete = ws instanceof CompletedWorkflowStep;\r\n    const isFailed = ws instanceof CompletedFailedWorkflowStep;\r\n\r\n    let bgClass = '';\r\n    let containerClass = isStart || isComplete || isFailed ? 'terminal-cell-label' : 'cell-label';\r\n\r\n    let isIE = this.browserDetector.isIE();\r\n    if (isIE && isIE <= 11) {\r\n      containerClass += isStart || isComplete || isFailed ? ' label-ie' : '';\r\n    }\r\n\r\n    if (isStart) {\r\n      bgClass = 'start-step';\r\n    } else if (isComplete) {\r\n      bgClass = 'completed-success-step';\r\n    } else if (isFailed) {\r\n      bgClass = 'completed-failed-step';\r\n    }\r\n\r\n    return (\r\n      `<div class=\"${containerClass}\" id=\"workflow-step-${ws.name}\">` +\r\n      '<div class=\"icon-container\">' +\r\n      `<img src=\"assets/img/workflow-editor/${ws.stepType}.svg\" />` +\r\n      '</div>' +\r\n      `<div class=\"title ${bgClass}\">${ws.name}</div>` +\r\n      '</div>'\r\n    );\r\n  };\r\n\r\n  updateTranslate() {\r\n    this.baseViewStateChanged();\r\n\r\n    if (!this.workflow) {\r\n      return;\r\n    }\r\n\r\n    const { x, y } = this.graph.view.getTranslate();\r\n    this.workflow.designerProperties.translateX = x;\r\n    this.workflow.designerProperties.translateY = y;\r\n  }\r\n\r\n  showLoading(key: string) {\r\n    this.isLoading = true;\r\n    this.spinnerState.show(this.translate.instant(key), this.modalBody.nativeElement);\r\n  }\r\n\r\n  hideLoading() {\r\n    this.spinnerState.hide();\r\n    this.isLoading = false;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.unsubscribe();\r\n    this.hideLoading();\r\n  }\r\n\r\n  getActionTitle(translateResource: string, action: Action): string {\r\n    const title = this.translate.instant(translateResource);\r\n    const keyboardTooltip = KeyboardActionMapping.getTooltipFor(action, this.translate);\r\n\r\n    return `${title}${keyboardTooltip}`;\r\n  }\r\n\r\n  toggleConnectionLabels() {\r\n    this.showConnectionLabels = !this.showConnectionLabels;\r\n    this.loadGraph();\r\n  }\r\n}\r\n","<div class=\"d-flex flex-column h-100\">\r\n  <div class=\"viewer-controls\">\r\n    <button class=\"button-icon\" (click)=\"zoomIn()\" [title]=\"zoomInTitle\" [disabled]=\"zoomInDisabled\">\r\n      <img src=\"assets/icons/icnZoomIn.svg\" alt=\"\" />\r\n    </button>\r\n    <button class=\"button-icon\" (click)=\"zoomOut()\" [title]=\"zoomOutTitle\" [disabled]=\"zoomOutDisabled\">\r\n      <img src=\"assets/icons/icnZoomOut.svg\" alt=\"\" />\r\n    </button>\r\n    <button\r\n      class=\"button-icon\"\r\n      (click)=\"toggleConnectionLabels()\"\r\n      [title]=\"'admin-workflow.toggle-connection-labels' | translate\"\r\n    >\r\n      <i class=\"fas fa-project-diagram light-icon\"></i>\r\n    </button>\r\n  </div>\r\n  <div class=\"graph-wrapper\" #graphWrapper [perfectScrollbar]=\"{}\">\r\n    <div id=\"graph\" class=\"base\" #graphContainer tabindex=\"0\"></div>\r\n    <div\r\n      class=\"context-menu\"\r\n      *ngIf=\"contextMenuActive\"\r\n      [style.top.px]=\"contextMenuPosition.top\"\r\n      [style.left.px]=\"contextMenuPosition.left\"\r\n    >\r\n      <a *ngIf=\"cellHasProperties\" (click)=\"openPropertiesModal()\">\r\n        {{ 'admin-workflow.step-properties' | translate }}\r\n      </a>\r\n      <a *ngIf=\"cellCanBeDeleted\" (click)=\"invokeDeleteKeyAction()\">{{ 'admin-workflow.step-delete' | translate }}</a>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ngx-smart-modal\r\n  #stepPropertiesModal\r\n  [closable]=\"false\"\r\n  [escapable]=\"true\"\r\n  [dismissable]=\"false\"\r\n  customClass=\"{{ stepPropertiesModalCustomClasses }}\"\r\n  identifier=\"stepPropertiesModal\"\r\n  id=\"stepPropertiesModal\"\r\n>\r\n  <app-modal-header\r\n    *ngIf=\"stepPropertiesModal.hasData()\"\r\n    [title]=\"stepPropertiesModalTitle\"\r\n    [closeIconHandler]=\"cancelProperties\"\r\n  ></app-modal-header>\r\n\r\n  <div\r\n    class=\"modal-body properties-modal-body pr-2\"\r\n    #modalBody\r\n    fxFlex=\"auto\"\r\n    [perfectScrollbar]=\"{ suppressScrollX: true }\"\r\n    #scrollbar=\"ngxPerfectScrollbar\"\r\n    [autoUpdatePerfectScroll]=\"scrollbar\"\r\n  >\r\n    <div *ngIf=\"stepPropertiesModal.hasData()\" class=\"h-100\">\r\n      <div [ngSwitch]=\"$any(stepPropertiesModal.getData()).step.stepType\" class=\"h-100\">\r\n        <app-step-bursting\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'bursting'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-bursting>\r\n\r\n        <app-step-ocr class=\"d-block h-100\" *ngSwitchCase=\"'ocr'\" [step]=\"$any(stepPropertiesModal.getData()).step\">\r\n        </app-step-ocr>\r\n\r\n        <app-step-interactive\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'interactivestep'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n          [workflow]=\"workflow\"\r\n        ></app-step-interactive>\r\n\r\n        <app-step-forms\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'forms'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        >\r\n        </app-step-forms>\r\n\r\n        <app-step-forms-ai *ngSwitchCase=\"'formsai'\" [step]=\"$any(stepPropertiesModal.getData()).step\">\r\n        </app-step-forms-ai>\r\n\r\n        <app-step-delivery-filebound\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'delivertofilebound'\"\r\n          [deliverToFileBound]=\"$any(stepPropertiesModal.getData()).step.workflowStep\"\r\n          [workflowId]=\"workflow.id\"\r\n        ></app-step-delivery-filebound>\r\n\r\n        <app-step-start\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'start'\"\r\n          [workflow]=\"$any(stepPropertiesModal.getData()).workflow\"\r\n        ></app-step-start>\r\n\r\n        <app-step-imageprocessing\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'imageprocessing'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-imageprocessing>\r\n\r\n        <app-step-decision-point\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'decisionpoint'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-decision-point>\r\n\r\n        <app-step-move-to-workflow\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'movetoworkflow'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n          [workflowId]=\"$any(stepPropertiesModal.getData()).workflowId\"\r\n          (elementLoading)=\"showLoading($event)\"\r\n          (finishedLoading)=\"hideLoading()\"\r\n        ></app-step-move-to-workflow>\r\n\r\n        <app-step-deliver-to-email\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'delivertoemail'\"\r\n          [deliverToEmail]=\"$any(stepPropertiesModal.getData()).step.workflowStep\"\r\n          [workflowId]=\"workflow.id\"\r\n        ></app-step-deliver-to-email>\r\n\r\n        <app-step-delivery-to-netdocs\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'delivertonetdocs'\"\r\n          [deliverToNetDocs]=\"$any(stepPropertiesModal.getData()).step.workflowStep\"\r\n          [workflowId]=\"workflow.id\"\r\n        ></app-step-delivery-to-netdocs>\r\n\r\n        <app-step-deliver-to-sharepoint365\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'delivertosharepoint365'\"\r\n          [deliverToSharePoint365]=\"$any(stepPropertiesModal.getData()).step.workflowStep\"\r\n          [workflowId]=\"workflow.id\"\r\n          (startLoading)=\"showLoading($event)\"\r\n          (finishedLoading)=\"hideLoading()\"\r\n        ></app-step-deliver-to-sharepoint365>\r\n\r\n        <app-step-deliver-to-interfax\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'delivertointerfax'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n          [modalElement]=\"stepPropertiesModalElement\"\r\n        >\r\n        </app-step-deliver-to-interfax>\r\n\r\n        <app-step-export-to-api\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'exporttoapi'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-export-to-api>\r\n\r\n        <app-step-barcode-data-mapping\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'barcodedatamapping'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-barcode-data-mapping>\r\n\r\n        <app-step-deliver-to-s3\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'delivertoawss3'\"\r\n          [deliverToS3]=\"$any(stepPropertiesModal.getData()).step.workflowStep\"\r\n          [workflowId]=\"workflow.id\"\r\n        >\r\n        </app-step-deliver-to-s3>\r\n\r\n        <app-step-deliver-to-ftp\r\n          class=\"container-fluid\"\r\n          *ngSwitchCase=\"'delivertoftp'\"\r\n          [deliverToFtpStep]=\"$any(stepPropertiesModal.getData()).step.workflowStep\"\r\n          [workflowId]=\"workflow.id\"\r\n        ></app-step-deliver-to-ftp>\r\n\r\n        <app-step-set-data-fields\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'setdatafields'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n          [onSave]=\"onSave\"\r\n        ></app-step-set-data-fields>\r\n\r\n        <app-step-export-to-webservice\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'exporttowebservice'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-export-to-webservice>\r\n\r\n        <app-step-barcode-cover-page\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'barcodecoverpage'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-barcode-cover-page>\r\n\r\n        <app-step-detect-signature\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'detectsignature'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-detect-signature>\r\n\r\n        <app-step-invoice-extraction\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'invoiceextraction'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n          [useInvoiceFields]=\"true\"\r\n        ></app-step-invoice-extraction>\r\n\r\n        <app-step-invoice-extraction\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'dataextraction'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n          [useInvoiceFields]=\"false\"\r\n        ></app-step-invoice-extraction>\r\n\r\n        <app-step-invoice-extraction\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'extractionpro'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n          [useInvoiceFields]=\"false\"\r\n          [useExpressions]=\"true\"\t\t  \r\n        ></app-step-invoice-extraction>\r\n\t\t\r\n        <app-step-detect-pii\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'detectpii'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-detect-pii>\r\n\r\n        <app-step-simple-classifier\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'simpleclassifier'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n          [onSave]=\"onSave\"\r\n        ></app-step-simple-classifier>\r\n\r\n        <app-step-translate-document\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'translatedocument'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        >\r\n        </app-step-translate-document>\r\n\r\n        <app-step-add-template\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'addtemplate'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        >\r\n        </app-step-add-template>\r\n\r\n        <app-step-summarization\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'summarization'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-summarization>\r\n\r\n        <app-step-keyword-extraction\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'keywordextraction'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-keyword-extraction>\r\n\r\n        <app-step-classifier\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'classifier'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-classifier>\r\n\r\n        <app-step-rename-document\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'renamedocument'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n          [onSave]=\"onSave\"\r\n        ></app-step-rename-document>\r\n\r\n        <app-step-ocrplus\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'ocrplus'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-ocrplus>\r\n\r\n        <app-step-document-stamp\r\n          class=\"container-fluid d-flex h-100\"\r\n          *ngSwitchCase=\"'documentstamp'\"\r\n          [step]=\"$any(stepPropertiesModal.getData()).step\"\r\n        ></app-step-document-stamp>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"modal-footer properties-modal-footer\">\r\n    <div *ngIf=\"$any(stepPropertiesModal.getData())?.cost\" class=\"col-12 text-left mt-1 mb-2\">\r\n      {{ 'admin-workflow-step-cost.note' | translate }}\r\n      <span class=\"cost-note-value\">{{ $any(stepPropertiesModal.getData())?.cost }}</span>\r\n    </div>\r\n    <button class=\"btn btn-light btn-minwidth\" data-dismiss=\"modal\" (click)=\"cancelProperties()\" id=\"btn-modal-cancel\">\r\n      {{ 'admin-workflow.cancel' | translate }}\r\n    </button>\r\n    <button class=\"btn btn-primary btn-minwidth\" (click)=\"saveProperties()\" id=\"btn-modal-save\" [disabled]=\"isLoading\">\r\n      {{ 'admin-workflow.save' | translate }}\r\n    </button>\r\n  </div>\r\n</ngx-smart-modal>\r\n"],"names":["CommonModule","TranslateModule","CheckboxModule","FieldsModule","LabelModule","AutoFocusFirstInputModule","ErrorsModule","FormattersComponent","FormatterComponent","CaseComponent","PrefixAndSuffixComponent","TextCriteriaComponent","LengthComponent","ReplaceComponent","RemoveComponent","InsertComponent","DragDropModule","PerfectScrollbarModule","NgxSmartModalModule","FormattersModule","declarations","imports","exports","EmailDestination","constructor","emailAddress","name","type","EmailDestinationType","InvoiceExtractionField","initializer","mappingMatches","matchText","matchFound","autoMapTags","find","t","replace","toLowerCase","includes","value","InvoiceExtractionFields","translations","fields","keys","Object","forEach","key","mapping","push","getAutoMapTags","tags","k","NgxSmartModalService","ModalsUtilitiesService","ngxSmartModalService","isAnyModalOpened","openedModals","getOpenedModals","length","onlyHiddenScanToModal","id","document","querySelector","i0","inject","i1","factory","fac","providedIn","HttpClient","HttpParams","Subject","SharePointService","http","_sharePointFolderSelected","onSelectFolder","asObservable","_expandAndSelect","onExpandAndSelect","_showWarningMessage","onShowWarningMessage","_showSpinner","onShowSpinner","selectedFolder","folder","next","expandAndSelect","selectionInfo","showWarningMessage","message","showSpinner","show","getDocumentLibraryFields","sharePoint365Step","documentLibraryId","successCallBack","failureCallBack","params","createSharePointParms","get","subscribe","result","getSiteDocumentLibraries","getFolderChildren","folderId","append","siteUrl","sharePointUsername","sharePointPassword","RouterModule","AdminWorkflowComponent","routes","path","component","data","pathMatch","AdminWorkflowRoutingModule","forChild","ElementRef","ActivatedRoute","Router","TranslateService","Control","UserStateService","PerfectScrollbarDirective","ToastrService","Subscription","combineLatest","Feature","FieldDefinition","MetaDataType","WorfklowDesignerProperties","Workflow","Deliver","ErrorsService","HydraApiService","SpinnerStateService","Step","StepCategory","WorkflowEditorComponent","elementStart","twoWayListener","AdminWorkflowComponent_div_15_Template_app_checkbox_valueChange_2_listener","$event","restoreView","_r2","ctx_r2","nextContext","twoWayBindingSet","workflow","allowRoutingSheetGeneration","resetView","elementEnd","advance","twoWayProperty","translate","router","hydraApi","route","toastr","errorsService","spinner","userState","formControls","workflowSteps","toolbars","subscriptions","workflowStepsLoadFailed","workflowStepsLoaded","steps","buildToolbar","ws","step","getStepFor","stepType","workflowStep","addToToolbar","icon","toolbar","Export","Process","img","addToolbarItem","graph","enabled","image","that","onItemDrop","evt","cell","x","y","stopEditing","clone","generateId","vertex","workflowEditor","createVertexForStep","geometry","addWorkflowStepVertex","connectVertexStep","setSelectionCell","iconContainer","createElement","className","title","instant","getCellName","initialClassName","iconImage","src","width","height","appendChild","iconTitle","innerText","addMode","pt","getPointForEvent","mxEvent","addListener","consume","mxUtils","makeDraggable","onSave","updateWorkflow","workflowSaved","workflowSaveFailed","createWorkflow","showSavingSpinner","normalizeGraphY","minY","map","designerProperties","reduce","min","Number","POSITIVE_INFINITY","success","object","tenantId","scanSettings","description","dateCreatedUTC","dateModifiedUTC","rolesAllowedToSubmitFrom","prompts","workflowFullySaved","showErrorsModal","errors","hide","returnToGrid","err","error","onCancel","navigateByUrl","workflowLoaded","w","isDuplicate","routeData","workflowLoadFailed","loadWorkflow","getWorkflow","routeParams","workflowid","getWorkflowTemplate","workflowtemplate","createFields","fieldName","Text","label","placeholder","required","fieldDescription","LargeText","mxToolbar","prototype","element","selectFunc","bind","selectMode","noReset","defaultMode","defaultFunction","container","ngOnInit","workflowRoutingSheetsEnabled","hasFeature","WorkflowStepRoutingSheet","Date","translateX","translateY","createButtons","add","ngAfterViewInit","processToolbarContainer","nativeElement","exportToolbarContainer","values","getWorkflowSteps","saveButton","cancelButton","ngOnDestroy","unsubscribe","directiveInject","i2","i3","i4","i5","i6","i7","selectors","viewQuery","AdminWorkflowComponent_Query","rf","ctx","element","AdminWorkflowComponent_Template_app_field_valueChange_11_listener","_r1","AdminWorkflowComponent_Template_app_field_valueChange_14_listener","template","AdminWorkflowComponent_div_15_Template","AdminWorkflowComponent_Template_app_role_selector_rolesChange_18_listener","property","pipeBind1","pureFunction0","_c2","FormsModule","NgxFileDropModule","IconsModule","ModalHeaderModule","RadioButtonsGroupModule","TabBarModule","ComponentsModule","DirectivesModule","PageModule","ExportMetaDataCsvComponent","ExportMetaDataXmlComponent","ExportMetaDataComponent","StepMetaDataMappingComponent","PromptsComponent","RoleSelectorComponent","ScanSettingsComponent","StepAddTemplateComponent","StepBarcodeCoverPageComponent","BarcodeMappingsComponent","StepBarcodeDataMappingComponent","StepBurstingComponent","StepClassifierComponent","StepDecisionPointComponent","StepDeliverToEmailGeneralComponent","StepDeliverToEmailComponent","StepDeliverToFtpGeneralComponent","StepDeliverToFtpComponent","StepDeliverToInterFAXComponent","StepDeliverToNetDocsCodeComponent","StepDeliverToS3GeneralComponent","StepDeliverToS3Component","SharePointFolderComponent","StepDeliverToSharepoint365GeneralComponent","StepDeliverToSharepoint365Component","StepDeliveryFileboundGeneralComponent","StepDeliveryFileboundComponent","StepDeliveryToNetdocsGeneralComponent","StepDeliveryToNetdocsComponent","StepDetectPiiComponent","StepDetectSignatureComponent","StepDocumentStampComponent","StepExportToAPIComponent","StepExportToWebServiceComponent","StepFormsAiComponent","StepFormsComponent","StepImageprocessingComponent","StepInteractiveAdvancedComponent","StepInteractiveCapabilitiesComponent","StepInteractiveGroupingsComponent","StepInteractiveIndexingComponent","StepInteractiveOutcomesComponent","StepInteractiveRolesComponent","StepInteractiveThresholdsComponent","StepInteractiveTrainingComponent","StepInteractiveComponent","StepInvoiceExtractionComponent","StepKeywordExtractionComponent","StepMoveToWorkflowComponent","StepOcrComponent","StepOcrPlusComponent","StepRenameDocumentComponent","StepSetDataFieldsComponent","ClassificationComponent","ContentCriteriaComponent","TextContentCriteriaOptionsComponent","StepSimpleClassifierComponent","StepStartComponent","StepSummarizationComponent","StepTranslateDocumentComponent","AdminWorkflowModule","ExportMetaDataCSV","fieldDelimiter","inputs","exportMetaDataCSV","decls","vars","consts","template","ExportMetaDataCsvComponent_Template","ExportMetaDataCsvComponent_Template_app_field_valueChange_2_listener","delimiter","ExportMetaDataCsvComponent_Template_app_checkbox_valueChange_4_listener","includeHeaderRow","ExportMetaDataXML","Filename","listener","ExportMetaDataXmlComponent_div_5_Template_button_click_5_listener","xltImportInput_r2","reference","click","text","ExportMetaDataXmlComponent_div_5_Template_input_change_8_listener","onXltFileSelected","xltFilename","textInterpolate1","exportMetaDataXML","event","target","files","file","extensionIsOneOf","reader","FileReader","onload","e","xltContent","toString","readAsText","ExportMetaDataXmlComponent_Template","ExportMetaDataXmlComponent_Template_app_checkbox_valueChange_3_listener","applyXLT","ExportMetaDataXmlComponent_div_5_Template","EventEmitter","EnumDataSource","MetadataWithDocumentNameDatasource","ExportMetaData","ExportMetaDataEncoding","ExportMetaDataType","ctx_r1","ExportMetaDataComponent_div_3_Template_app_dual_picklist_currentChange_3_listener","currentDataFieldsChanged","ExportMetaDataComponent_div_3_Template_app_field_valueChange_6_listener","exportMetaData","filename","ExportMetaDataComponent_div_3_Template_app_field_valueChange_9_listener","encodingType","ExportMetaDataComponent_div_3_Template_app_field_fieldChanged_9_listener","onEncodingTypeChanged","ExportMetaDataComponent_div_3_Template_app_checkbox_valueChange_11_listener","includeBOM","ExportMetaDataComponent_div_3_Template_app_field_valueChange_14_listener","exportType","ExportMetaDataComponent_div_3_Template_app_field_fieldChanged_14_listener","onExportTypeChanged","ExportMetaDataComponent_div_3_app_export_metadata_csv_15_Template","ExportMetaDataComponent_div_3_app_export_metadata_xml_16_Template","availableDataFields","currentDataFields","fieldFilename","fieldEncoding","EncodingType","ASCII","fieldType","ExportType","CSV","XML","val","metaDataTypeChanged","dataFields","filterAllowedMetaData","mdd","allowedForWorkflow","workflowId","CascadingOptions","LineItems","items","metaDataFields","item","setupMetaData","substitutable","datasource","List","create","emit","dataFieldsChanged","user","metaData","filter","some","outputs","ExportMetaDataComponent_Template","ExportMetaDataComponent_Template_app_checkbox_valueChange_2_listener","ExportMetaDataComponent_div_3_Template","SimpleChanges","FileBoundFields","FixedDataSource","MetaDataCollection","MetadataIntellisenseDatasource","MetaDataValidity","MetaDataValueType","Tab","documentField_r1","displayName","StepMetaDataMappingComponent_div_4_tr_9_td_2_Template_app_field_blur_1_listener","$implicit","onDocumentFieldChanged","documentFieldDefinitions","fieldIndex_r5","getDocumentFieldValue","StepMetaDataMappingComponent_div_4_tr_9_td_1_Template","StepMetaDataMappingComponent_div_4_tr_9_td_2_Template","StepMetaDataMappingComponent_div_4_tr_10_Template_app_field_valueChange_4_listener","field_r7","_r6","onFieldChanged","getFieldDefinition","getFieldValue","StepMetaDataMappingComponent_div_4_tr_9_Template","StepMetaDataMappingComponent_div_4_tr_10_Template","metaDataHeaderText","documentFields","StepMetaDataMappingComponent_div_5_tr_14_Template_app_field_valueChange_4_listener","field_r10","_r9","onLineItemsFieldChanged","getLineItemsFieldValue","StepMetaDataMappingComponent_div_5_Template_app_field_blur_13_listener","_r8","onLineItemsChanged","StepMetaDataMappingComponent_div_5_tr_14_Template","fieldLineItems","lineItemMetaDataId","lineitemFields","userService","translateService","lineItemMetaDataIdChange","Array","activeTab","tabs","createTabs","field","getMetaData","mappings","set","valid","md","valueType","String","autoMapFields","autoMapField","lineItemMappings","findMetaDataByName","nameNoSpaces","FileBoundDivider","FileBoundSeparator","activateTab","tab","ngOnChanges","changes","fieldDefinition","lineItemMetaData","features","NgOnChangesFeature","StepMetaDataMappingComponent_Template","StepMetaDataMappingComponent_Template_app_tab_bar_tabSelected_2_listener","StepMetaDataMappingComponent_div_4_Template","StepMetaDataMappingComponent_div_5_Template","DocumentFieldMapping","available","current","mdds","i","m","currentChanged","PromptsComponent_Template","PromptsComponent_Template_app_dual_picklist_currentChange_0_listener","RoleSelectorComponent_div_2_Template_div_click_1_listener","onUpdateSubmitRoles","RoleSelectorComponent_div_2_Template_i_click_5_listener","textInterpolate","roleNames","RoleSelectorComponent_div_10_Template_app_dual_picklist_currentChange_1_listener","_r4","roleSelectorModal_r5","getData","allowedRoles","selectedRoles","userStateService","rolesChange","loadPicklistItems","getRoles","loaded","loadFailed","roles","allRoles","updateRoleNames","rid","role","r","roleSelectorModal","open","setModalData","ri","closeRoleSelectorModal","close","getModalData","saveProperties","getModal","RoleSelectorComponent_Query","RoleSelectorComponent_div_2_Template","RoleSelectorComponent_div_3_Template","RoleSelectorComponent_div_10_Template","RoleSelectorComponent_Template_button_click_12_listener","RoleSelectorComponent_Template_button_click_15_listener","hasData","IFieldOptions","getValue","scansetting","s","setValue","createDataSources","listColorMode","ListDataSource","addItem","listDPI","listPageSize","listSides","fieldColorMode","fieldDPI","fieldPageSize","fieldSides","ScanSettingsComponent_Template","ScanSettingsComponent_Template_app_field_valueChange_3_listener","ScanSettingsComponent_Template_app_field_valueChange_6_listener","ScanSettingsComponent_Template_app_field_valueChange_9_listener","ScanSettingsComponent_Template_app_field_valueChange_12_listener","changed","getItems","startsWith","currentValue","AddTemplateInsertPosition","StepAddTemplateComponent_app_field_12_Template_app_field_fieldChanged_0_listener","updatePagePosition","fieldPagePosition","addTemplateWorkflowStep","insertPosition","StepAddTemplateComponent_div_13_Template_app_field_valueChange_2_listener","updatePageNumber","fieldPageNumber","insertPageNumber","Integer","allowNegativeNumbers","onFileSelected","fileInput","readFile","pathname","onFilesDropped","getTemplateFile","split","readAsDataURL","fileInputRef","StepAddTemplateComponent_Query","StepAddTemplateComponent_app_field_12_Template","StepAddTemplateComponent_div_13_Template","StepAddTemplateComponent_Template_div_appDropZone_16_listener","StepAddTemplateComponent_Template_input_change_20_listener","StepAddTemplateComponent_Template_button_click_22_listener","file_r5","moveItemInArray","BarcodeMapping","StepBarcodeCoverPageComponent_tr_30_Template_app_field_valueChange_9_listener","item_r3","dataFieldId","StepBarcodeCoverPageComponent_tr_30_Template_app_field_valueChange_12_listener","regEx","i_r4","ctx_r4","createListField","dataFieldsDataSource","createTextField","dataFieldsLoaded","loadMetaData","metadataFields","Expression","updateOptions","onExpectedBarcodesChanged","count","parseInt","expectedNumberOfBarcodes","barcodeMappings","splice","fieldDisplayName","expectedCounts","fieldExpectedBarcodeCount","dropped","previousIndex","currentIndex","StepBarcodeCoverPageComponent_Query","StepBarcodeCoverPageComponent_Template_app_field_valueChange_3_listener","StepBarcodeCoverPageComponent_Template_app_field_valueChange_5_listener","StepBarcodeCoverPageComponent_Template_app_field_fieldChanged_5_listener","StepBarcodeCoverPageComponent_Template_app_checkbox_valueChange_7_listener","removeCoverPage","StepBarcodeCoverPageComponent_Template_tbody_cdkDropListDropped_28_listener","StepBarcodeCoverPageComponent_tr_30_Template","propertyInterpolate","_c0","mappingsScroll_r6","DelayService","MappingHandleMultiple","BarcodeMappingsComponent_tr_19_Template_app_field_valueChange_2_listener","mapping_r2","BarcodeMappingsComponent_tr_19_Template_input_ngModelChange_4_listener","BarcodeMappingsComponent_tr_19_Template_app_field_valueChange_6_listener","i_r3","index","ctx_r3","setMappingHandle","BarcodeMappingsComponent_tr_19_Template_app_delete_icon_click_9_listener","onDeleteMapping","getDataFieldsDropList","_c1","getHandleMultipleDropList","getMappingHandle","delay","mappingsChange","dataFieldsDropLists","handleMultipleDropLists","getDropListField","dropLists","ds","onAddMapping","execute","setFocusToAddedMapping","lastMapping","getElementById","focus","mappingHandleMultiple","handleMultipleDataSource","dataFieldsOptions","sort","a","b","localeCompare","BarcodeMappingsComponent_Template","BarcodeMappingsComponent_Template_button_click_14_listener","BarcodeMappingsComponent_tr_19_Template","ctx_r0","barcodeDataMappingStep","view","StepBarcodeDataMappingComponent_Template","StepBarcodeDataMappingComponent_Template_app_field_valueChange_3_listener","StepBarcodeDataMappingComponent_Template_app_tab_bar_tabSelected_5_listener","StepBarcodeDataMappingComponent_div_7_Template","burstingWorkflowStepPageCount","burstingWorkflowStep","pageCount","onTypeChanged","burstingType","fieldBarcodeValue","fieldPageCount","StepBurstingComponent_Template","StepBurstingComponent_Template_input_change_3_listener","StepBurstingComponent_Template_app_field_valueChange_9_listener","barcodeValue","StepBurstingComponent_Template_app_checkbox_valueChange_12_listener","retainBarcode","StepBurstingComponent_Template_input_change_16_listener","StepBurstingComponent_Template_app_field_valueChange_22_listener","StepBurstingComponent_Template_input_change_25_listener","classProp","StepClassifierComponent_app_field_3_Template_app_field_valueChange_0_listener","classifierStep","StepClassifierComponent_app_field_6_Template_app_field_valueChange_0_listener","_r3","formTypeFieldId","formTypeDataField","StepClassifierComponent_app_field_9_Template_app_field_valueChange_0_listener","splitDocumentName","splitDocumentNameField","StepClassifierComponent_app_field_12_Template_app_field_valueChange_0_listener","_r5","confidenceThreshold","confidenceThresholdField","metaDataOptions","unshift","createField","StepClassifierComponent_Template","StepClassifierComponent_app_field_3_Template","StepClassifierComponent_app_field_6_Template","StepClassifierComponent_app_field_9_Template","StepClassifierComponent_app_field_12_Template","decisionPointWorkflowStep","StepDecisionPointComponent_Template","StepDecisionPointComponent_Template_app_field_valueChange_3_listener","StepDecisionPointComponent_Template_textarea_ngModelChange_7_listener","expression","DeliveryFormatsDataSource","DeliverToEmailWorkflowStep","StepDeliverToEmailGeneralComponent_div_10_Template_app_field_valueChange_1_listener","deliverToEmail","finalFormCode","fieldDeliveryFormat","StepDeliverToEmailGeneralComponent_div_14_Template_app_field_valueChange_1_listener","documentName","fieldDocumentName","fieldEmailAddress","fieldSubject","fieldBody","onIncludeDocumentChanged","includeDocument","destinations","To","StepDeliverToEmailGeneralComponent_Template","StepDeliverToEmailGeneralComponent_Template_app_field_valueChange_3_listener","StepDeliverToEmailGeneralComponent_Template_app_checkbox_valueChange_5_listener","StepDeliverToEmailGeneralComponent_Template_app_field_valueChange_9_listener","subject","StepDeliverToEmailGeneralComponent_div_10_Template","StepDeliverToEmailGeneralComponent_Template_app_field_valueChange_13_listener","body","StepDeliverToEmailGeneralComponent_div_14_Template","StepDeliverToEmailComponent_div_5_Template_app_export_metadata_metaDataTypeChanged_1_listener","onMetaDataTypeChanged","StepDeliverToEmailComponent_Template","StepDeliverToEmailComponent_Template_app_tab_bar_tabSelected_2_listener","StepDeliverToEmailComponent_div_4_Template","StepDeliverToEmailComponent_div_5_Template","DeliverToFtpWorkflowStep","StepDeliverToFtpGeneralComponent_div_44_Template_app_field_valueChange_3_listener","deliverToFtpStepSecurityType","StepDeliverToFtpGeneralComponent_div_44_Template_app_checkbox_valueChange_6_listener","deliverToFtpStep","allowInvalidCertificates","fieldSecurityType","StepDeliverToFtpGeneralComponent_div_45_Template_app_checkbox_valueChange_2_listener","passiveTransfer","deliverToFtpStepPort","port","securityType","onDeliveryTypeChanged","ftpTypes","fieldAddress","fieldPort","fieldUsername","fieldPassword","Password","fieldPPKPassphrase","ftpSecurityTypes","ftpTypeChanged","ftpServerType","onPPKFileSelected","ppkFileInput","ppkFilename","getPPKFilename","ppkFileBase64","ppkFileInputRef","usePPKFile","ppkPassphrase","StepDeliverToFtpGeneralComponent_Query","StepDeliverToFtpGeneralComponent_Template_app_field_valueChange_3_listener","StepDeliverToFtpGeneralComponent_Template_app_field_blur_3_listener","StepDeliverToFtpGeneralComponent_Template_app_field_valueChange_6_listener","address","StepDeliverToFtpGeneralComponent_Template_app_field_valueChange_8_listener","StepDeliverToFtpGeneralComponent_Template_app_field_valueChange_11_listener","username","StepDeliverToFtpGeneralComponent_Template_app_field_valueChange_13_listener","password","StepDeliverToFtpGeneralComponent_Template_app_checkbox_valueChange_17_listener","StepDeliverToFtpGeneralComponent_Template_app_field_valueChange_26_listener","StepDeliverToFtpGeneralComponent_Template_div_appDropZone_29_listener","StepDeliverToFtpGeneralComponent_Template_input_change_33_listener","StepDeliverToFtpGeneralComponent_Template_button_click_35_listener","ppkFile_r2","StepDeliverToFtpGeneralComponent_div_44_Template","StepDeliverToFtpGeneralComponent_div_45_Template","StepDeliverToFtpGeneralComponent_Template_app_field_valueChange_48_listener","StepDeliverToFtpGeneralComponent_Template_app_field_valueChange_50_listener","StepDeliverToFtpComponent_div_5_Template_app_export_metadata_metaDataTypeChanged_1_listener","StepDeliverToFtpComponent_Template","StepDeliverToFtpComponent_Template_app_tab_bar_tabSelected_2_listener","StepDeliverToFtpComponent_div_4_Template","StepDeliverToFtpComponent_div_5_Template","Rendering","Resolution","Scaling","ProxyApiService","deliverToInterFAXRetryCount","deliverToInterFAX","retryCount","deliverToInterFAXScaling","scaling","deliverToInterFAXResolution","resolution","deliverToInterFAXRendering","rendering","proxy","fieldFaxNumber","fieldCSID","fieldTopLine","fieldRetryCount","fieldScaling","fieldResolution","fieldRendering","checkInterFAXConnectivity","modalElement","nsmContent","StepDeliverToInterFAXComponent_Template","StepDeliverToInterFAXComponent_Template_app_field_valueChange_3_listener","StepDeliverToInterFAXComponent_Template_button_click_5_listener","StepDeliverToInterFAXComponent_Template_app_field_valueChange_10_listener","StepDeliverToInterFAXComponent_Template_app_field_valueChange_14_listener","faxNumber","StepDeliverToInterFAXComponent_Template_app_field_valueChange_17_listener","csid","StepDeliverToInterFAXComponent_Template_app_field_valueChange_19_listener","topLine","StepDeliverToInterFAXComponent_Template_app_field_valueChange_22_listener","StepDeliverToInterFAXComponent_Template_app_field_valueChange_24_listener","StepDeliverToInterFAXComponent_Template_app_field_valueChange_27_listener","StepDeliverToInterFAXComponent_Template_app_field_valueChange_29_listener","DeliverToAWSS3WorkflowStep","regions","regionIds","fieldAccessKey","fieldSecret","fieldBucketName","fieldBaseFolder","fieldRegion","deliverToS3","StepDeliverToS3GeneralComponent_Template","StepDeliverToS3GeneralComponent_Template_app_field_valueChange_3_listener","accessKey","StepDeliverToS3GeneralComponent_Template_app_field_valueChange_5_listener","secret","StepDeliverToS3GeneralComponent_Template_app_field_valueChange_8_listener","bucketName","StepDeliverToS3GeneralComponent_Template_app_field_valueChange_10_listener","baseFolder","StepDeliverToS3GeneralComponent_Template_app_field_valueChange_13_listener","region","StepDeliverToS3GeneralComponent_Template_app_field_valueChange_16_listener","StepDeliverToS3GeneralComponent_Template_app_field_valueChange_18_listener","StepDeliverToS3Component_div_5_Template_app_export_metadata_metaDataTypeChanged_1_listener","StepDeliverToS3Component_Template","StepDeliverToS3Component_Template_app_tab_bar_tabSelected_2_listener","StepDeliverToS3Component_div_4_Template","StepDeliverToS3Component_div_5_Template","SharePointFolder","url","hasChildFolders","expanded","findFolder","f","folders","foundFolder","findParentIds","parentIds","DeliverToSharePoint365WorkflowStep","childFolder_r1","deliverToSharePoint365","sharePointService","isExpanded","folderIds","levelIndex","toggleExpand","Promise","resolve","reject","loadChildFolders","then","isSelected","succeeded","sharePointFolder","SharePointFolderComponent_Template","SharePointFolderComponent_Template_i_click_2_listener","SharePointFolderComponent_Template_div_click_3_listener","SharePointFolderComponent_li_9_Template","pureFunction1","pureFunction4","pureFunction2","_c3","styles","encapsulation","FileBoundProjectField","folder_r1","spinnerState","elementRef","folderSelected","startLoading","finishedLoading","sharePointFields","fieldSharePointSiteUrl","fieldSharePointUsername","fieldSharePointPassword","onSiteUrlChanged","startFolderLoad","onUsernameChanged","onPasswordChanged","getSharePointDocumentName","FileBoundDocumentName","onSharePointDocumentChanged","getFolderPath","folderUrl","onLoadedFolders","catch","console","log","clearSelectedFolder","pathFolderIds","getPathFolderIds","loadFields","siteFolders","documentLibraryFolders","fieldNames","stepMetaDataMapping","sharePointBaseError","fullMessage","warning","StepDeliverToSharepoint365GeneralComponent_Query","StepDeliverToSharepoint365GeneralComponent_Template_app_field_valueChange_3_listener","StepDeliverToSharepoint365GeneralComponent_Template_app_field_blur_3_listener","StepDeliverToSharepoint365GeneralComponent_Template_app_field_valueChange_6_listener","StepDeliverToSharepoint365GeneralComponent_Template_app_field_blur_6_listener","StepDeliverToSharepoint365GeneralComponent_Template_app_field_valueChange_8_listener","StepDeliverToSharepoint365GeneralComponent_Template_app_field_blur_8_listener","StepDeliverToSharepoint365GeneralComponent_app_sharepoint_folder_14_Template","StepDeliverToSharepoint365GeneralComponent_Template_app_field_valueChange_17_listener","StepDeliverToSharepoint365Component_div_4_Template_app_step_deliver_to_sharepoint365_general_folderSelected_1_listener","onFolderSelected","StepDeliverToSharepoint365Component_div_4_Template_app_step_deliver_to_sharepoint365_general_startLoading_1_listener","onStartLoading","StepDeliverToSharepoint365Component_div_4_Template_app_step_deliver_to_sharepoint365_general_finishedLoading_1_listener","onFinishedLoading","StepDeliverToSharepoint365Component_div_5_Template_app_export_metadata_metaDataTypeChanged_1_listener","StepDeliverToSharepoint365Component_Template","StepDeliverToSharepoint365Component_Template_app_tab_bar_tabSelected_2_listener","StepDeliverToSharepoint365Component_div_4_Template","StepDeliverToSharepoint365Component_div_5_Template","DeliverToFileBoundWorkflowStep","projectFields","allowedFormats","onLoadProjectsURLChanged","deliverToFileBound","fileBoundURL","fileBoundProjectDataSource","onLoadProjectsUsernameChanged","onLoadProjectsPasswordChanged","onProjectSelected","getFileBoundProjectFields","projectFieldsLoaded","projectFieldsLoadFailed","results","project","enableSeparators","projectName","lineItemFields","relatedProject","lineItemProjectName","relatedProjectName","fieldFileboundUrl","fieldFileboundUsername","fieldFileboundPassword","fieldFileboundProject","fieldFileboundRoute","fileBoundProjectRoutesDataSource","fieldFileboundFile","FileBoundProjectFilesDataSource","FileBoundProjectDataSource","FileBoundProjectRoutesDataSource","projectId","onProjectChanged","StepDeliveryFileboundGeneralComponent_Query","StepDeliveryFileboundGeneralComponent_Template_app_field_valueChange_3_listener","StepDeliveryFileboundGeneralComponent_Template_app_field_blur_3_listener","StepDeliveryFileboundGeneralComponent_Template_app_field_valueChange_5_listener","StepDeliveryFileboundGeneralComponent_Template_app_field_blur_5_listener","StepDeliveryFileboundGeneralComponent_Template_app_field_valueChange_7_listener","StepDeliveryFileboundGeneralComponent_Template_app_field_blur_7_listener","StepDeliveryFileboundGeneralComponent_Template_app_field_valueChange_10_listener","StepDeliveryFileboundGeneralComponent_Template_app_field_blur_10_listener","StepDeliveryFileboundGeneralComponent_Template_app_field_fieldChanged_10_listener","StepDeliveryFileboundGeneralComponent_Template_app_field_valueChange_12_listener","StepDeliveryFileboundGeneralComponent_Template_app_field_valueChange_15_listener","routeId","StepDeliveryFileboundGeneralComponent_Template_app_checkbox_valueChange_17_listener","onlyDeliveryFirstPage","StepDeliveryFileboundGeneralComponent_Template_app_field_valueChange_20_listener","StepDeliveryFileboundGeneralComponent_Template_app_step_metadata_mapping_lineItemMetaDataIdChange_21_listener","deliveryStep","getFileBoundProjects","projects","getFileBoundProjectRoutes","StepDeliveryFileboundComponent_div_5_Template_app_export_metadata_metaDataTypeChanged_1_listener","StepDeliveryFileboundComponent_Template","StepDeliveryFileboundComponent_Template_app_tab_bar_tabSelected_2_listener","StepDeliveryFileboundComponent_div_4_Template","StepDeliveryFileboundComponent_div_5_Template","DomSanitizer","SplittableDeliveryFormatsDataSource","Log","DeliverToNetDocsWorkflowStep","DeliveryTypes","StepDeliveryToNetdocsGeneralComponent_div_1_app_field_5_Template_app_field_valueChange_0_listener","deliverToNetDocs","fieldDeliveryFormatSplittable","StepDeliveryToNetdocsGeneralComponent_div_1_app_field_6_Template_app_field_valueChange_0_listener","StepDeliveryToNetdocsGeneralComponent_div_1_Template_app_field_valueChange_3_listener","vault","StepDeliveryToNetdocsGeneralComponent_div_1_Template_app_field_fieldChanged_3_listener","onVaultSelected","StepDeliveryToNetdocsGeneralComponent_div_1_app_field_5_Template","StepDeliveryToNetdocsGeneralComponent_div_1_app_field_6_Template","fieldVault","deliveryType","ViaRoutingSheet","ToObjectID","StepDeliveryToNetdocsGeneralComponent_div_37_Template_iframe_load_1_listener","onIframeLoad","authorizationUrl","sanitizeResourceUrl","StepDeliveryToNetdocsGeneralComponent_div_38_Template_button_click_1_listener","_r7","cancelAuthorizing","delayService","sanitizer","proxyApiService","spinnerService","ngxSmartModal","authorizing","vaults","clientId","server","resetSelectedFormatIfRequired","newType","formatExistsInNewType","deliveryFormats","format","fieldRefreshToken","deliveryFormatsDataSource","splittableFormatsSource","getItemsEx","fieldNetDocsObjectId","enter","v","bypassSecurityTrustResourceUrl","window","location","origin","var","onAuthorize","propertiesModal","propertiesModalBody","classList","authorizationModal","iframe","style","offsetHeight","dispatchChange","newHref","contentWindow","href","URL","code","searchParams","getElementsByClassName","netDocsExchangeCodeForRefreshToken","exchangeSucceeded","exchangeFailed","token","refreshToken","updateAuthorizationButtonLabel","unloadHandler","setTimeout","attachUnload","remove","authorizationButtonLabel","onClose","removeEventListener","addEventListener","StepDeliveryToNetdocsGeneralComponent_Template","StepDeliveryToNetdocsGeneralComponent_div_1_Template","StepDeliveryToNetdocsGeneralComponent_Template_app_checkbox_valueChange_4_listener","addUserACLToPaperDocuments","StepDeliveryToNetdocsGeneralComponent_Template_app_checkbox_valueChange_7_listener","allowPartialProfiling","StepDeliveryToNetdocsGeneralComponent_Template_input_change_15_listener","StepDeliveryToNetdocsGeneralComponent_Template_input_change_21_listener","StepDeliveryToNetdocsGeneralComponent_Template_app_field_valueChange_26_listener","deliverToNetDocsObjectId","StepDeliveryToNetdocsGeneralComponent_Template_button_click_30_listener","StepDeliveryToNetdocsGeneralComponent_div_37_Template","StepDeliveryToNetdocsGeneralComponent_div_38_Template","StepDeliveryToNetdocsComponent_Template","StepDeliveryToNetdocsComponent_Template_app_tab_bar_tabSelected_2_listener","StepDeliveryToNetdocsComponent_div_4_Template","PIIEntityTypeWrapper","detectPIIStep","redactPII","loadItems","getAllPIIEntityTypes","isNewStep","p","tag","categories","c","arrayPIIEntityTypeWrapper","piiTypeTranslations","returnObject","StepDetectPiiComponent_Template","StepDetectPiiComponent_Template_app_field_valueChange_3_listener","StepDetectPiiComponent_Template_app_checkbox_valueChange_6_listener","StepDetectPiiComponent_Template_app_dual_picklist_currentChange_12_listener","detectSignatureStep","StepDetectSignatureComponent_Template","StepDetectSignatureComponent_Template_app_field_valueChange_3_listener","Files","FontColors","supportedBarcodesArray","Action","ApplyToPages","AvailableTabs","ContentTextModes","ContentTypes","HorizontalLocations","LengthUnits","LocationTypes","VerticalLocations","StepDocumentStampComponent_Conditional_2_Case_0_ng_template_0_Template","tabContentType_r2","StepDocumentStampComponent_Conditional_2_Case_1_ng_template_0_Template","tabLocationType_r3","StepDocumentStampComponent_Conditional_2_Case_2_ng_template_0_Template","tabOptions_r4","StepDocumentStampComponent_Conditional_2_Case_0_Template","StepDocumentStampComponent_Conditional_2_Case_1_Template","StepDocumentStampComponent_Conditional_2_Case_2_Template","conditional","tmp_4_0","currentlySelectedTab","Options","StepDocumentStampComponent_ng_template_3_Case_1_Template_app_field_valueChange_2_listener","documentStampWorkflowStep","content","fontFamily","StepDocumentStampComponent_ng_template_3_Case_1_Template_app_field_valueChange_4_listener","fontSize","StepDocumentStampComponent_ng_template_3_Case_1_Template_app_field_valueChange_6_listener","mode","StepDocumentStampComponent_ng_template_3_Case_1_Template_app_field_valueChange_8_listener","color","StepDocumentStampComponent_ng_template_3_Case_1_Template_app_field_valueChange_11_listener","text","font","size","textField","StepDocumentStampComponent_ng_template_3_Case_2_Template_input_change_2_listener","onFileInputChange","supportedFileTypes","StepDocumentStampComponent_ng_template_3_Case_3_app_field_0_Template_app_field_valueChange_0_listener","stamp","stampField","StepDocumentStampComponent_ng_template_3_Case_3_app_field_0_Template","StepDocumentStampComponent_ng_template_3_Case_4_Template_app_field_valueChange_2_listener","_r10","barcodeType","StepDocumentStampComponent_ng_template_3_Case_4_Template_app_field_valueChange_5_listener","barcode","StepDocumentStampComponent_ng_template_3_Template_app_field_valueChange_0_listener","StepDocumentStampComponent_ng_template_3_Case_1_Template","StepDocumentStampComponent_ng_template_3_Case_2_Template","StepDocumentStampComponent_ng_template_3_Case_3_Template","StepDocumentStampComponent_ng_template_3_Case_4_Template","tmp_6_0","StepDocumentStampComponent_ng_template_5_Case_1_Template_app_field_valueChange_2_listener","_r12","horizontal","StepDocumentStampComponent_ng_template_5_Case_1_Template_app_field_valueChange_5_listener","vertical","relative","StepDocumentStampComponent_ng_template_5_Case_2_Template_app_field_valueChange_2_listener","_r13","top","StepDocumentStampComponent_ng_template_5_Case_2_Template_app_field_valueChange_4_listener","topUnits","StepDocumentStampComponent_ng_template_5_Case_2_Template_app_field_valueChange_7_listener","left","StepDocumentStampComponent_ng_template_5_Case_2_Template_app_field_valueChange_9_listener","leftUnits","specific","StepDocumentStampComponent_ng_template_5_Case_3_Template_app_field_valueChange_2_listener","_r14","insertAt","StepDocumentStampComponent_ng_template_5_Case_3_Template_app_field_valueChange_5_listener","horizontalAlignment","stretch","StepDocumentStampComponent_ng_template_5_Template_app_field_valueChange_0_listener","_r11","StepDocumentStampComponent_ng_template_5_Case_1_Template","StepDocumentStampComponent_ng_template_5_Case_2_Template","StepDocumentStampComponent_ng_template_5_Case_3_Template","StepDocumentStampComponent_ng_template_7_Template_app_field_valueChange_2_listener","_r15","options","rotationDegrees","StepDocumentStampComponent_ng_template_7_Template_app_field_valueChange_5_listener","applyToPages","rotate","applyTo","hydra","_this","supportedImageFileTypes","onAnnotationConfigLoad","config","onAnnotationConfigLoadFailed","fontFamilies","fontNames","fontSizes","px","fontColors","defaultColors","barcodeTypes","bc","toUpperCase","stamps","defaultValue","Solid","Outline","imageField","Left","Center","Right","Top","Bottom","Decimal","Inches","Millimeters","Points","All","First","Last","onTabSelected","_ref","_asyncToGenerator","from","base64","toBase64String","_x","apply","arguments","getAnnotationConfigurations","StepDocumentStampComponent_Template","StepDocumentStampComponent_Template_app_tab_bar_tabSelected_1_listener","StepDocumentStampComponent_Conditional_2_Template","StepDocumentStampComponent_ng_template_3_Template","templateRefExtractor","StepDocumentStampComponent_ng_template_5_Template","StepDocumentStampComponent_ng_template_7_Template","StepExportToAPIComponent_div_7_Template_app_step_interactive_roles_roleIdsChange_1_listener","exportToAPIStep","roleIds","StepExportToAPIComponent_Template","StepExportToAPIComponent_Template_app_field_valueChange_3_listener","StepExportToAPIComponent_Template_app_tab_bar_tabSelected_5_listener","StepExportToAPIComponent_div_7_Template","Dictionary","StepExportToWebServiceComponent_div_3_Template_app_field_valueChange_3_listener","action","StepExportToWebServiceComponent_div_3_Template_app_field_valueChange_6_listener","StepExportToWebServiceComponent_div_3_Template_app_field_valueChange_9_listener","workflowStepTimeout","actionField","urlField","timeoutField","StepExportToWebServiceComponent_div_4_tr_26_Template_app_field_valueChange_6_listener","item_r5","StepExportToWebServiceComponent_div_4_tr_26_Template_app_field_valueChange_9_listener","StepExportToWebServiceComponent_div_4_tr_26_Template_i_click_12_listener","deleteItem","i_r6","focusedHeaderRow","propertyInterpolate1","StepExportToWebServiceComponent_div_4_Template_button_click_4_listener","onAddValue","StepExportToWebServiceComponent_div_4_Template_i_click_23_listener","deleteAllItems","StepExportToWebServiceComponent_div_4_Template_tbody_cdkDropListDropped_25_listener","StepExportToWebServiceComponent_div_4_tr_26_Template","headers","StepExportToWebServiceComponent_div_5_Template_app_field_valueChange_3_listener","workflowStepType","StepExportToWebServiceComponent_div_5_Template_app_field_valueChange_6_listener","typeField","bodyField","directiveRef","timeout","actionDataSource","typeDataSource","initDataSources","actionsNames","toLocaleLowerCase","tabsNames","scrollToBottom","scrollToTop","rowIndexToDelete","indexOf","StepExportToWebServiceComponent_Query","StepExportToWebServiceComponent_Template_app_tab_bar_tabSelected_1_listener","StepExportToWebServiceComponent_div_3_Template","StepExportToWebServiceComponent_div_4_Template","StepExportToWebServiceComponent_div_5_Template","cloneDeep","ObjectIdGenerator","StepFormsAiComponent_div_1_div_8_Template_app_field_valueChange_1_listener","formsWorkflowStep","formTypeVariantFieldId","fieldFormTypeVariant","lockTraining","StepFormsAiComponent_div_1_div_17_Template_app_checkbox_valueChange_2_listener","StepFormsAiComponent_div_1_Template_app_field_valueChange_3_listener","StepFormsAiComponent_div_1_Template_app_field_valueChange_6_listener","StepFormsAiComponent_div_1_div_8_Template","StepFormsAiComponent_div_1_Template_app_field_valueChange_11_listener","maxDocsClassification","StepFormsAiComponent_div_1_Template_app_field_valueChange_14_listener","maxDocsFieldTraining","StepFormsAiComponent_div_1_div_17_Template","fieldFormType","isVarianceSupported","fieldMaxDocsClassification","fieldMaxDocsFieldTraining","projectVersion","maxDocumentsUsedForClassification","maxDocumentsUsedForFieldTraining","fieldsDataSource","fieldsVariantsDataSource","Empty","StepFormsAiComponent_Template","StepFormsAiComponent_div_1_Template","validateForm","getProjectFile","StepFormsComponent_Query","StepFormsComponent_Template_div_appDropZone_8_listener","StepFormsComponent_Template_input_change_12_listener","StepFormsComponent_Template_button_click_14_listener","file_r2","imageProcessingStep","StepImageprocessingComponent_Template","StepImageprocessingComponent_Template_app_checkbox_valueChange_2_listener","despeckle","StepImageprocessingComponent_Template_app_checkbox_valueChange_4_listener","deskew","StepImageprocessingComponent_Template_app_checkbox_valueChange_6_listener","autoRotate","StepImageprocessingComponent_Template_app_checkbox_valueChange_8_listener","blankPageRemoval","StepImageprocessingComponent_Template_app_checkbox_valueChange_10_listener","binarize","InteractiveWorkflowStep","workflowStepSortBy","sortBy","workflowStepSortDirection","sortDirection","workflowStepTimeoutInHours","timeoutInHours","SortByOptions","sortDirectionOptions","fieldSortBy","fieldSortDirection","fieldTimeoutInHours","sortedSteps","fieldTimeoutOutcomeId","StepInteractiveAdvancedComponent_Template","StepInteractiveAdvancedComponent_Template_app_field_valueChange_2_listener","StepInteractiveAdvancedComponent_Template_app_field_valueChange_4_listener","StepInteractiveAdvancedComponent_Template_app_checkbox_valueChange_6_listener","restrictViewToOwner","StepInteractiveAdvancedComponent_Template_app_checkbox_valueChange_8_listener","automaticallyAdvanceDocumentOnTab","StepInteractiveAdvancedComponent_Template_app_checkbox_valueChange_10_listener","allowTimeout","StepInteractiveAdvancedComponent_Template_app_field_valueChange_13_listener","StepInteractiveAdvancedComponent_Template_app_field_valueChange_15_listener","timeoutOutcomeId","Capabilities","Capability","capabilitiesChange","loadCurrent","capability","capabilities","loadAvailable","addAvailable","allowCaptureImport","allowCaptureScan","deletePage","deleteDocument","allowDropDocument","allowDropDocumentPage","allowDropExternalDocument","allowCaptureRescanPage","allowCaptureScanMorePages","allowCaptureScanToFolder","allowCaptureReimportPage","allowCaptureImportMorePages","allowCaptureImportToFolder","allowAnnotations","StepInteractiveCapabilitiesComponent_Template","StepInteractiveCapabilitiesComponent_Template_app_dual_picklist_currentChange_0_listener","itemGroupingIds","itemGroupingIdsChange","StepInteractiveGroupingsComponent_Template","StepInteractiveGroupingsComponent_Template_app_dual_picklist_currentChange_0_listener","metadataIds","metadataIdsChange","StepInteractiveIndexingComponent_Template","StepInteractiveIndexingComponent_Template_app_dual_picklist_currentChange_0_listener","Interactive","StepInteractiveOutcomesComponent_tr_17_Template_input_ngModelChange_4_listener","outcome_r2","StepInteractiveOutcomesComponent_tr_17_Template_app_checkbox_valueChange_6_listener","requiresValidMetaData","StepInteractiveOutcomesComponent_tr_17_Template_app_delete_icon_click_9_listener","onDeleteOutcome","outcomes","outcomesChange","sortable","outcome","o","onOutcomeOrderChanged","onAddOutcome","setFocusToAddedOutcome","lastOutcome","StepInteractiveOutcomesComponent_Template","StepInteractiveOutcomesComponent_Template_button_click_12_listener","StepInteractiveOutcomesComponent_Template_tbody_cdkDropListDropped_16_listener","StepInteractiveOutcomesComponent_tr_17_Template","roleIdsChange","StepInteractiveRolesComponent_Template","StepInteractiveRolesComponent_Template_app_dual_picklist_currentChange_0_listener","Key","Threshold","ThresholdDataField","ThresholdStyle","ThresholdUnits","StepInteractiveThresholdsComponent_tr_23_Template_app_field_valueChange_4_listener","i_r2","setThresholdDataField","StepInteractiveThresholdsComponent_tr_23_Template_app_field_valueChange_5_listener","threshold_r4","tooltip","StepInteractiveThresholdsComponent_tr_23_Template_input_keypress_8_listener","validateNumber","StepInteractiveThresholdsComponent_tr_23_Template_input_ngModelChange_8_listener","minimum","StepInteractiveThresholdsComponent_tr_23_Template_input_keypress_10_listener","StepInteractiveThresholdsComponent_tr_23_Template_input_ngModelChange_10_listener","maximum","StepInteractiveThresholdsComponent_tr_23_Template_app_field_valueChange_12_listener","setThresholdUnit","StepInteractiveThresholdsComponent_tr_23_Template_app_field_valueChange_14_listener","setThresholdStyle","StepInteractiveThresholdsComponent_tr_23_Template_app_delete_icon_click_16_listener","onDeleteThreshold","getDataFieldDropList","getThresholdDataField","fieldTooltip","getUnitsDropList","getThresholdUnit","getStylesDropList","getThresholdStyle","thresholds","thresholdsChange","dataFieldDropLists","unitsdDropLists","stylesDropLists","threshold","onThresholdOrderChanged","onAddThreshold","setFocusToAddedThreshold","lastThreshold","unitsDataSource","dataFieldDataSource","stylesDataSource","Backspace","Delete","isNaN","Space","dataField","unit","DateCreated","DateModified","units","Minutes","Hours","Days","Caution","Warning","Critical","StepInteractiveThresholdsComponent_Template","StepInteractiveThresholdsComponent_Template_button_click_18_listener","StepInteractiveThresholdsComponent_Template_tbody_cdkDropListDropped_22_listener","StepInteractiveThresholdsComponent_tr_23_Template","StepInteractiveTrainingComponent_div_3_div_2_Template_app_field_valueChange_1_listener","formTraining","classifyStepId","fieldClassifyStep","stepLockedText","StepInteractiveTrainingComponent_div_3_ng_template_6_Template_app_dual_picklist_currentChange_0_listener","currentDataFieldChanged","StepInteractiveTrainingComponent_div_3_div_2_Template","StepInteractiveTrainingComponent_div_3_div_3_Template","StepInteractiveTrainingComponent_div_3_ng_template_4_Template","StepInteractiveTrainingComponent_div_3_ng_template_6_Template","isTrainingLocked","trainingLocked_r4","trainingNotLocked_r5","formsAiWorkflowStep","classifySteps","stepsDataSource","metaDataIds","findIndex","StepInteractiveTrainingComponent_Template","StepInteractiveTrainingComponent_Template_app_checkbox_valueChange_2_listener","StepInteractiveTrainingComponent_div_3_Template","StepInteractiveComponent_div_7_Template_app_step_interactive_roles_roleIdsChange_1_listener","StepInteractiveComponent_div_8_Template_app_step_interactive_indexing_metadataIdsChange_1_listener","StepInteractiveComponent_div_9_Template_app_step_interactive_groupings_itemGroupingIdsChange_1_listener","StepInteractiveComponent_div_10_Template_app_step_interactive_outcomes_outcomesChange_1_listener","StepInteractiveComponent_div_11_Template_app_step_interactive_capabilities_capabilitiesChange_1_listener","StepInteractiveComponent_div_12_Template_app_step_interactive_thresholds_thresholdsChange_1_listener","previousClassifySteps","loadPreviousClassifySteps","stepId","visitedSteps","previousSteps","isStepLinkedByOutcome","ps","nextId","StepInteractiveComponent_Template","StepInteractiveComponent_Template_app_field_valueChange_3_listener","StepInteractiveComponent_Template_app_tab_bar_tabSelected_5_listener","StepInteractiveComponent_div_7_Template","StepInteractiveComponent_div_8_Template","StepInteractiveComponent_div_9_Template","StepInteractiveComponent_div_10_Template","StepInteractiveComponent_div_11_Template","StepInteractiveComponent_div_12_Template","StepInteractiveComponent_div_13_Template","StepInteractiveComponent_div_14_Template","MetaDataDefinition","AwsFieldMapping","DuplicateSelectionType","FieldMappingType","StepInvoiceExtractionComponent_div_7_tr_21_td_3_Template_app_field_valueChange_1_listener","invoiceExtractionStep","dataFieldMappings","mappingType","dataFieldMappingTypeFields","StepInvoiceExtractionComponent_div_7_tr_21_td_4_Template_app_field_valueChange_1_listener","useInvoiceFields","dataFieldValueFields","StepInvoiceExtractionComponent_div_7_tr_21_td_5_Template_app_field_valueChange_1_listener","dataFieldAdvancedFields","StepInvoiceExtractionComponent_div_7_tr_21_Template_app_field_valueChange_2_listener","fieldId","onDataFieldChanged","StepInvoiceExtractionComponent_div_7_tr_21_td_3_Template","StepInvoiceExtractionComponent_div_7_tr_21_td_4_Template","StepInvoiceExtractionComponent_div_7_tr_21_td_5_Template","StepInvoiceExtractionComponent_div_7_tr_21_Template_app_field_valueChange_7_listener","mappingDuplicateSelectionType","StepInvoiceExtractionComponent_div_7_tr_21_Template_app_delete_icon_click_11_listener","dataFieldIdFields","dataFieldDuplicateSelectionFields","StepInvoiceExtractionComponent_div_7_td_7_Template","StepInvoiceExtractionComponent_div_7_Template_button_click_16_listener","onAddDataFieldMapping","StepInvoiceExtractionComponent_div_7_tr_21_Template","StepInvoiceExtractionComponent_div_8_div_1_Template_app_field_valueChange_1_listener","lineItemsFieldId","fieldLineItemsId","StepInvoiceExtractionComponent_div_8_div_2_Template_app_field_valueChange_1_listener","tableExpression","fieldTableExpression","StepInvoiceExtractionComponent_div_8_div_3_Template_app_field_valueChange_1_listener","rowExpression","fieldTableRowExpression","StepInvoiceExtractionComponent_div_8_tr_15_td_3_Template_app_field_valueChange_1_listener","i_r12","lineItemMappingTypeFields","StepInvoiceExtractionComponent_div_8_tr_15_td_4_Template_app_field_valueChange_1_listener","lineItemValueFields","StepInvoiceExtractionComponent_div_8_tr_15_td_5_Template_app_field_valueChange_1_listener","lineItemAdvancedFields","StepInvoiceExtractionComponent_div_8_tr_15_td_3_Template","StepInvoiceExtractionComponent_div_8_tr_15_td_4_Template","StepInvoiceExtractionComponent_div_8_tr_15_td_5_Template","fieldName_r15","StepInvoiceExtractionComponent_div_8_div_1_Template","StepInvoiceExtractionComponent_div_8_div_2_Template","StepInvoiceExtractionComponent_div_8_div_3_Template","StepInvoiceExtractionComponent_div_8_td_10_Template","StepInvoiceExtractionComponent_div_8_tr_15_Template","useExpressions","lineItemFieldLabelNames","awsFieldsDataSource","awsFieldAdvancedDataSource","fieldMappingTypeDataSource","lineItemCacheFieldId","createMappingFields","createNewDataFieldMappingField","lineItemMetaDataOptions","createNonMappingFields","setLineItemsCache","createNewLineItemMappingRow","findMetaDataById","lineItemMappingTypeDataSource","NotMapped","fieldMapping","Standard","Advanced","loadDataSources","extractionFields","advancedField","lineItemField","lineItemConfigurations","li","cacheMapping","getCachedValue","metaDataId","duplicateSelectionType","applyAutoMapping","selectedFieldValue","onLineItemDataFieldChanged","fieldMappings","matchingField","ef","lineItemMappingCache","lineItemFieldId","lineItem","valueField","StepInvoiceExtractionComponent_Template","StepInvoiceExtractionComponent_Template_app_field_valueChange_3_listener","StepInvoiceExtractionComponent_Template_app_tab_bar_tabSelected_5_listener","StepInvoiceExtractionComponent_div_7_Template","StepInvoiceExtractionComponent_div_8_Template","ChangeDetectorRef","StepKeywordExtractionComponent_div_5_Template_app_field_valueChange_1_listener","keywordExtractionStep","StepKeywordExtractionComponent_div_7_Template_app_field_valueChange_1_listener","lineItemFieldText","fieldLineItemsText","StepKeywordExtractionComponent_div_9_Template_app_field_valueChange_1_listener","lineItemFieldIndex","fieldLineItemsIndex","maxKeywords","cdr","createLineItemFields","keyWordDataSource","mddLineItem","keywordOptions","currentStepLineItem","detectChanges","maxKeywordsField","StepKeywordExtractionComponent_Template","StepKeywordExtractionComponent_Template_app_field_valueChange_3_listener","StepKeywordExtractionComponent_div_5_Template","StepKeywordExtractionComponent_div_7_Template","StepKeywordExtractionComponent_div_9_Template","WorkflowsDataSource","WorkflowStepsDataSource","StepMoveToWorkflowComponent_div_2_Template_app_field_valueChange_3_listener","moveToWorkflow","StepMoveToWorkflowComponent_div_2_Template_app_field_valueChange_6_listener","selectedWorkflowId","StepMoveToWorkflowComponent_div_2_Template_app_field_blur_6_listener","onSelectedWorkflowChanged","StepMoveToWorkflowComponent_div_2_Template_app_field_valueChange_9_listener","selectedWorkflowStepId","fieldWorkflows","fieldWorkflowSteps","elementLoading","workflowsLoaded","workflowsDataSource","workflowStepsDataSource","initialSelectedWorkflowId","initialSelectedWorkflowStepId","getWorkflows","workflows","startStep","StepMoveToWorkflowComponent_Query","StepMoveToWorkflowComponent_div_2_Template","OCRLanguage","addLanguages","addLanguage","ocrWorkflowStep","languageCodes","lc","StepOcrComponent_Template","StepOcrComponent_Template_app_dual_picklist_currentChange_2_listener","OCRPlusWorkflowStep","StepOcrPlusComponent_Template","Observable","RadioButtonsLayout","RenameDocumentMode","StepRenameDocumentComponent_div_1_div_3_app_field_3_Template_app_field_valueChange_0_listener","renameDocumentStep","newDocumentName","newNameField","StepRenameDocumentComponent_div_1_div_3_app_field_3_Template","formatters","StepRenameDocumentComponent_div_1_Template_app_radio_buttons_group_valueChange_2_listener","onModeChanged","StepRenameDocumentComponent_div_1_div_3_Template","StepRenameDocumentComponent_div_1_div_4_Template","modeOptions","Horizontal","Simple","StepRenameDocumentComponent_Query","StepRenameDocumentComponent_div_1_Template","StepSetDataFieldsComponent_div_2_tr_25_Template_app_field_valueChange_6_listener","item_r4","StepSetDataFieldsComponent_div_2_tr_25_Template_app_field_valueChange_9_listener","StepSetDataFieldsComponent_div_2_tr_25_Template_i_click_12_listener","StepSetDataFieldsComponent_div_2_Template_button_click_3_listener","StepSetDataFieldsComponent_div_2_Template_i_click_22_listener","StepSetDataFieldsComponent_div_2_Template_tbody_cdkDropListDropped_24_listener","StepSetDataFieldsComponent_div_2_tr_25_Template","StepSetDataFieldsComponent_Query","StepSetDataFieldsComponent_div_1_Template","StepSetDataFieldsComponent_div_2_Template","Classification","ContentCriteria","PageSelectionCriteria","ClassificationComponent_app_field_2_Template_app_field_valueChange_0_listener","classification","nameField","ClassificationComponent_div_6_Template_app_field_fieldChanged_1_listener","onSelectContentCriteriaRequired","contentCriteriaRequiredField","contentCriteriaRequired","ClassificationComponent_app_content_criteria_9_Template_app_content_criteria_onDeleteContentCriteria_0_listener","deleteContentCriteria","ClassificationComponent_app_content_criteria_9_Template_app_content_criteria_onUpdateType_0_listener","i_r5","updateContentCriteriaType","contentCriteria_r6","disableContentCriteriaDeletion","contentCriteria","onDeleteClassification","setContentCriteriaRequiredField","contentCriteriaNumbers","_","num","deleteClassification","disableDeletion","addContentCriteria","getDefaultContentCriteria","criteriaTextField","contentCriteriaType","pageSelection","pageRange","onlyIfOnSpecificPages","caseInsensitive","repeats","minimumRepeats","maximumRepeats","indexToDelete","oldCriteria","newCriteriaInitializer","serializable","ClassificationComponent_Template","ClassificationComponent_app_field_2_Template","ClassificationComponent_div_6_Template","ClassificationComponent_app_content_criteria_9_Template","ClassificationComponent_Template_button_click_11_listener","ClassificationComponent_Template_i_click_15_listener","ContentCriteriaType","TextContentCriteria","ContentCriteriaComponent_app_field_3_Template_app_field_fieldChanged_0_listener","updateSelectedFieldType","contentCriteriaTypeField","getTextContentCriteria","classificationIndex","onDeleteContentCriteria","onUpdateType","isTextContentCriteria","ContentCriteriaComponent_Template","ContentCriteriaComponent_app_field_3_Template","ContentCriteriaComponent_app_text_content_criteria_options_5_Template","ContentCriteriaComponent_Template_i_click_7_listener","TextContentCriteriaOptionsComponent_app_field_2_Template_app_field_valueChange_0_listener","textContentCriteria","TextContentCriteriaOptionsComponent_div_5_app_field_2_Template_app_field_fieldChanged_0_listener","updatePageSelection","pageSelectionField","TextContentCriteriaOptionsComponent_div_5_app_field_4_Template_app_field_valueChange_0_listener","pageRangeField","TextContentCriteriaOptionsComponent_div_5_app_field_2_Template","TextContentCriteriaOptionsComponent_div_5_app_field_4_Template","TextContentCriteriaOptionsComponent_div_7_app_field_2_Template_app_field_valueChange_0_listener","updateMinimumRepeats","minimumRepeatsField","TextContentCriteriaOptionsComponent_div_7_app_field_4_Template_app_field_valueChange_0_listener","updateMaximumRepeats","maximumRepeatsField","TextContentCriteriaOptionsComponent_div_7_app_field_2_Template","TextContentCriteriaOptionsComponent_div_7_app_field_4_Template","TextContentCriteriaOptionsComponent_Template","TextContentCriteriaOptionsComponent_app_field_2_Template","TextContentCriteriaOptionsComponent_Template_app_checkbox_valueChange_3_listener","TextContentCriteriaOptionsComponent_Template_app_checkbox_valueChange_4_listener","TextContentCriteriaOptionsComponent_div_5_Template","TextContentCriteriaOptionsComponent_Template_app_checkbox_valueChange_6_listener","TextContentCriteriaOptionsComponent_div_7_Template","Classified","NotClassified","StepSimpleClassifierComponent_div_0_app_field_2_Template_app_field_valueChange_0_listener","simpleClassifierStep","metaDataFieldId","fieldDataField","StepSimpleClassifierComponent_div_0_div_4_Template_app_classification_onDeleteClassification_3_listener","classification_r5","stepHasOneClassification","StepSimpleClassifierComponent_div_0_app_field_2_Template","StepSimpleClassifierComponent_div_0_Template_div_cdkDropListDropped_3_listener","moveItem","StepSimpleClassifierComponent_div_0_div_4_Template","StepSimpleClassifierComponent_div_0_Template_button_click_6_listener","addClassification","classifications","subscription","saveChangesToWorkflow","outcomeType","outcomeFromClassification","requiresConfirmation","initStep","getDefaultClassificationDefinition","generateNewObjectId","perfectScrollbar","update","classificationNameField","StepSimpleClassifierComponent_Query","StepSimpleClassifierComponent_div_0_Template","StepStartComponent_Template","StepStartComponent_Template_app_tab_bar_tabSelected_1_listener","StepStartComponent_div_3_Template","StepStartComponent_div_4_Template","StepSummarizationComponent_app_field_3_Template_app_field_valueChange_0_listener","summarizationStep","maxWords","translator","maxWordsField","StepSummarizationComponent_Template","StepSummarizationComponent_app_field_3_Template","StepSummarizationComponent_Template_app_field_valueChange_6_listener","sourceLanguageCodeField","createLanaguageCodeDataSource","targetLanguageCodeField","includeAutoDetect","translateDocument","supportedLanguageCodes","StepTranslateDocumentComponent_Template","StepTranslateDocumentComponent_Template_app_field_valueChange_3_listener","sourceLanguageCode","StepTranslateDocumentComponent_Template_app_field_valueChange_6_listener","targetLanguageCode","getSteps","BrowserDetectorService","MouseClick","KeyboardActionMapping","Failed","Outcome","Succeeded","CompletedFailedWorkflowStep","CompletedWorkflowStep","StartWorkflowStep","WorkflowStep","WorkflowStepCostType","ActionService","WorkflowEditorComponent_div_13_a_1_Template_a_click_0_listener","openPropertiesModal","WorkflowEditorComponent_div_13_a_2_Template_a_click_0_listener","invokeDeleteKeyAction","WorkflowEditorComponent_div_13_a_1_Template","WorkflowEditorComponent_div_13_a_2_Template","styleProp","contextMenuPosition","cellHasProperties","cellCanBeDeleted","stepPropertiesModalTitle","cancelProperties","stepPropertiesModal_r5","WorkflowEditorComponent_div_20_app_step_move_to_workflow_11_Template_app_step_move_to_workflow_elementLoading_0_listener","showLoading","WorkflowEditorComponent_div_20_app_step_move_to_workflow_11_Template_app_step_move_to_workflow_finishedLoading_0_listener","hideLoading","WorkflowEditorComponent_div_20_app_step_deliver_to_sharepoint365_14_Template_app_step_deliver_to_sharepoint365_startLoading_0_listener","WorkflowEditorComponent_div_20_app_step_deliver_to_sharepoint365_14_Template_app_step_deliver_to_sharepoint365_finishedLoading_0_listener","stepPropertiesModalElement","WorkflowEditorComponent_div_20_app_step_bursting_2_Template","WorkflowEditorComponent_div_20_app_step_ocr_3_Template","WorkflowEditorComponent_div_20_app_step_interactive_4_Template","WorkflowEditorComponent_div_20_app_step_forms_5_Template","WorkflowEditorComponent_div_20_app_step_forms_ai_6_Template","WorkflowEditorComponent_div_20_app_step_delivery_filebound_7_Template","WorkflowEditorComponent_div_20_app_step_start_8_Template","WorkflowEditorComponent_div_20_app_step_imageprocessing_9_Template","WorkflowEditorComponent_div_20_app_step_decision_point_10_Template","WorkflowEditorComponent_div_20_app_step_move_to_workflow_11_Template","WorkflowEditorComponent_div_20_app_step_deliver_to_email_12_Template","WorkflowEditorComponent_div_20_app_step_delivery_to_netdocs_13_Template","WorkflowEditorComponent_div_20_app_step_deliver_to_sharepoint365_14_Template","WorkflowEditorComponent_div_20_app_step_deliver_to_interfax_15_Template","WorkflowEditorComponent_div_20_app_step_export_to_api_16_Template","WorkflowEditorComponent_div_20_app_step_barcode_data_mapping_17_Template","WorkflowEditorComponent_div_20_app_step_deliver_to_s3_18_Template","WorkflowEditorComponent_div_20_app_step_deliver_to_ftp_19_Template","WorkflowEditorComponent_div_20_app_step_set_data_fields_20_Template","WorkflowEditorComponent_div_20_app_step_export_to_webservice_21_Template","WorkflowEditorComponent_div_20_app_step_barcode_cover_page_22_Template","WorkflowEditorComponent_div_20_app_step_detect_signature_23_Template","WorkflowEditorComponent_div_20_app_step_invoice_extraction_24_Template","WorkflowEditorComponent_div_20_app_step_invoice_extraction_25_Template","WorkflowEditorComponent_div_20_app_step_invoice_extraction_26_Template","WorkflowEditorComponent_div_20_app_step_detect_pii_27_Template","WorkflowEditorComponent_div_20_app_step_simple_classifier_28_Template","WorkflowEditorComponent_div_20_app_step_translate_document_29_Template","WorkflowEditorComponent_div_20_app_step_add_template_30_Template","WorkflowEditorComponent_div_20_app_step_summarization_31_Template","WorkflowEditorComponent_div_20_app_step_keyword_extraction_32_Template","WorkflowEditorComponent_div_20_app_step_classifier_33_Template","WorkflowEditorComponent_div_20_app_step_rename_document_34_Template","WorkflowEditorComponent_div_20_app_step_ocrplus_35_Template","WorkflowEditorComponent_div_20_app_step_document_stamp_36_Template","tmp_7_0","cost","actionService","browserDetector","modalsUtilitiesService","_onSave","portMap","vertexMap","min_zoom","max_zoom","graphMinWidth","graphMinHeight","graphMaxWidth","graphMaxHeight","contextMenuActive","showConnectionLabels","stepsCost","onStepsCostLoaded","workflowStepsCost","onStepsCostLoadFailed","invokeAction","DeleteSelectedItem","CtrlDeleteSelectedItem","ZoomIn","zoomIn","ZoomOut","zoomOut","confirmedCellDelete","deleteSelectedCell","cancelCellDelete","getSelectionCells","wf","iws","edge","source","removeCells","createGraphEditor","mxGraphView","optimizeVmlReflows","mxConnectionHandler","movePreviewAway","mxGraphHandler","htmlPreview","moveIconFront","disableContextMenu","graphContainer","model","mxGraphModel","mxGraph","rubberband","mxRubberband","setConnectable","setMultigraph","graphHandler","scrollOnMove","maximumGraphBounds","mxRectangle","minimumGraphSize","keepEdgesInBackground","dblClick","onComponentProperties","convertValueToString","getCellLabel","onClick","baseCellsMoved","cellsMoved","onCellsMoved","ADD","highlight","mxCellHighlight","getState","baseViewStateChanged","viewStateChanged","updateTranslate","setTooltips","handleCustomTooltip","getTooltipForCell","allowLoops","setCellsEditable","setCellsDisconnectable","setHtmlLabels","setAllowDanglingEdges","centerZoom","edgeLabelsMovable","expandedImage","onConnectCell","popupMenuHandler","factoryMethod","menu","addMouseListener","mouseDown","sender","mouseMove","tooltipHandler","sourceState","srcElement","nodeName","tooltipText","clientX","clientY","mouseUp","findWorkflowNameForOutcome","graphLabel","getOutcomeLabel","supportsUIProperties","resetModalData","stepPropertiesModal","getStepCost","stepPropertiesModalCustomClasses","workflowStepClassName","baseCostValue","baseCostType","Constant","activeElement","blur","which","onHandleRightClick","cells","dx","dy","disconnect","constrain","extend","designerPropeties","children","child","edges","removeEdge","getCell","requiredForWorkflow","getCellCount","graphWrapperElement","graphWrapper","elementRect","getBoundingClientRect","pageY","scrollTop","pageX","scrollLeft","loadGraph","loadingGraph","properties","sourceOutcome","targetWorkflowStep","getOutcomeHtmlLabel","edgesToDeleted","getChildVertices","getDefaultParent","styleSheet","getStylesheet","getDefaultEdgeStyle","strokeWidth","edgeStyle","elbow","orthogonal","connectionHandler","createEdgeState","me","createEdge","getStyleString","mxCellState","getCellStyle","getModel","beginUpdate","buildGraphFromSteps","setTranslate","endUpdate","createCellLabel","cellGeometry","mxGeometry","cellStyle","mxCell","setVertex","addCell","setCellStyles","insertVertex","connectable","offset","mxPoint","done","localization","localized","start","insertEdge","colors","isStart","isComplete","isFailed","bgClass","containerClass","isIE","acc","onActivateAction","zoomInTitle","getActionTitle","zoomOutTitle","getWorkflowStepsCosts","zoomInDisabled","getScale","zoomOutDisabled","mxVertexHandler","createSelectionShape","bounds","shape","mxRectangleShape","getSelectionColor","isRounded","arcSize","strokewidth","isDashed","isSelectionDashed","$","preventDefault","selectedStepsCount","showItemDeleteModal","buttonText","confirm","cancel","getChildCells","stepCount","getSelectionCell","getTranslate","isLoading","modalBody","translateResource","keyboardTooltip","getTooltipFor","toggleConnectionLabels","i8","i9","WorkflowEditorComponent_Query","WorkflowEditorComponent_click_HostBindingHandler","resolveDocument","WorkflowEditorComponent_Template_button_click_2_listener","WorkflowEditorComponent_Template_button_click_4_listener","WorkflowEditorComponent_Template_button_click_6_listener","WorkflowEditorComponent_div_13_Template","WorkflowEditorComponent_app_modal_header_16_Template","WorkflowEditorComponent_div_20_Template","WorkflowEditorComponent_div_22_Template","WorkflowEditorComponent_Template_button_click_23_listener","WorkflowEditorComponent_Template_button_click_26_listener","_c4","_c5","scrollbar_r8","tmp_20_0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}