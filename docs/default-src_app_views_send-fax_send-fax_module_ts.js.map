{"version":3,"file":"default-src_app_views_send-fax_send-fax_module_ts.js","mappings":"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","sources":["./src/app/views/send-fax/details-form/details-form.component.ts","./src/app/views/send-fax/details-form/details-form.component.html","./src/app/views/send-fax/fax-preview/fax-preview.component.ts","./src/app/views/send-fax/fax-preview/fax-preview.component.html","./src/app/views/send-fax/fax-success-modal/fax-success-modal.component.ts","./src/app/views/send-fax/fax-success-modal/fax-success-modal.component.html","./src/app/views/send-fax/page-attributes-form/page-attributes-form.component.ts","./src/app/views/send-fax/page-attributes-form/page-attributes-form.component.html","./src/app/views/send-fax/send-fax-routing.module.ts","./src/app/views/send-fax/send-fax.component.ts","./src/app/views/send-fax/send-fax.component.html","./src/app/views/send-fax/send-fax.module.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnDestroy, OnInit, Output, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { NgxSmartModalComponent } from 'ngx-smart-modal';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport {\r\n  ContactList,\r\n  CoverPage,\r\n  CoverPageBodyType,\r\n  CoverPagesDataSource,\r\n  FieldDefinition,\r\n  Individual,\r\n  MetaDataType,\r\n  PrintToService,\r\n  RolePermissions,\r\n  SessionStorageService,\r\n  Strings,\r\n  Substitution,\r\n  recipientDialogState,\r\n} from 'shared-code-lib';\r\nimport { HtmlEditorComponent } from '../../../blocks/components/html-editor/html-editor.component';\r\nimport { Log } from '../../../blocks/core/log';\r\nimport { InterFAXService } from '../../../blocks/services/interfax.service';\r\nimport { SendFaxService } from '../../../blocks/services/send-fax.service';\r\nimport { SpinnerStateService } from '../../../blocks/services/spinner-state.service';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-details-form',\r\n  templateUrl: './details-form.component.html',\r\n  styleUrls: ['./details-form.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class DetailsFormComponent implements OnInit, OnDestroy {\r\n  private editor: HtmlEditorComponent;\r\n  @ViewChild('editor') set content(content: HtmlEditorComponent) {\r\n    if (content) {\r\n      this.editor = content;\r\n      this.formData.hasHtmlValue = content.hasHtmlValue;\r\n    }\r\n  }\r\n\r\n  readonly recipientsField = 'recipients';\r\n  readonly sendfaxModel = 'SendFax';\r\n\r\n  @Input() formData;\r\n  @Input() validateForm: () => void;\r\n  @Output() filesChanged = new EventEmitter();\r\n  @Output() recipientsChanged = new EventEmitter();\r\n  @Input() substitutions: Array<Substitution>;\r\n\r\n  recipient: any = new Individual('', '', '', '');\r\n\r\n  supportedFiles: string;\r\n  uploadSubscription: any;\r\n  initialMessage: string;\r\n\r\n  contactTypes = [\r\n    { value: 'ContactList', name: 'Contact List' },\r\n    { value: 'Individual', name: 'Individual' },\r\n  ];\r\n  groups = [\r\n    { value: 'Interfax', name: 'Interfax' },\r\n    { value: 'Bamba', name: 'Bamba' },\r\n  ];\r\n\r\n  individualRecipientModalInstance: NgxSmartModalComponent;\r\n  interfaxContactListModal: NgxSmartModalComponent;\r\n\r\n  showIndividualRecipientModalBody = false;\r\n\r\n  dialogState = recipientDialogState.New;\r\n  selectedContactLists: Array<ContactList> = [];\r\n  supportContactLists = false;\r\n  contactLists: Array<ContactList> = [];\r\n\r\n  showContactListModal = false;\r\n  editorPlaceHolderText: string;\r\n  fieldMessage: FieldDefinition;\r\n\r\n  individualRecipientModalTitle: string;\r\n\r\n  fieldCoverPage: FieldDefinition;\r\n  defaultCoverPage: CoverPage = null;\r\n\r\n  isFaxMobile = false;\r\n\r\n  refocusFaxRecipients$: Observable<void>;\r\n\r\n  subscriptions = new Subscription();\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private userStateService: UserStateService,\r\n    public spinnerStateService: SpinnerStateService,\r\n    public interFAXService: InterFAXService,\r\n    private sessionStorageService: SessionStorageService,\r\n    private toastr: ToastrService,\r\n    private printToService: PrintToService,\r\n    private sendFaxService: SendFaxService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.refocusFaxRecipients$ = this.sendFaxService.sendFormDiscarded$;\r\n\r\n    if (this.printToService.isPrintToMode && !this.printToService.isInitialized) this.printToService.initialize();\r\n\r\n    this.isFaxMobile = this.sessionStorageService.getIsInterFaxMobile();\r\n    this.subscriptions.add(\r\n      this.sessionStorageService.onIsInterFaxMobileChanged.subscribe((x) => (this.isFaxMobile = x))\r\n    );\r\n\r\n    this.supportedFiles = this.userStateService.userProfile.fax.fileTypes.join(', ').toUpperCase();\r\n\r\n    this.editorPlaceHolderText = this.translate.instant('SendFax-Details-Form.AnyContentEnteredSendAsPage');\r\n\r\n    this.supportContactLists =\r\n      !this.userStateService.hasRolePermission(RolePermissions.INTERFAX_PCI) &&\r\n      this.userStateService.hasRolePermission(RolePermissions.INTERFAX_PERMISSIONS_ALLOWCONTACTLISTS);\r\n\r\n    if (this.supportContactLists) {\r\n      this.subscriptions.add(\r\n        this.interFAXService.getContactLists(\r\n          (cls) => (this.contactLists = cls),\r\n          (err) => (this.contactLists = [])\r\n        )\r\n      );\r\n    }\r\n\r\n    this.initialMessage = '';\r\n\r\n    if (this.formData) {\r\n      this.initialMessage = this.formData.message;\r\n\r\n      this.subscriptions.add(\r\n        this.formData.onFormClear.subscribe(() => {\r\n          this.resetHtmlEditor();\r\n\r\n          if (this.defaultCoverPage) {\r\n            this.formData.coverPageId = this.defaultCoverPage.id;\r\n            this.onCoverPageLoaded(this.defaultCoverPage);\r\n          } else {\r\n            this.clearSelectedCoverPage();\r\n          }\r\n        })\r\n      );\r\n\r\n      if (Strings.notEmpty(this.formData.chipText)) {\r\n        this.formData.recipients.push({\r\n          display: this.formData.chipText,\r\n          value: new Individual('', this.formData.chipText, '', ''),\r\n        });\r\n        this.formData.chipText = '';\r\n      }\r\n    }\r\n\r\n    this.createFields();\r\n    this.loadDefaultCoverPage();\r\n  }\r\n\r\n  createFields = (): void => {\r\n    this.fieldCoverPage = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('SendFax-Details-Form.Cover-Page'),\r\n      placeholder: this.translate.instant('SendFax-Details-Form.Cover-Page'),\r\n      datasource: new CoverPagesDataSource(\r\n        this.interFAXService,\r\n        this.translate,\r\n        this.userStateService.interFAXUsername\r\n      ),\r\n      defaultValue: '0',\r\n    });\r\n\r\n    this.fieldMessage = new FieldDefinition({\r\n      type: MetaDataType.LargeText,\r\n      label: this.translate.instant('SendFax-Details-Form.Message'),\r\n      placeholder: this.translate.instant('SendFax-Details-Form.Message'),\r\n      autosizeMinRows: 10,\r\n      scrollHeight: '192px',\r\n    });\r\n  };\r\n\r\n  loadDefaultCoverPage(): void {\r\n    const defaultCoverPageSettings = this.userStateService.userProfile.fax.advancePageSetting.find(\r\n      (x) => x.name == 'CoverPageId'\r\n    );\r\n\r\n    let defaultCoverPageId = defaultCoverPageSettings?.value\r\n      ? parseInt(defaultCoverPageSettings.value).toString()\r\n      : '0';\r\n\r\n    if (!this.isCoverPageIdValid(defaultCoverPageId)) return;\r\n\r\n    this.interFAXService.getUserCoverPage(\r\n      +defaultCoverPageId,\r\n      (coverPage: CoverPage) => {\r\n        this.defaultCoverPage = coverPage;\r\n        this.onCoverPageLoaded(coverPage);\r\n      },\r\n      () => {\r\n        this.defaultCoverPage = null;\r\n        this.clearSelectedCoverPage();\r\n      }\r\n    );\r\n  }\r\n\r\n  resetHtmlEditor = (): void => {\r\n    this.editor.setValue('');\r\n    this.initialMessage = '';\r\n    this.editor.setFontType(this.editor.getDefaultFontType(), false);\r\n    this.editor.setFontSize(this.editor.getDefaultFontSizePx(), false);\r\n  };\r\n\r\n  textEditorChange = (value: string): void => {\r\n    this.formData.message = value;\r\n    this.validateForm();\r\n  };\r\n\r\n  plainTextEditorChanged = (value: any): void => {\r\n    this.formData.message = value;\r\n    this.validateForm();\r\n  };\r\n\r\n  onFilesChange(): void {\r\n    this.filesChanged.emit();\r\n  }\r\n\r\n  onRecipientsChanged = (recipients: any[]): void => {\r\n    this.formData.recipients = recipients;\r\n    this.recipientsChanged.emit();\r\n  };\r\n\r\n  onCoverPageChanged = (value: string): void => {\r\n    if (!this.isCoverPageIdValid(value)) {\r\n      this.initialMessage = this.formData.message;\r\n      this.clearSelectedCoverPage();\r\n      return;\r\n    }\r\n\r\n    this.interFAXService.getUserCoverPage(+value, this.onCoverPageLoaded, this.onCoverPageLoadFailed);\r\n  };\r\n\r\n  isCoverPageIdValid(value: string): boolean {\r\n    const parsedValue = Number.parseInt(value, 10);\r\n    return !isNaN(parsedValue) && parsedValue > 0;\r\n  }\r\n\r\n  onCoverPageLoaded = (coverPage: CoverPage): void => {\r\n    this.formData.coverPageId = coverPage.id;\r\n    this.formData.coverPage = coverPage;\r\n    this.retainUserInput();\r\n    this.validateForm();\r\n  };\r\n\r\n  onCoverPageLoadFailed = (err: any): void => {\r\n    this.clearSelectedCoverPage();\r\n\r\n    if (err.status == 404) return;\r\n\r\n    Log.error('cover-page.load-cover-page-failed', err);\r\n    this.toastr.error(this.translate.instant('cover-page.load-cover-page-failed'));\r\n  };\r\n\r\n  clearSelectedCoverPage(): void {\r\n    this.formData.coverPage = null;\r\n    this.formData.coverPageId = '0';\r\n    this.validateForm();\r\n  }\r\n\r\n  retainUserInput = (): void => {\r\n    if (this.formData.message.length) {\r\n      if (this.formData.coverPage.coverpageBodyType == CoverPageBodyType.Text)\r\n        this.formData.message = Strings.HtmlToText(this.formData.message);\r\n\r\n      if (this.formData.coverPage.coverpageBodyType == CoverPageBodyType.Html)\r\n        this.initialMessage = this.formData.message;\r\n\r\n      if (this.formData.coverPage.coverpageBodyType == CoverPageBodyType.None)\r\n        this.initialMessage = this.editor.value = this.formData.message = '';\r\n    }\r\n  };\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","<div class=\"upload-form sendfax-form\" [class.fax-mobile]=\"isFaxMobile\">\r\n  <div class=\"2columns-1 fax-form\">\r\n    <div class=\"inner\">\r\n      <div class=\"inner-column-1\" [class.pr-4]=\"!isFaxMobile\">\r\n        <app-fax-recipients\r\n          appAutoFocusFirstInput\r\n          [triggerRefocus]=\"refocusFaxRecipients$\"\r\n          [chipText]=\"formData.chipText\"\r\n          [recipients]=\"formData.recipients\"\r\n          [spinnerService]=\"spinnerStateService\"\r\n          [interfaxService]=\"interFAXService\"\r\n          [validateForm]=\"validateForm\"\r\n          (onChanged)=\"onRecipientsChanged($event)\"\r\n          [title]=\"'SendFax-Details-Form.Recipients'\"\r\n          [showSendAfterContactListsWarningToast]=\"formData?.faxPageSettings?.sendAfter\"\r\n          [contactLists]=\"contactLists\"\r\n        ></app-fax-recipients>\r\n      </div>\r\n      <div class=\"inner-column-2\">\r\n        <ul>\r\n          <li>\r\n            <app-label [localize]=\"true\" [text]=\"'SendFax-Details-Form.Subject'\"></app-label>\r\n            <input\r\n              class=\"form-control\"\r\n              type=\"text\"\r\n              name=\"subject\"\r\n              [(ngModel)]=\"formData.subject\"\r\n              [placeholder]=\"'SendFax-Details-Form.AssignSubject' | translate\"\r\n            />\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"inner\">\r\n      <div class=\"inner-column-1\" [class.pr-4]=\"!isFaxMobile\" [class.cover-page-mobile]=\"isFaxMobile\">\r\n        <ul class=\"m-0\">\r\n          <li class=\"pt-0\">\r\n            <app-field\r\n              [field]=\"fieldCoverPage\"\r\n              [(value)]=\"formData.coverPageId\"\r\n              (fieldChanged)=\"onCoverPageChanged($event)\"\r\n            ></app-field>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"inner-column-2 d-flex align-items-end\">\r\n        <ul class=\"m-0\">\r\n          <li></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"column-1 w-100\">\r\n      <ng-container\r\n        *ngIf=\"!formData.coverPage || !(formData.coverPage.type === 1 && formData.coverPage.coverpageBodyType === 1)\"\r\n      >\r\n        <app-label [localize]=\"true\" [text]=\"'SendFax-Details-Form.Message'\"></app-label>\r\n        <app-html-editor\r\n          #editor\r\n          [initialValue]=\"initialMessage\"\r\n          (valueChange)=\"textEditorChange($event)\"\r\n          [placeholder]=\"editorPlaceHolderText\"\r\n          [substitutions]=\"substitutions\"\r\n          [showFontType]=\"!isFaxMobile\"\r\n          [showFontSize]=\"!isFaxMobile\"\r\n          [showClearFormatting]=\"!isFaxMobile\"\r\n          [showJustifyText]=\"!isFaxMobile\"\r\n          [showOrderedList]=\"!isFaxMobile\"\r\n          [showDecreaseIndent]=\"!isFaxMobile\"\r\n          [showIncreaseIndent]=\"!isFaxMobile\"\r\n          [showImage]=\"!isFaxMobile\"\r\n          [showBarcode]=\"!isFaxMobile\"\r\n          [showTableOptions]=\"!isFaxMobile\"\r\n          [showUndoAndRedo]=\"isFaxMobile\"\r\n          [isMobile]=\"isFaxMobile\"\r\n          [height]=\"isFaxMobile ? '200px' : '250px'\"\r\n          [disabled]=\"\r\n            formData.coverPage?.type === 2 || (formData.coverPage?.type === 1 && !formData.coverPage?.coverpageBodyType)\r\n          \"\r\n        ></app-html-editor>\r\n      </ng-container>\r\n\r\n      <app-field\r\n        [field]=\"fieldMessage\"\r\n        [(value)]=\"formData.message\"\r\n        *ngIf=\"formData.coverPage && formData.coverPage.type === 1 && formData.coverPage.coverpageBodyType === 1\"\r\n        (blur)=\"plainTextEditorChanged($event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n  <div\r\n    appFileUpload\r\n    class=\"column-3\"\r\n    [supportedFiles]=\"supportedFiles\"\r\n    [isRequired]=\"false\"\r\n    [formData]=\"formData\"\r\n    [field]=\"'attachedItems'\"\r\n    [validateForm]=\"validateForm\"\r\n    [uploadControlLabel]=\"'SendFax-Details-Form.AddFilesToFax'\"\r\n    (filesChanged)=\"onFilesChange()\"\r\n  ></div>\r\n</div>\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Input,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar-portable';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport {\r\n  Contact,\r\n  ContactList,\r\n  ContactListRecipient,\r\n  FaxForm,\r\n  FieldDefinition,\r\n  IContact,\r\n  IFaxPreview,\r\n  Key,\r\n  MetaDataType,\r\n  Pagination,\r\n  Recipient,\r\n  Substitution,\r\n} from 'shared-code-lib';\r\nimport { Log } from '../../../blocks/core/log';\r\nimport { ContentPostService } from '../../../blocks/services/content-post.service';\r\nimport { ErrorsService } from '../../../blocks/services/errors.service';\r\nimport { InterFAXService } from '../../../blocks/services/interfax.service';\r\nimport { SpinnerStateService } from '../../../blocks/services/spinner-state.service';\r\n\r\ndeclare const $: any;\r\n@Component({\r\n  selector: 'app-fax-preview',\r\n  templateUrl: './fax-preview.component.html',\r\n  styleUrls: ['./fax-preview.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class FaxPreviewComponent implements OnInit, OnChanges, AfterViewInit {\r\n  @Input() faxForm: FaxForm;\r\n  @Input() substitutions: Array<Substitution>;\r\n  @Output() onClose = new EventEmitter();\r\n\r\n  @ViewChild('contactInfo', { static: true }) contactInfo: ElementRef;\r\n  @ViewChild('scrollbar', { static: true })\r\n  scrollbar?: PerfectScrollbarDirective;\r\n\r\n  recipients: Contact[] = [];\r\n  fieldSubmitSample: FieldDefinition;\r\n  sampleFaxNumber: string;\r\n  errors = [];\r\n  currentPage: number = -1;\r\n  pageSize: number = 1;\r\n  dialogHeight: number = 300;\r\n  currentContact: Contact;\r\n  contactHeadersWidth: number = 100;\r\n  faxPreview: IFaxPreview = {\r\n    prefixClassName: '',\r\n    previewHTML: '',\r\n  };\r\n\r\n  @HostListener('document:keyup', ['$event'])\r\n  handleKeyUp(event: KeyboardEvent) {\r\n    if (event.key === Key.Escape) this.close();\r\n  }\r\n\r\n  constructor(\r\n    private interfaxService: InterFAXService,\r\n    private toastr: ToastrService,\r\n    private translate: TranslateService,\r\n    private contentPost: ContentPostService,\r\n    private spinner: SpinnerStateService,\r\n    private errorService: ErrorsService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.dialogHeight = document.body.clientHeight - 450;\r\n    this.fieldSubmitSample = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: '',\r\n      placeholder: this.translate.instant('SendFax-Details-Form.EnterSampleFaxNumber'),\r\n      required: false,\r\n    });\r\n    this.reset();\r\n\r\n    this.loadPage(this.currentPage);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.prepareRecipients();\r\n    this.reset();\r\n\r\n    this.loadPage(this.currentPage);\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.calculateContactHeadersWidth();\r\n  }\r\n\r\n  reset = (): void => {\r\n    this.currentPage = 1;\r\n    this.sampleFaxNumber = '';\r\n    this.faxPreview = {\r\n      prefixClassName: '',\r\n      previewHTML: '',\r\n    };\r\n    this.currentContact = null;\r\n    this.errors = [];\r\n  };\r\n\r\n  prepareRecipients = (): void => {\r\n    this.recipients = [];\r\n    if (!this.faxForm || !this.faxForm.recipients) return;\r\n\r\n    this.faxForm.recipients.forEach((x) => {\r\n      if ((x as any).value instanceof ContactListRecipient) {\r\n        this.spinner.show(this.translate.instant('Common.Loading'), document.body);\r\n        this.interfaxService.getContactList(\r\n          ((x as any).value as ContactListRecipient).contactListId,\r\n          this.onContactListLoaded,\r\n          this.onContactListFailed\r\n        );\r\n      } else if (x instanceof Recipient) {\r\n        this.recipients.push(\r\n          new Contact({\r\n            name: (x as any).name,\r\n            faxNumber: (x as any).faxnumber,\r\n            company: (x as any).company,\r\n            phoneNumber: (x as any).phoneNumber,\r\n          } as IContact)\r\n        );\r\n      } else if ((x as any).value instanceof Recipient) {\r\n        this.recipients.push(\r\n          new Contact({\r\n            name: (x as any).value.name,\r\n            faxNumber: (x as any).value.faxnumber,\r\n            company: (x as any).value.company,\r\n            phoneNumber: (x as any).value.phoneNumber,\r\n          } as IContact)\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  onContactListLoaded = (list: ContactList): void => {\r\n    list.members.forEach((x) => this.recipients.push(x));\r\n    this.spinner.hide('Common.Loading');\r\n\r\n    if (this.currentContact == null) this.loadPage(this.currentPage);\r\n  };\r\n\r\n  onContactListFailed = (err): void => {\r\n    Log.error('FaxPreviewComponent.onContactListFailed', err);\r\n    this.toastr.error(this.translate.instant('SendFax-Details-Form.ContactListLoadFailed'));\r\n    this.spinner.hide();\r\n  };\r\n\r\n  getCurrentContact = (): Contact => {\r\n    if (\r\n      !this.recipients ||\r\n      this.recipients.length == 0 ||\r\n      this.currentPage < 1 ||\r\n      this.currentPage > this.recipients.length\r\n    )\r\n      return null;\r\n\r\n    return this.recipients[this.currentPage - 1];\r\n  };\r\n\r\n  calculateContactHeadersWidth = (): void => {\r\n    this.contactHeadersWidth = 20;\r\n    const headers = this.contactInfo.nativeElement.getElementsByClassName('contact-header');\r\n    for (let i = 0; i < headers.length; i++) {\r\n      this.contactHeadersWidth = Math.max(this.contactHeadersWidth, $(headers[i]).width() + 30);\r\n    }\r\n  };\r\n\r\n  onSampleFaxNumberChanged = (value): void => {\r\n    this.sampleFaxNumber = value;\r\n  };\r\n\r\n  onLoadPage = (pagination: Pagination): void => {\r\n    this.loadPage(pagination.pageNumber);\r\n  };\r\n\r\n  loadPage = (page: number): void => {\r\n    this.currentPage = page;\r\n    this.faxPreview = {\r\n      prefixClassName: '',\r\n      previewHTML: '',\r\n    };\r\n    this.currentContact = this.getCurrentContact();\r\n    if (!this.currentContact) return;\r\n\r\n    this.calculateContactHeadersWidth();\r\n    this.scrollbar.scrollToTop();\r\n\r\n    this.spinner.show(this.translate.instant('SendFax-Details-Form.prepare-preview'), document.documentElement);\r\n\r\n    this.contentPost.GetFaxPreview(\r\n      this.getFaxFormForCurrentRecipient(\r\n        this.currentContact.name,\r\n        this.currentContact.faxNumber,\r\n        this.currentContact.company,\r\n        this.currentContact.phoneNumber\r\n      ),\r\n      this.previewLoaded,\r\n      this.previewFailed\r\n    );\r\n  };\r\n\r\n  previewLoaded = (result: IFaxPreview): void => {\r\n    this.faxPreview = result;\r\n    this.spinner.hide();\r\n  };\r\n\r\n  previewFailed = (err: any): void => {\r\n    this.spinner.hide();\r\n    Log.error('FaxPreviewComponent.previewFailed', err);\r\n    this.errorService.showErrorsModal('SendFax-Details-Form.fax-preview-failed', 'SendFax-Details-Form.fax-preview');\r\n    this.close();\r\n  };\r\n\r\n  getFaxFormForCurrentRecipient = (name: string, faxNumber: string, company: string, phoneNumber: string): FaxForm => {\r\n    const sampleDetailForm = new FaxForm(this.faxForm);\r\n    sampleDetailForm.message = sampleDetailForm.message.replace(/«Person»/g, '%%Fax.Name%%');\r\n    sampleDetailForm.message = sampleDetailForm.message.replace(/«Fax»/g, '%%Fax.FaxNumber%%');\r\n    sampleDetailForm.message = sampleDetailForm.message.replace(/«Company»/g, '%%Fax.Company%%');\r\n    sampleDetailForm.message = sampleDetailForm.message.replace(/«Voice»/g, '%%Fax.PhoneNumber%%');\r\n    (sampleDetailForm.recipients as any) = [\r\n      {\r\n        display: faxNumber,\r\n        value: { id: 1, name: name, faxNumber: faxNumber, company: company, phoneNumber: phoneNumber },\r\n      },\r\n    ];\r\n\r\n    return sampleDetailForm;\r\n  };\r\n\r\n  sendSampleFax = (): void => {\r\n    this.errors = [];\r\n    this.contentPost.sendFax(\r\n      document.documentElement,\r\n      this.getFaxFormForCurrentRecipient(\r\n        this.currentContact.name,\r\n        this.sampleFaxNumber,\r\n        this.currentContact.company,\r\n        this.currentContact.phoneNumber\r\n      ),\r\n      this.onSampleFaxSent,\r\n      this.onSampleFaxFailed\r\n    );\r\n  };\r\n\r\n  onSampleFaxSent = (result: any): void => {\r\n    this.spinner.hide();\r\n\r\n    if (result.succeeded) {\r\n      this.toastr.success(this.translate.instant('SendFax-Details-Form.SampleFaxSent'));\r\n      this.close();\r\n      return;\r\n    }\r\n    if (result.errors) {\r\n      result.errors.forEach((error) => {\r\n        this.errors.push(error);\r\n      });\r\n    } else {\r\n      this.onSampleFaxFailed();\r\n    }\r\n  };\r\n\r\n  onSampleFaxFailed = (err?: any): void => {\r\n    Log.error('FaxPreviewComponent.onSampleFaxFailed', err);\r\n    this.errors.push(this.translate.instant('SendFax-Details-Form.SampleFaxFailed'));\r\n  };\r\n\r\n  close = (): void => {\r\n    this.onClose.emit();\r\n  };\r\n}\r\n","<app-modal-header [title]=\"'SendFax-Details-Form.FaxPreview' | translate\" [closeIconHandler]=\"close\"></app-modal-header>\r\n<div class=\"modal-body fax-preview pt-4\">\r\n  <div class=\"import-errors\" [perfectScrollbar]=\"{}\">\r\n    <app-errors *ngIf=\"errors.length\" [errors]=\"errors\"></app-errors>\r\n  </div>\r\n  <div class=\"modal-content-wrapper\">\r\n    <div class=\"d-flex mb-5 contact-info-wrapper\" #contactInfo>\r\n      <div class=\"d-flex justify-content-start flex-column contact-info pl-0 col-8\">\r\n        <table>\r\n          <tr>\r\n            <th [width]=\"contactHeadersWidth\">\r\n              <span class=\"contact-header\">{{ 'SendFax-Details-Form.Name' | translate }}:</span>\r\n            </th>\r\n            <td *ngIf=\"currentContact\">\r\n              <div class=\"contact-value text-truncate\">{{ currentContact.name }}</div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <th [width]=\"contactHeadersWidth\">\r\n              <span class=\"contact-header\">{{ 'SendFax-Details-Form.Company' | translate }}:</span>\r\n            </th>\r\n            <td *ngIf=\"currentContact\">\r\n              <div class=\"contact-value text-truncate\">{{ currentContact.company }}</div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <th [width]=\"contactHeadersWidth\">\r\n              <span class=\"contact-header\">{{ 'SendFax-Details-Form.FaxNumber' | translate }}:</span>\r\n            </th>\r\n            <td *ngIf=\"currentContact\">\r\n              <div class=\"contact-value text-truncate\">{{ currentContact.faxNumber }}</div>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <th [width]=\"contactHeadersWidth\">\r\n              <span class=\"contact-header\">{{ 'SendFax-Details-Form.Phone' | translate }}:</span>\r\n            </th>\r\n            <td *ngIf=\"currentContact\">\r\n              <div class=\"contact-value text-truncate\">{{ currentContact.phoneNumber }}</div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <div class=\"d-flex ml-auto align-items-center flex-row-reverse col-4\">\r\n        <pagination\r\n          [currentPage]=\"currentPage\"\r\n          [itemsTotal]=\"recipients.length\"\r\n          [pageSize]=\"pageSize\"\r\n          [itemsPageCount]=\"currentPage\"\r\n          [showItemsPageCount]=\"false\"\r\n          [canReload]=\"false\"\r\n          [inputBlurDelay]=\"150\"\r\n          (onLoadPage)=\"onLoadPage($event)\"\r\n        >\r\n        </pagination>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"{{ 'message-body ' + faxPreview.prefixClassName }}\"\r\n      [perfectScrollbar]=\"{}\"\r\n      #scrollbar=\"ngxPerfectScrollbar\"\r\n    >\r\n      <div\r\n        class=\"message-body-inner\"\r\n        [style.height.px]=\"dialogHeight\"\r\n        [innerHTML]=\"faxPreview.previewHTML | safeHtml\"\r\n        [perfectScrollbar]=\"{}\"\r\n        #scrollbar=\"ngxPerfectScrollbar\"\r\n      ></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal-footer d-flex\">\r\n  <div class=\"col-4 p-0\">\r\n    <app-field\r\n      [field]=\"fieldSubmitSample\"\r\n      [(value)]=\"sampleFaxNumber\"\r\n      [disabled]=\"!faxPreview.previewHTML\"\r\n      (inputChange)=\"onSampleFaxNumberChanged($event)\"\r\n      [maxLength]=\"20\"\r\n    ></app-field>\r\n  </div>\r\n\r\n  <button\r\n    class=\"btn btn-minwidth btn-secondary mr-auto\"\r\n    (click)=\"sendSampleFax()\"\r\n    [disabled]=\"!sampleFaxNumber.trim() || !faxPreview.previewHTML\"\r\n  >\r\n    {{ 'SendFax-Details-Form.SubmitSample' | translate }}\r\n  </button>\r\n  <button class=\"btn btn-minwidth btn-primary\" (click)=\"close()\">\r\n    {{ 'Common.Close' | translate }}\r\n  </button>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { NgxSmartModalService } from 'ngx-smart-modal';\r\n\r\nimport { PrintToService, SessionStorageService } from 'shared-code-lib';\r\n\r\n@Component({\r\n  selector: 'app-fax-success-modal',\r\n  templateUrl: './fax-success-modal.component.html',\r\n  styleUrls: ['./fax-success-modal.component.scss'],\r\n})\r\nexport class FaxSuccessModalComponent implements OnInit {\r\n  constructor(\r\n    private printToService: PrintToService,\r\n    public ngxSmartModalService: NgxSmartModalService,\r\n    private sessionStorageService: SessionStorageService\r\n  ) {}\r\n\r\n  isFaxMobile = false;\r\n\r\n  ngOnInit() {\r\n    this.isFaxMobile = this.sessionStorageService.getIsInterFaxMobile();\r\n  }\r\n\r\n  closeSuccessModal = () => {\r\n    this.printToService.closeAppIfPrintTo();\r\n    this.ngxSmartModalService.getModal('sendFaxSuccessModal').close();\r\n  };\r\n}\r\n","<ngx-smart-modal\r\n  #sendFaxSuccessModal\r\n  [closable]=\"false\"\r\n  [escapable]=\"true\"\r\n  [dismissable]=\"false\"\r\n  identifier=\"sendFaxSuccessModal\"\r\n>\r\n  <app-modal-header\r\n    [closeIconHandler]=\"closeSuccessModal\"\r\n    title=\"{{ 'SendFax.HeadText' | translate }}\"\r\n  ></app-modal-header>\r\n\r\n  <div class=\"modal-body\" [class.fax-mobile]=\"isFaxMobile\">\r\n    <br />\r\n    <p style=\"font-size: medium\" id=\"success-modal-text\">\r\n      <img id=\"check-icon\" src=\"assets/img/check-icon.svg\" />\r\n      {{ 'SendFax.SubmittedSuccessfully' | translate }}\r\n    </p>\r\n  </div>\r\n  <div class=\"modal-footer\">\r\n    <button class=\"btn btn-primary btn-minwidth\" id=\"modal-btn-close\" (click)=\"closeSuccessModal()\">\r\n      {{ 'Common.Close' | translate }}\r\n    </button>\r\n  </div>\r\n</ngx-smart-modal>\r\n","import { Component, OnInit, Input, Output, EventEmitter, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport {\r\n  FieldDefinition,\r\n  IFieldOptions,\r\n  MetaDataType,\r\n  FixedDataSource,\r\n  MetaDataValidity,\r\n  DateTime,\r\n  FaxPageSettings,\r\n  NumberOfAttampts,\r\n  PageOrientation,\r\n  PageSize,\r\n  RenderingOptimization,\r\n  Resolution,\r\n  RolePermissions,\r\n} from 'shared-code-lib';\r\nimport { Email } from '../../../blocks/core/email';\r\n\r\n@Component({\r\n  selector: 'app-page-attributes-form',\r\n  templateUrl: './page-attributes-form.component.html',\r\n  styleUrls: ['./page-attributes-form.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class PageAttributesFormComponent implements OnInit {\r\n  _faxPageSettings: FaxPageSettings;\r\n\r\n  @Input() set faxPageSettings(value) {\r\n    this._faxPageSettings = value;\r\n    this.initializeSendAfter();\r\n    this.validate();\r\n    this.faxPageSettingsChanged.emit(this.faxPageSettings);\r\n  }\r\n\r\n  get faxPageSettings(): FaxPageSettings {\r\n    return this._faxPageSettings;\r\n  }\r\n\r\n  @Input() showSendAfterContactListsWarning: boolean = true;\r\n  @Output() faxPageSettingsChanged = new EventEmitter<FaxPageSettings>();\r\n\r\n  saveAsDefault = false;\r\n\r\n  sendAfterDay = '';\r\n  sendAfterHour = '';\r\n  sendAfterMinute = '';\r\n\r\n  fieldFaxCSID: FieldDefinition;\r\n  fieldNumberofAttempts: FieldDefinition;\r\n  fieldPageOrientation: FieldDefinition;\r\n  fieldPageSize: FieldDefinition;\r\n  fieldRenderingOptimization: FieldDefinition;\r\n  fieldResolution: FieldDefinition;\r\n  fieldSendAfterDay: FieldDefinition;\r\n  fieldSendAfterHour: FieldDefinition;\r\n  fieldSendAfterMinute: FieldDefinition;\r\n  fieldFeedbackEmail: FieldDefinition;\r\n  fieldFeedbackEmailValidity: MetaDataValidity;\r\n  showSendAfter: boolean;\r\n\r\n  constructor(private translate: TranslateService, private userState: UserStateService) { }\r\n\r\n  ngOnInit() {\r\n    this.showSendAfter = this.userState.hasRolePermission(RolePermissions.INTERFAX_CAN_USE_SENDAFTER);\r\n\r\n    this.createFields();\r\n    this.initializeSendAfter();\r\n  }\r\n\r\n  createFields() {\r\n    this.fieldFaxCSID = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('SendFax-Attributes-Form.FaxCSID'),\r\n      placeholder: this.translate.instant('SendFax-Attributes-Form.FaxCSID-Placeholder'),\r\n      required: false,\r\n    });\r\n\r\n    this.fieldNumberofAttempts = this.createListField(NumberOfAttampts, 'NumberOfAttempts');\r\n\r\n    this.fieldPageOrientation = this.createListField(PageOrientation, 'PageOrientation', true);\r\n\r\n    this.fieldPageSize = this.createListField(PageSize, 'PageSize', true);\r\n\r\n    this.fieldRenderingOptimization = this.createListField(RenderingOptimization, 'RenderingOptimization', true);\r\n\r\n    this.fieldResolution = this.createListField(Resolution, 'Resolution', true);\r\n\r\n    this.fieldFeedbackEmail = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('SendFax-Attributes-Form.FeedbackEmail'),\r\n      placeholder: '',\r\n      required: false,\r\n    });\r\n\r\n    const sendAfterDayOptions = new Array<IFieldOptions>();\r\n    for (var day = 0; day < 30; day++) {\r\n      const date = new Date();\r\n      date.setDate(date.getDate() + day);\r\n\r\n      sendAfterDayOptions.push({ name: this.getSendAfterDayText(day, date), value: this.pad(day) });\r\n    }\r\n\r\n    const sendAfterHourOptions = new Array<IFieldOptions>();\r\n    for (var hour = 0; hour < 24; hour++) {\r\n      sendAfterHourOptions.push({ name: this.pad(hour), value: hour.toString() });\r\n    }\r\n\r\n    const sendAfterMinuteOptions = new Array<IFieldOptions>();\r\n    for (var minute = 0; minute < 60; minute++) {\r\n      sendAfterMinuteOptions.push({ name: this.pad(minute), value: minute.toString() });\r\n    }\r\n\r\n    this.fieldSendAfterDay = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant('SendFax-Attributes-Form.send-after-day'),\r\n      placeholder: '',\r\n      required: true,\r\n      datasource: new FixedDataSource(sendAfterDayOptions),\r\n    });\r\n\r\n    this.fieldSendAfterHour = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: 'hour',\r\n      placeholder: '',\r\n      required: true,\r\n      hideLabel: true,\r\n      datasource: new FixedDataSource(sendAfterHourOptions),\r\n    });\r\n\r\n    this.fieldSendAfterMinute = new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: 'minute',\r\n      placeholder: '',\r\n      required: true,\r\n      hideLabel: true,\r\n      datasource: new FixedDataSource(sendAfterMinuteOptions),\r\n    });\r\n\r\n    const { feedbackEmail } = this.faxPageSettings;\r\n    if (!feedbackEmail || Email.isValid(feedbackEmail)) {\r\n      this.fieldFeedbackEmailValidity = null;\r\n    } else {\r\n      this.fieldFeedbackEmailValidity = MetaDataValidity.notValid;\r\n    }\r\n  }\r\n\r\n  getSendAfterDayText = (day: number, date: Date): string => {\r\n    if (day == 0) return this.translate.instant('SendFax-Attributes-Form.send-after-today');\r\n    if (day == 1) return this.translate.instant('SendFax-Attributes-Form.send-after-tomorrow');\r\n\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  pad = (n: number): string => {\r\n    if (n > 9) return n.toString();\r\n    return '0' + n.toString();\r\n  };\r\n\r\n  createListField(specificationName: string, labelText: string, sort: boolean = false): FieldDefinition {\r\n    return new FieldDefinition({\r\n      type: MetaDataType.List,\r\n      label: this.translate.instant(`SendFax-Attributes-Form.${labelText}`),\r\n      datasource: new FixedDataSource(this.getSettingOptions(specificationName), sort),\r\n      required: true,\r\n    });\r\n  }\r\n\r\n  canShowNotificationEmail = (): boolean => {\r\n    return !this.userState.userProfile.useDefaultReplyAddress;\r\n  };\r\n\r\n  getSettingOptions(specificationItemName: string): IFieldOptions[] {\r\n    const options = new Array<IFieldOptions>();\r\n\r\n    const specificationItem = this.userState.userProfile.fax.advancePageSetting.find(\r\n      (item) => item.name === specificationItemName\r\n    );\r\n    if (!specificationItem) return options;\r\n\r\n    specificationItem['optionalValues'].forEach((element) => {\r\n      options.push({ name: this.getResourcedOptionName(element), value: element });\r\n    });\r\n\r\n    const defaultValue = specificationItem['value'];\r\n\r\n    if (!options.some((option) => option.value == defaultValue)) {\r\n      options.push({ name: this.getResourcedOptionName(defaultValue), value: defaultValue });\r\n    }\r\n\r\n    return options;\r\n  }\r\n\r\n  getResourcedOptionName(optionName): string {\r\n    if (Number(optionName)) return optionName;\r\n    const translationKey = `SendFax-Attributes-Form.Option-Value-${optionName}`;\r\n    const translation = this.translate.instant(translationKey);\r\n    if (translation === translationKey) return optionName;\r\n    return translation;\r\n  }\r\n\r\n  initializeSendAfter = (): void => {\r\n    let day = 0;\r\n\r\n    if (\r\n      this.faxPageSettings &&\r\n      this.faxPageSettings.sendAfterDateTime &&\r\n      this.faxPageSettings.sendAfterDateTime > new Date()\r\n    ) {\r\n      day = DateTime.daysBetween(this.faxPageSettings.sendAfterDateTime, new Date());\r\n      this.sendAfterDay = this.pad(day);\r\n      this.sendAfterHour = this.faxPageSettings.sendAfterDateTime.getHours().toString();\r\n      this.sendAfterMinute = this.faxPageSettings.sendAfterDateTime.getMinutes().toString();\r\n      return;\r\n    }\r\n\r\n    const date = new Date();\r\n    if (date.getHours() > 17) day = 1;\r\n\r\n    this.sendAfterDay = this.pad(day);\r\n    this.sendAfterHour = '17';\r\n    this.sendAfterMinute = '0';\r\n  };\r\n\r\n  onSendAfter = (b: boolean): void => {\r\n    this.faxPageSettings.sendAfter = b;\r\n    this.onSettingsChanged();\r\n  };\r\n\r\n  validate = (): void => {\r\n    this.fieldFeedbackEmailValidity =\r\n      !this.faxPageSettings.feedbackEmail || Email.isValid(this.faxPageSettings.feedbackEmail)\r\n        ? null\r\n        : MetaDataValidity.notValid;\r\n  };\r\n\r\n  onFieldEmailChange(value: string): void {\r\n    this.validate();\r\n    this.onSettingsChanged();\r\n  }\r\n\r\n  onSettingsChanged() {\r\n    const days = parseInt(this.sendAfterDay);\r\n\r\n    const date = new Date();\r\n    date.setDate(date.getDate() + days);\r\n\r\n    const year = date.getFullYear();\r\n    const month = date.getMonth();\r\n    const day = date.getDate();\r\n    const hour = parseInt(this.sendAfterHour);\r\n    const minute = parseInt(this.sendAfterMinute);\r\n\r\n    this.faxPageSettings.sendAfterDateTime = new Date(year, month, day, hour, minute);\r\n    this.faxPageSettingsChanged.emit(this.faxPageSettings);\r\n  }\r\n}\r\n","<div class=\"page-attributes-form container-fluid\">\r\n  <div class=\"row\">\r\n    <div class=\"col-4\">\r\n      <app-field\r\n        [field]=\"fieldFaxCSID\"\r\n        [(value)]=\"faxPageSettings.faxCSID\"\r\n        (fieldChanged)=\"onSettingsChanged()\"\r\n        [maxLength]=\"20\"\r\n      ></app-field>\r\n    </div>\r\n    <div class=\"col-4\">\r\n      <app-field\r\n        [field]=\"fieldNumberofAttempts\"\r\n        [(value)]=\"faxPageSettings.numberOfAttempts\"\r\n        (fieldChanged)=\"onSettingsChanged()\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-4\">\r\n      <app-field\r\n        [field]=\"fieldPageOrientation\"\r\n        [(value)]=\"faxPageSettings.pageOrientation\"\r\n        (fieldChanged)=\"onSettingsChanged()\"\r\n      ></app-field>\r\n    </div>\r\n    <div class=\"col-4\">\r\n      <app-field\r\n        [field]=\"fieldPageSize\"\r\n        [(value)]=\"faxPageSettings.pageSize\"\r\n        (fieldChanged)=\"onSettingsChanged()\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-4\">\r\n      <app-field\r\n        [field]=\"fieldRenderingOptimization\"\r\n        [(value)]=\"faxPageSettings.renderingOptimization\"\r\n        (fieldChanged)=\"onSettingsChanged()\"\r\n      ></app-field>\r\n    </div>\r\n    <div class=\"col-4\">\r\n      <app-field\r\n        [field]=\"fieldResolution\"\r\n        [(value)]=\"faxPageSettings.resolution\"\r\n        (fieldChanged)=\"onSettingsChanged()\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\" *ngIf=\"canShowNotificationEmail()\">\r\n    <div class=\"col-4\">\r\n      <app-field\r\n        [field]=\"fieldFeedbackEmail\"\r\n        [(value)]=\"faxPageSettings.feedbackEmail\"\r\n        [validity]=\"fieldFeedbackEmailValidity\"\r\n        (fieldChanged)=\"onFieldEmailChange($event)\"\r\n      ></app-field>\r\n    </div>\r\n  </div>\r\n  <ng-container *ngIf=\"showSendAfter\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-auto\">\r\n        <app-checkbox\r\n          [value]=\"faxPageSettings.sendAfter\"\r\n          (valueChange)=\"onSendAfter($event)\"\r\n          [label]=\"\r\n            showSendAfterContactListsWarning\r\n              ? 'SendFax-Attributes-Form.send-after-contact-lists'\r\n              : 'SendFax-Attributes-Form.send-after'\r\n          \"\r\n        ></app-checkbox>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row indented\">\r\n      <div class=\"col-3\">\r\n        <app-field\r\n          [field]=\"fieldSendAfterDay\"\r\n          [(value)]=\"sendAfterDay\"\r\n          (fieldChanged)=\"onSettingsChanged()\"\r\n          [disabled]=\"!faxPageSettings.sendAfter\"\r\n        ></app-field>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row indented\">\r\n      <div class=\"col-3\">\r\n        <app-label [localize]=\"true\" [required]=\"true\" [text]=\"'SendFax-Attributes-Form.send-after-time'\"></app-label>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row indented\">\r\n      <div class=\"col-3\">\r\n        <app-field\r\n          [field]=\"fieldSendAfterHour\"\r\n          [(value)]=\"sendAfterHour\"\r\n          (fieldChanged)=\"onSettingsChanged()\"\r\n          [disabled]=\"!faxPageSettings.sendAfter\"\r\n        ></app-field>\r\n      </div>\r\n      <div class=\"col-3\">\r\n        <app-field\r\n          [field]=\"fieldSendAfterMinute\"\r\n          [(value)]=\"sendAfterMinute\"\r\n          (fieldChanged)=\"onSettingsChanged()\"\r\n          [disabled]=\"!faxPageSettings.sendAfter\"\r\n        ></app-field>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <app-checkbox\r\n        name=\"saveAsDefault\"\r\n        label=\"SendFax-Attributes-Form.UseSettingsAsDefault\"\r\n        [(value)]=\"faxPageSettings.saveAsDefault\"\r\n        (valueChange)=\"onSettingsChanged()\"\r\n      ></app-checkbox>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { SendFaxComponent } from './send-fax.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SendFaxComponent,\r\n    pathMatch: 'full',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SendFaxRoutingModule {}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { PerfectScrollbarDirective } from 'ngx-perfect-scrollbar-portable';\r\nimport { NgxSmartModalService } from 'ngx-smart-modal';\r\nimport { Subscription } from 'rxjs';\r\nimport {\r\n  CoverPageBodyType,\r\n  CoverPageType,\r\n  DetailsView,\r\n  FaxForm,\r\n  FaxPageSettings,\r\n  PageAttributesView,\r\n  PrintToService,\r\n  Recipient,\r\n  SendFaxRecipientType,\r\n  Substitution,\r\n  Substitutions,\r\n  Tab,\r\n} from 'shared-code-lib';\r\nimport { PageAttributesFormComponent } from '../../../../src/app/views/send-fax/page-attributes-form/page-attributes-form.component';\r\nimport { ErrorsService } from '../../blocks/services/errors.service';\r\nimport { Control } from '../../blocks/services/models';\r\nimport { SendFaxService } from '../../blocks/services/send-fax.service';\r\nimport { SpinnerStateService } from '../../blocks/services/spinner-state.service';\r\nimport { UserStateService } from '../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-send-fax',\r\n  templateUrl: './send-fax.component.html',\r\n  styleUrls: ['./send-fax.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class SendFaxComponent implements OnInit, OnDestroy, AfterViewInit {\r\n  PageAttributesView = PageAttributesView;\r\n  DetailsView = DetailsView;\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private userState: UserStateService,\r\n    private errorsService: ErrorsService,\r\n    private spinnerState: SpinnerStateService,\r\n    private printToService: PrintToService,\r\n    public ngxSmartModalService: NgxSmartModalService,\r\n    private cdr: ChangeDetectorRef,\r\n    private sendFaxService: SendFaxService\r\n  ) {}\r\n  @ViewChild(PageAttributesFormComponent) optionsTabPage: PageAttributesFormComponent;\r\n  @ViewChild('scrollbar', { static: true })\r\n  scrollbar?: PerfectScrollbarDirective;\r\n  activeTab = DetailsView;\r\n  tabs = new Array<Tab>();\r\n\r\n  detailForm = new FaxForm({});\r\n  previewDetailForm: FaxForm;\r\n  faxUserProfileLoaded = false;\r\n  saveButton: Control;\r\n  discardButton: Control;\r\n  previewButton: Control;\r\n  separator: Control;\r\n  rightControls: Array<Control> = [];\r\n  substitutions: Array<Substitution> = [];\r\n\r\n  subscription = new Subscription();\r\n\r\n  ngOnInit() {\r\n    this.createTabs();\r\n    this.createRightButtons();\r\n    this.substitutions = new Substitutions(this.userState).getSendFaxSubstitutions();\r\n\r\n    this.subscription.add(this.userState.userProfileChanged.subscribe(this.sendFaxService.userProfileChangedHandler));\r\n    this.subscription.add(\r\n      this.sendFaxService.faxUserProfileLoaded$.subscribe((loaded) => (this.faxUserProfileLoaded = loaded))\r\n    );\r\n    this.subscription.add(this.sendFaxService.detailForm$.subscribe((detailForm) => (this.detailForm = detailForm)));\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.sendFaxService.loadSendFaxProfile(\r\n      document.querySelector('.sendfax-form'),\r\n      this.onSuccessLoadingProfile,\r\n      this.onFailToLoadProfile\r\n    );\r\n  }\r\n\r\n  onFailToLoadProfile = (): void => {\r\n    this.spinnerState.hide();\r\n    this.errorsService.showErrorsModal(['SendFax.InterfaxAuthorizationProblem'], 'SendFax.HeadText');\r\n  };\r\n\r\n  onSuccessLoadingProfile = (): void => {\r\n    this.spinnerState.hide();\r\n  };\r\n\r\n  createRightButtons = (): void => {\r\n    this.saveButton = this.sendFaxService.createSendFaxControl(\r\n      '.sendfax-form',\r\n      this.invalidFeedbackEmailHandler,\r\n      this.optionsTabPageHandler,\r\n      this.updateScrollbarHandler\r\n    );\r\n\r\n    this.discardButton = this.sendFaxService.createDiscardControl(\r\n      this.optionsTabPageHandler,\r\n      this.updateScrollbarHandler\r\n    );\r\n\r\n    this.separator = new Control(() => {}, '', '', '', '', 'vertical-separator', false);\r\n    this.separator.isVisible = false;\r\n\r\n    this.rightControls.push(this.saveButton);\r\n    this.rightControls.push(this.discardButton);\r\n    this.rightControls.push(this.separator);\r\n    if (!this.printToService.isPrintToMode) {\r\n      this.previewButton = new Control(\r\n        this.preview,\r\n        'Preview',\r\n        'btn btn-light',\r\n        '',\r\n        'Preview',\r\n        'btn',\r\n        false,\r\n        false,\r\n        null,\r\n        false\r\n      );\r\n      this.rightControls.push(this.previewButton);\r\n\r\n      this.previewButton.setTranslation(this.translateService.instant('Common.Preview'));\r\n    }\r\n  };\r\n\r\n  invalidFeedbackEmailHandler = () => this.activateTab(PageAttributesView);\r\n\r\n  optionsTabPageHandler = () => {\r\n    if (!this.optionsTabPage) return;\r\n\r\n    this.optionsTabPage.initializeSendAfter();\r\n    this.validateDetailForm();\r\n  };\r\n\r\n  updateScrollbarHandler = () => this.scrollbar.update();\r\n\r\n  createTabs = (): void => {\r\n    this.tabs.push(new Tab(DetailsView, this.translateService.instant('SendFax.Details')));\r\n    this.tabs.push(new Tab(PageAttributesView, this.translateService.instant('SendFax.Options')));\r\n  };\r\n\r\n  activateTab = (view) => {\r\n    if (document.activeElement) (document.activeElement as any).blur();\r\n\r\n    this.activeTab = view;\r\n    this.scrollbar.update();\r\n    this.cdr.detectChanges();\r\n  };\r\n\r\n  updateFaxPageSettings(settings: FaxPageSettings) {\r\n    this.detailForm.faxPageSettings = settings;\r\n    this.sendFaxService.setDetailForm(this.detailForm);\r\n  }\r\n\r\n  validateDetailForm = () => {\r\n    const isValid = this.sendFaxService.isValidDetailForm();\r\n    this.saveButton.disableControl(!isValid);\r\n\r\n    if (!this.previewButton) return;\r\n    this.separator.isVisible = this.previewButton.isVisible = this.canPreview();\r\n    this.previewButton.isDisabled = !this.detailForm.recipients || this.detailForm.recipients.length == 0;\r\n  };\r\n\r\n  canPreview = (): boolean => {\r\n    if (this.substitutions.find((x) => x.hasSubstitutionMarkers(this.detailForm.message)) != null) return true;\r\n    if (\r\n      this.detailForm?.coverPage != undefined &&\r\n      this.substitutions.find((x) => x.hasSubstitutionMarkers(this.detailForm?.coverPage?.htmlBody)) != null\r\n    )\r\n      return true;\r\n\r\n    if (this.detailForm.coverPageId <= 0) return false;\r\n    if (this.detailForm?.coverPage?.type == undefined) return false;\r\n    return !(\r\n      this.detailForm?.coverPage?.type == CoverPageType.Html &&\r\n      this.detailForm?.coverPage?.coverpageBodyType == CoverPageBodyType.None\r\n    );\r\n  };\r\n\r\n  preview = (): void => {\r\n    this.previewDetailForm = new FaxForm(this.detailForm);\r\n    this.ngxSmartModalService.getModal('faxPreviewModal').open();\r\n  };\r\n\r\n  closePreviewModal = (): void => {\r\n    this.ngxSmartModalService.getModal('faxPreviewModal').close();\r\n    this.previewDetailForm = null;\r\n  };\r\n\r\n  onFilesChange(): void {\r\n    this.scrollbar.update();\r\n  }\r\n\r\n  onRecipientChanged(): void {\r\n    if (this.previewDetailForm) this.previewDetailForm = new FaxForm(this.detailForm);\r\n  }\r\n\r\n  showSendAfterContactListsWarning = (): boolean => {\r\n    return this.detailForm.recipients\r\n      .filter((r) => (r as any).value instanceof Recipient)\r\n      .map((r) => (r as any).value as Recipient)\r\n      .some((r) => r.type == SendFaxRecipientType.ContactList);\r\n  };\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription.unsubscribe();\r\n    this.sendFaxService.resetSendFaxState();\r\n  }\r\n}\r\n","<div\r\n  class=\"send-fax-component sendfax-form h-100\"\r\n  [class.disabled]=\"!faxUserProfileLoaded\"\r\n  [autoUpdatePerfectScroll]=\"scrollbar\"\r\n>\r\n  <div class=\"product-items project-list-dashboard-body pi-component h-100 d-flex flex-column\">\r\n    <app-secondary-header\r\n      [headerText]=\"'SendFax.HeadText' | translate\"\r\n      [rightControls]=\"rightControls\"\r\n    ></app-secondary-header>\r\n\r\n    <div class=\"container-fluid overflow-visible col px-2 my-2\">\r\n      <div class=\"project-list-grid-panel h-100 d-flex flex-column\">\r\n        <div class=\"tab-menu d-flex flex-column h-100\">\r\n          <div class=\"tabs-content\">\r\n            <app-tab-bar [tabs]=\"tabs\" [activeTab]=\"activeTab\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n          </div>\r\n\r\n          <div\r\n            class=\"tab-content min-h-fit-content px-1 col d-flex\"\r\n            fxFlex=\"auto\"\r\n            [perfectScrollbar]=\"{}\"\r\n            #scrollbar=\"ngxPerfectScrollbar\"\r\n          >\r\n            <div\r\n              class=\"w-100\"\r\n              id=\"home\"\r\n              *ngIf=\"faxUserProfileLoaded\"\r\n              [hidden]=\"activeTab === PageAttributesView\"\r\n              [class.show]=\"activeTab === DetailsView\"\r\n            >\r\n              <app-details-form\r\n                [validateForm]=\"validateDetailForm\"\r\n                [formData]=\"detailForm\"\r\n                (filesChanged)=\"onFilesChange()\"\r\n                [substitutions]=\"substitutions\"\r\n                (recipientsChanged)=\"onRecipientChanged()\"\r\n              ></app-details-form>\r\n            </div>\r\n            <div\r\n              class=\"w-100\"\r\n              id=\"menu1\"\r\n              *ngIf=\"faxUserProfileLoaded\"\r\n              [hidden]=\"activeTab === DetailsView\"\r\n              [class.show]=\"activeTab === PageAttributesView\"\r\n            >\r\n              <app-page-attributes-form\r\n                [faxPageSettings]=\"detailForm.faxPageSettings\"\r\n                [showSendAfterContactListsWarning]=\"showSendAfterContactListsWarning()\"\r\n                (faxPageSettingsChanged)=\"updateFaxPageSettings($event)\"\r\n              ></app-page-attributes-form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<ngx-smart-modal\r\n  #faxPreviewModal\r\n  [closable]=\"false\"\r\n  [escapable]=\"true\"\r\n  [dismissable]=\"false\"\r\n  customClass=\"fax-preview-modal\"\r\n  identifier=\"faxPreviewModal\"\r\n>\r\n  <app-fax-preview\r\n    *ngIf=\"previewDetailForm\"\r\n    [faxForm]=\"previewDetailForm\"\r\n    [substitutions]=\"substitutions\"\r\n    (onClose)=\"closePreviewModal()\"\r\n  ></app-fax-preview>\r\n</ngx-smart-modal>\r\n\r\n<app-fax-success-modal></app-fax-success-modal>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { TagInputModule } from 'ngx-chips';\r\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar-portable';\r\nimport { NgxSmartModalModule } from 'ngx-smart-modal';\r\n\r\nimport { BoxModule } from '../../blocks/box/box.module';\r\nimport { ComponentsModule } from '../../blocks/components/components.module';\r\nimport { ModalsModule } from '../../blocks/modals/modals.module';\r\nimport { PageModule } from '../../blocks/page/page.module';\r\nimport { DetailsFormComponent } from './details-form/details-form.component';\r\nimport { FaxPreviewComponent } from './fax-preview/fax-preview.component';\r\nimport { FaxSuccessModalComponent } from './fax-success-modal/fax-success-modal.component';\r\nimport { PageAttributesFormComponent } from './page-attributes-form/page-attributes-form.component';\r\nimport { SendFaxRoutingModule } from './send-fax-routing.module';\r\nimport { SendFaxComponent } from './send-fax.component';\r\n\r\nimport {\r\n  AutoFocusFirstInputModule,\r\n  AutoUpdatePerfectScrollModule,\r\n  CheckboxModule,\r\n  FaxSubmissionUiModule,\r\n  FieldsModule,\r\n  LabelModule,\r\n  ModalHeaderModule,\r\n  OpenDropdownModule,\r\n  PaginationModule,\r\n  PipesModule,\r\n  TabBarModule,\r\n} from 'shared-code-lib';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    BoxModule,\r\n    TranslateModule,\r\n    TagInputModule,\r\n    PageModule,\r\n    FormsModule,\r\n    NgxSmartModalModule,\r\n    PerfectScrollbarModule,\r\n    SendFaxRoutingModule,\r\n    FieldsModule,\r\n    AutoFocusFirstInputModule,\r\n    LabelModule,\r\n    CheckboxModule,\r\n    ModalHeaderModule,\r\n    ComponentsModule,\r\n    TabBarModule,\r\n    OpenDropdownModule,\r\n    ModalsModule,\r\n    FaxSubmissionUiModule,\r\n    AutoUpdatePerfectScrollModule,\r\n    PaginationModule,\r\n    PipesModule,\r\n  ],\r\n  declarations: [\r\n    SendFaxComponent,\r\n    DetailsFormComponent,\r\n    PageAttributesFormComponent,\r\n    FaxPreviewComponent,\r\n    FaxSuccessModalComponent,\r\n  ],\r\n  exports: [DetailsFormComponent, FaxSuccessModalComponent],\r\n})\r\nexport class SendFaxModule {}\r\n"],"names":["EventEmitter","TranslateService","ToastrService","Subscription","CoverPageBodyType","CoverPagesDataSource","FieldDefinition","Individual","MetaDataType","PrintToService","RolePermissions","SessionStorageService","Strings","recipientDialogState","HtmlEditorComponent","Log","InterFAXService","SendFaxService","SpinnerStateService","UserStateService","i0","ɵɵelementContainerStart","ɵɵelement","ɵɵelementStart","ɵɵlistener","DetailsFormComponent_ng_container_20_Template_app_html_editor_valueChange_2_listener","$event","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","textEditorChange","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","initialMessage","editorPlaceHolderText","substitutions","isFaxMobile","formData","coverPage","type","coverpageBodyType","ɵɵtwoWayListener","DetailsFormComponent_app_field_21_Template_app_field_valueChange_0_listener","_r3","ɵɵtwoWayBindingSet","message","DetailsFormComponent_app_field_21_Template_app_field_blur_0_listener","plainTextEditorChanged","fieldMessage","ɵɵtwoWayProperty","DetailsFormComponent","content","editor","hasHtmlValue","constructor","translate","userStateService","spinnerStateService","interFAXService","sessionStorageService","toastr","printToService","sendFaxService","recipientsField","sendfaxModel","filesChanged","recipientsChanged","recipient","contactTypes","value","name","groups","showIndividualRecipientModalBody","dialogState","New","selectedContactLists","supportContactLists","contactLists","showContactListModal","defaultCoverPage","subscriptions","createFields","fieldCoverPage","List","label","instant","placeholder","datasource","interFAXUsername","defaultValue","LargeText","autosizeMinRows","scrollHeight","resetHtmlEditor","setValue","setFontType","getDefaultFontType","setFontSize","getDefaultFontSizePx","validateForm","onRecipientsChanged","recipients","emit","onCoverPageChanged","isCoverPageIdValid","clearSelectedCoverPage","getUserCoverPage","onCoverPageLoaded","onCoverPageLoadFailed","coverPageId","id","retainUserInput","err","status","error","length","Text","HtmlToText","Html","None","ngOnInit","refocusFaxRecipients$","sendFormDiscarded$","isPrintToMode","isInitialized","initialize","getIsInterFaxMobile","add","onIsInterFaxMobileChanged","subscribe","x","supportedFiles","userProfile","fax","fileTypes","join","toUpperCase","hasRolePermission","INTERFAX_PCI","INTERFAX_PERMISSIONS_ALLOWCONTACTLISTS","getContactLists","cls","onFormClear","notEmpty","chipText","push","display","loadDefaultCoverPage","defaultCoverPageSettings","advancePageSetting","find","defaultCoverPageId","parseInt","toString","onFilesChange","parsedValue","Number","isNaN","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","i1","i2","i3","i4","i5","i6","i7","selectors","viewQuery","DetailsFormComponent_Query","rf","ctx","DetailsFormComponent_Template_app_fax_recipients_onChanged_4_listener","DetailsFormComponent_Template_input_ngModelChange_9_listener","subject","DetailsFormComponent_Template_app_field_valueChange_15_listener","DetailsFormComponent_Template_app_field_fieldChanged_15_listener","ɵɵtemplate","DetailsFormComponent_ng_container_20_Template","DetailsFormComponent_app_field_21_Template","DetailsFormComponent_Template_div_filesChanged_22_listener","ɵɵclassProp","faxPageSettings","sendAfter","ɵɵpipeBind1","ElementRef","SimpleChanges","PerfectScrollbarDirective","Contact","ContactListRecipient","FaxForm","Key","Recipient","ContentPostService","ErrorsService","errors","ɵɵtext","ɵɵtextInterpolate","currentContact","company","faxNumber","phoneNumber","FaxPreviewComponent","handleKeyUp","event","key","Escape","close","interfaxService","contentPost","spinner","errorService","onClose","currentPage","pageSize","dialogHeight","contactHeadersWidth","faxPreview","prefixClassName","previewHTML","reset","sampleFaxNumber","prepareRecipients","faxForm","forEach","show","document","body","getContactList","contactListId","onContactListLoaded","onContactListFailed","faxnumber","list","members","hide","loadPage","getCurrentContact","calculateContactHeadersWidth","headers","contactInfo","nativeElement","getElementsByClassName","i","Math","max","$","width","onSampleFaxNumberChanged","onLoadPage","pagination","pageNumber","page","scrollbar","scrollToTop","documentElement","GetFaxPreview","getFaxFormForCurrentRecipient","previewLoaded","previewFailed","result","showErrorsModal","sampleDetailForm","replace","sendSampleFax","sendFax","onSampleFaxSent","onSampleFaxFailed","succeeded","success","clientHeight","fieldSubmitSample","required","ngOnChanges","changes","ngAfterViewInit","FaxPreviewComponent_Query","FaxPreviewComponent_keyup_HostBindingHandler","ɵɵresolveDocument","FaxPreviewComponent_app_errors_4_Template","FaxPreviewComponent_td_15_Template","FaxPreviewComponent_td_21_Template","FaxPreviewComponent_td_27_Template","FaxPreviewComponent_td_33_Template","FaxPreviewComponent_Template_pagination_onLoadPage_35_listener","FaxPreviewComponent_Template_app_field_valueChange_43_listener","FaxPreviewComponent_Template_app_field_inputChange_43_listener","FaxPreviewComponent_Template_button_click_44_listener","FaxPreviewComponent_Template_button_click_47_listener","ɵɵpureFunction0","_c2","ɵɵtextInterpolate1","ɵɵclassMap","ɵɵstyleProp","ɵɵsanitizeHtml","trim","NgxSmartModalService","FaxSuccessModalComponent","ngxSmartModalService","closeSuccessModal","closeAppIfPrintTo","getModal","decls","vars","consts","template","FaxSuccessModalComponent_Template","FaxSuccessModalComponent_Template_button_click_11_listener","ɵɵpropertyInterpolate","FixedDataSource","MetaDataValidity","DateTime","FaxPageSettings","NumberOfAttampts","PageOrientation","PageSize","RenderingOptimization","Resolution","Email","PageAttributesFormComponent_div_16_Template_app_field_valueChange_2_listener","feedbackEmail","PageAttributesFormComponent_div_16_Template_app_field_fieldChanged_2_listener","onFieldEmailChange","fieldFeedbackEmail","fieldFeedbackEmailValidity","PageAttributesFormComponent_ng_container_17_Template_app_checkbox_valueChange_3_listener","onSendAfter","PageAttributesFormComponent_ng_container_17_Template_app_field_valueChange_6_listener","sendAfterDay","PageAttributesFormComponent_ng_container_17_Template_app_field_fieldChanged_6_listener","onSettingsChanged","PageAttributesFormComponent_ng_container_17_Template_app_field_valueChange_12_listener","sendAfterHour","PageAttributesFormComponent_ng_container_17_Template_app_field_fieldChanged_12_listener","PageAttributesFormComponent_ng_container_17_Template_app_field_valueChange_14_listener","sendAfterMinute","PageAttributesFormComponent_ng_container_17_Template_app_field_fieldChanged_14_listener","showSendAfterContactListsWarning","fieldSendAfterDay","fieldSendAfterHour","fieldSendAfterMinute","PageAttributesFormComponent","_faxPageSettings","initializeSendAfter","validate","faxPageSettingsChanged","userState","saveAsDefault","getSendAfterDayText","day","date","toLocaleDateString","pad","n","canShowNotificationEmail","useDefaultReplyAddress","sendAfterDateTime","Date","daysBetween","getHours","getMinutes","b","isValid","notValid","showSendAfter","INTERFAX_CAN_USE_SENDAFTER","fieldFaxCSID","fieldNumberofAttempts","createListField","fieldPageOrientation","fieldPageSize","fieldRenderingOptimization","fieldResolution","sendAfterDayOptions","Array","setDate","getDate","sendAfterHourOptions","hour","sendAfterMinuteOptions","minute","hideLabel","specificationName","labelText","sort","getSettingOptions","specificationItemName","options","specificationItem","item","element","getResourcedOptionName","some","option","optionName","translationKey","translation","days","year","getFullYear","month","getMonth","inputs","outputs","PageAttributesFormComponent_Template","PageAttributesFormComponent_Template_app_field_valueChange_3_listener","faxCSID","PageAttributesFormComponent_Template_app_field_fieldChanged_3_listener","PageAttributesFormComponent_Template_app_field_valueChange_5_listener","numberOfAttempts","PageAttributesFormComponent_Template_app_field_fieldChanged_5_listener","PageAttributesFormComponent_Template_app_field_valueChange_8_listener","pageOrientation","PageAttributesFormComponent_Template_app_field_fieldChanged_8_listener","PageAttributesFormComponent_Template_app_field_valueChange_10_listener","PageAttributesFormComponent_Template_app_field_fieldChanged_10_listener","PageAttributesFormComponent_Template_app_field_valueChange_13_listener","renderingOptimization","PageAttributesFormComponent_Template_app_field_fieldChanged_13_listener","PageAttributesFormComponent_Template_app_field_valueChange_15_listener","resolution","PageAttributesFormComponent_Template_app_field_fieldChanged_15_listener","PageAttributesFormComponent_div_16_Template","PageAttributesFormComponent_ng_container_17_Template","PageAttributesFormComponent_Template_app_checkbox_valueChange_20_listener","RouterModule","SendFaxComponent","routes","path","component","pathMatch","SendFaxRoutingModule","forChild","imports","exports","ChangeDetectorRef","CoverPageType","DetailsView","PageAttributesView","SendFaxRecipientType","Substitutions","Tab","Control","SendFaxComponent_div_11_Template_app_details_form_filesChanged_1_listener","_r2","ctx_r2","SendFaxComponent_div_11_Template_app_details_form_recipientsChanged_1_listener","onRecipientChanged","activeTab","validateDetailForm","detailForm","SendFaxComponent_div_12_Template_app_page_attributes_form_faxPageSettingsChanged_1_listener","_r4","updateFaxPageSettings","SendFaxComponent_app_fax_preview_15_Template_app_fax_preview_onClose_0_listener","_r5","closePreviewModal","previewDetailForm","translateService","errorsService","spinnerState","cdr","tabs","faxUserProfileLoaded","rightControls","subscription","onFailToLoadProfile","onSuccessLoadingProfile","createRightButtons","saveButton","createSendFaxControl","invalidFeedbackEmailHandler","optionsTabPageHandler","updateScrollbarHandler","discardButton","createDiscardControl","separator","isVisible","previewButton","preview","setTranslation","activateTab","optionsTabPage","update","createTabs","view","activeElement","blur","detectChanges","isValidDetailForm","disableControl","canPreview","isDisabled","hasSubstitutionMarkers","undefined","htmlBody","open","filter","r","map","ContactList","getSendFaxSubstitutions","userProfileChanged","userProfileChangedHandler","faxUserProfileLoaded$","loaded","detailForm$","loadSendFaxProfile","querySelector","settings","setDetailForm","resetSendFaxState","SendFaxComponent_Query","SendFaxComponent_Template_app_tab_bar_tabSelected_8_listener","SendFaxComponent_div_11_Template","SendFaxComponent_div_12_Template","SendFaxComponent_app_fax_preview_15_Template","scrollbar_r6","_c1","CommonModule","FormsModule","TranslateModule","TagInputModule","PerfectScrollbarModule","NgxSmartModalModule","BoxModule","ComponentsModule","ModalsModule","PageModule","AutoFocusFirstInputModule","AutoUpdatePerfectScrollModule","CheckboxModule","FaxSubmissionUiModule","FieldsModule","LabelModule","ModalHeaderModule","OpenDropdownModule","PaginationModule","PipesModule","TabBarModule","SendFaxModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}