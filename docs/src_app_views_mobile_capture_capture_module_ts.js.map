{"version":3,"file":"src_app_views_mobile_capture_capture_module_ts.js","mappings":"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","sources":["./src/app/blocks/services/modals-utilities.service.ts","./src/app/views/mobile/capture/capture-routing.module.ts","./src/app/views/mobile/capture/capture.component.ts","./src/app/views/mobile/capture/capture.component.html","./src/app/views/mobile/capture/capture.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { NgxSmartModalService } from 'ngx-smart-modal';\r\nimport { ModalInstance } from 'ngx-smart-modal/lib/services/modal-instance';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ModalsUtilitiesService {\r\n  constructor(private ngxSmartModalService: NgxSmartModalService) {}\r\n\r\n  isAnyModalOpened() {\r\n    const openedModals = this.ngxSmartModalService.getOpenedModals();\r\n    if (openedModals.length === 0) return false;\r\n    return openedModals.length > 1 || !this.onlyHiddenScanToModal(openedModals);\r\n  }\r\n\r\n  private onlyHiddenScanToModal(openedModals: ModalInstance[]) {\r\n    return (\r\n      openedModals.length === 1 &&\r\n      openedModals[0]?.id === 'ScanToModal' &&\r\n      !!document.querySelector('.scan-to-modal-hidden')\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CaptureComponent } from './capture.component';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: CaptureComponent, pathMatch: 'full' },\r\n  {\r\n    path: 'accuroute',\r\n    component: CaptureComponent,\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: 'hpcr',\r\n    component: CaptureComponent,\r\n    pathMatch: 'full',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class CaptureRoutingModule {}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { NgxSmartModalComponent, NgxSmartModalService } from 'ngx-smart-modal';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Subscription } from 'rxjs';\r\n\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport {\r\n  AccuRouteFax,\r\n  DelayService,\r\n  FaxMobileActionData,\r\n  FieldDefinition,\r\n  IMetaDataDefinition,\r\n  MetaDataCollection,\r\n  MetaDataDefinition,\r\n  MetaDataType,\r\n  MetaDataValidity,\r\n  MobileAction,\r\n  MobileActionData,\r\n  MobileActionType,\r\n  OverallValidityStatusChangedData,\r\n  ScanToFolderMobileAction,\r\n  ScanToFolderMobileActionData,\r\n  SendFaxMobileAction,\r\n  ValidationInProgressChangedData,\r\n} from 'shared-code-lib';\r\nimport { ICapture } from '../../../blocks/components/document-scanner/models/scanner';\r\nimport { DateTimeFormat } from '../../../blocks/core/dateTimeFormat';\r\nimport { BackButtonService } from '../../../blocks/services/back-button.service';\r\nimport { HydraApiService } from '../../../blocks/services/hydra-api.service';\r\nimport { ModalsUtilitiesService } from '../../../blocks/services/modals-utilities.service';\r\nimport { ApiResults, SpinnerState } from '../../../blocks/services/models';\r\nimport { SpinnerStateService } from '../../../blocks/services/spinner-state.service';\r\nimport { UserStateService } from '../../../blocks/services/user-state.service';\r\nimport { DocumentCaptureService } from '../../document-capture/capture-services';\r\nimport { ApiService } from './../../../blocks/services/api.service';\r\nimport { InterFAXService } from './../../../blocks/services/interfax.service';\r\n\r\n@Component({\r\n  selector: 'app-capture',\r\n  templateUrl: './capture.component.html',\r\n  styleUrls: ['./capture.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class CaptureComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @ViewChild('actionsContainer', { static: true })\r\n  actionsContainer: ElementRef;\r\n  @ViewChild('metaDataContent', { static: true })\r\n  metaDataContent: ElementRef;\r\n\r\n  actionsDiv: any;\r\n  availableUserActions = new Array<MobileAction>();\r\n  confirmationModal: NgxSmartModalComponent;\r\n\r\n  captures: ICapture[] = [];\r\n  pages: File[] = [];\r\n\r\n  dismissActionModal: NgxSmartModalComponent;\r\n\r\n  userMobileOS: string = '';\r\n\r\n  documentNameField: FieldDefinition;\r\n  documentName: string;\r\n  documentsSizeInMegaBytes: number;\r\n\r\n  selectedAction: MobileAction;\r\n  submitErrorText: string = '';\r\n  submitSuccessModal: NgxSmartModalComponent;\r\n  submitErrorModal: NgxSmartModalComponent;\r\n  faxUIModal: NgxSmartModalComponent;\r\n  metaDataModal: NgxSmartModalComponent;\r\n  scanToFolderModal: NgxSmartModalComponent;\r\n\r\n  loadingText: string;\r\n  autoCloseTimerInSeconds: number;\r\n  autoCloseTimeString: string;\r\n  successModalInterval: any;\r\n\r\n  faxFormSubmitted: boolean = false;\r\n  isFaxFormValid: boolean = false;\r\n  showFailureHeader: boolean;\r\n\r\n  private readonly delayPeriod: number = 300;\r\n  loading: boolean = false;\r\n  submitSuccess: boolean = false;\r\n\r\n  overallValidityStatus: MetaDataValidity = MetaDataValidity.unknown;\r\n  metaDataCollection: MetaDataCollection = new MetaDataCollection();\r\n  validationInprogress: boolean = false;\r\n  waitForValidation: boolean = false;\r\n\r\n  actionData: MobileActionData;\r\n  metadata: Array<IMetaDataDefinition> = [];\r\n  showCameraCapture: boolean = true;\r\n\r\n  qrCodeMode: boolean = false;\r\n  invalidQRCodeActionId: boolean;\r\n\r\n  subscriptions: Subscription = new Subscription();\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private ngxSmartModalService: NgxSmartModalService,\r\n    public userStateService: UserStateService,\r\n    private toastr: ToastrService,\r\n    private cdr: ChangeDetectorRef,\r\n    private delay: DelayService,\r\n    public spinnerState: SpinnerStateService,\r\n    public hydraApi: HydraApiService,\r\n    private backButtonService: BackButtonService,\r\n    public capture: DocumentCaptureService,\r\n    private route: ActivatedRoute,\r\n    public interfaxService: InterFAXService,\r\n    public apiService: ApiService,\r\n    private modalsUtilitiesService: ModalsUtilitiesService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.metadata = this.userStateService.user.metaData;\r\n    this.qrCodeMode = this.route.snapshot.queryParamMap.get('qrCode') == 'true';\r\n\r\n    this.subscriptions.add(\r\n      this.spinnerState.visibilityChanged.subscribe((spinnerConfiguration) => {\r\n        this.loading = spinnerConfiguration.visible;\r\n      })\r\n    );\r\n\r\n    this.backButtonService.preventBackButton(this.handleBackButton);\r\n\r\n    this.giveMobileCssClassToBody();\r\n\r\n    this.documentNameField = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      placeholder: this.translateService.instant('mobile-capture.document-name-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.userMobileOS = this.getUserMobileOS();\r\n\r\n    this.getAvailableActionsForUser();\r\n    this.documentName = `capture-${DateTimeFormat.getCompactDateTime(new Date()).replace(/:/g, '_')}`;\r\n\r\n    this.resetTimout();\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.dismissActionModal = this.ngxSmartModalService.get('dismissActionModal');\r\n    this.actionsDiv = this.actionsContainer.nativeElement;\r\n    this.submitSuccessModal = this.ngxSmartModalService.get('submitSuccessModal');\r\n    this.submitErrorModal = this.ngxSmartModalService.get('submitErrorModal');\r\n    this.faxUIModal = this.ngxSmartModalService.get('faxUIModal');\r\n    this.metaDataModal = this.ngxSmartModalService.get('metaDataModal');\r\n    this.scanToFolderModal = this.ngxSmartModalService.get('scanToFolderModal');\r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  handleBackButton = () => {\r\n    if (this.showCameraCapture || this.loading) return;\r\n    if (this.modalsUtilitiesService.isAnyModalOpened()) {\r\n      this.closeOpenedModals();\r\n      return;\r\n    }\r\n    this.goBackHandler();\r\n  };\r\n\r\n  closeOpenedModals() {\r\n    let modals = this.ngxSmartModalService.getOpenedModals();\r\n\r\n    modals.forEach((modalItem) => {\r\n      if (modalItem.modal.identifier === 'submitSuccessModal') this.dismissSuccessModalHandler();\r\n      if (modalItem.modal.identifier === 'submitErrorModal') this.dismissSubmitErrorModalHandler();\r\n      if (modalItem.modal.identifier === 'faxUIModal') this.cancelSubmittingFax();\r\n      if (modalItem.modal.identifier === 'dismissActionModal') this.closeDismissModal();\r\n      if (modalItem.modal.identifier === 'scanToFolderModal') this.scanToFolderModal.close();\r\n      if (modalItem.modal.identifier === 'metaDataModal') {\r\n        let lookupModal = this.ngxSmartModalService.get('lookupFieldSearchModal');\r\n        lookupModal.close();\r\n        this.closeAndResetMetaDataModal();\r\n      }\r\n    });\r\n\r\n    this.spinnerState.hide();\r\n  }\r\n\r\n  giveMobileCssClassToBody() {\r\n    let body = document.getElementsByTagName('body')[0];\r\n    body.className += ' mobile';\r\n  }\r\n\r\n  getUserMobileOS() {\r\n    var userAgent = navigator.userAgent || navigator.vendor || (window as any).opera;\r\n\r\n    //we can ignore it if not required\r\n    if (/windows phone/i.test(userAgent)) {\r\n      return 'Windows Phone';\r\n    }\r\n\r\n    if (/android/i.test(userAgent)) {\r\n      return 'Android';\r\n    }\r\n\r\n    if (/iPad|iPhone|iPod/.test(userAgent) && !(window as any).MSStream) {\r\n      return 'iOS';\r\n    }\r\n\r\n    return 'unknown';\r\n  }\r\n\r\n  getAvailableActionsForUser() {\r\n    for (const product of this.userStateService.user.products) {\r\n      for (const mobileAction of product.mobileActions) {\r\n        if (mobileAction.type == MobileActionType.Route) continue;\r\n\r\n        this.availableUserActions.push(mobileAction);\r\n      }\r\n    }\r\n  }\r\n\r\n  goBackHandler() {\r\n    this.showCameraCapture = true;\r\n    clearInterval(this.successModalInterval);\r\n  }\r\n\r\n  dismissHandler() {\r\n    this.clearCaptures();\r\n    this.goBackHandler();\r\n    this.closeDismissModal();\r\n  }\r\n\r\n  goBackAndClearCaptures() {\r\n    this.clearCaptures();\r\n    this.goBackHandler();\r\n  }\r\n\r\n  clearCaptures() {\r\n    this.captures = [];\r\n    this.pages = [];\r\n    this.documentsSizeInMegaBytes = 0;\r\n    this.documentName = `capture-${DateTimeFormat.getCompactDateTime(new Date()).replace(/:/g, '_')}`;\r\n    this.submitErrorText = '';\r\n  }\r\n\r\n  onDone(captures: ICapture[]) {\r\n    this.captures = captures;\r\n    this.pages = this.convertCapturesToFiles(this.captures);\r\n    this.documentsSizeInMegaBytes = this.calculateDocumentsSize(this.pages);\r\n    this.showCameraCapture = false;\r\n\r\n    if (this.qrCodeMode) this.qrCodeAutoSubmission();\r\n  }\r\n\r\n  onCloseScanner() {\r\n    this.showCameraCapture = false;\r\n  }\r\n\r\n  convertCapturesToFiles(captures: ICapture[]): File[] {\r\n    return captures.map((c) => this.dataURIToFile(c.capturedImage.split(',')[1]));\r\n  }\r\n\r\n  calculateDocumentsSize(pages): number {\r\n    let totalSizeInBytes = 0;\r\n\r\n    pages.forEach((page) => {\r\n      totalSizeInBytes += page.size;\r\n    });\r\n\r\n    return +(totalSizeInBytes / Math.pow(10, 6)).toFixed(2);\r\n  }\r\n\r\n  dataURIToFile = (capturedBase64URI: string): File => {\r\n    let text = '';\r\n    const possibleText = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\r\n    for (let i = 0; i < 5; i++) {\r\n      text += possibleText.charAt(Math.floor(Math.random() * possibleText.length));\r\n    }\r\n\r\n    return new File([this.dataURItoBlob(capturedBase64URI)], new Date().valueOf() + '.' + text + '.jpg', {\r\n      type: 'image/png',\r\n    });\r\n  };\r\n\r\n  dataURItoBlob(dataURI): Blob {\r\n    const byteString = window.atob(dataURI);\r\n    const int8Array = new Uint8Array(new ArrayBuffer(byteString.length));\r\n\r\n    for (let i = 0; i < byteString.length; i++) {\r\n      int8Array[i] = byteString.charCodeAt(i);\r\n    }\r\n\r\n    return new Blob([int8Array], { type: 'image/png' });\r\n  }\r\n\r\n  qrCodeAutoSubmission = () => {\r\n    const actionId = this.route.snapshot.queryParamMap.get('actionId');\r\n    const wf = this.availableUserActions.find((x) => x.id == actionId);\r\n    if (!wf) {\r\n      this.invalidQRCodeActionId = true;\r\n      return;\r\n    }\r\n\r\n    this.onSubmitActionSelected(wf);\r\n  };\r\n\r\n  openDismissModal() {\r\n    this.dismissActionModal.open();\r\n  }\r\n\r\n  closeDismissModal() {\r\n    this.dismissActionModal.close();\r\n  }\r\n\r\n  setDataFieldsFromUrl = (): void => {\r\n    this.route.snapshot.queryParamMap.keys.forEach((key) => {\r\n      if (key == 'qrCode' || key == 'actionId') return;\r\n\r\n      this.metaDataCollection.set(key, this.route.snapshot.queryParamMap.get(key), MetaDataValidity.valid);\r\n    });\r\n  };\r\n\r\n  onSubmitActionSelected = (selectedAction: MobileAction): void => {\r\n    this.documentName = this.documentName.trim();\r\n\r\n    if (!this.documentName) {\r\n      this.displayDocumentNameError();\r\n      return;\r\n    }\r\n\r\n    this.selectedAction = selectedAction;\r\n    if (this.qrCodeMode) this.setDataFieldsFromUrl();\r\n\r\n    if (this.isFaxAction()) {\r\n      this.actionData = new FaxMobileActionData();\r\n      this.faxUIModal.open();\r\n\r\n      this.delay.execute(() => {\r\n        const faxFormFirstInput = document.getElementById('fax-form').querySelector('input');\r\n        faxFormFirstInput.focus();\r\n      }, this.delayPeriod);\r\n    } else if (this.isScanToFolder()) {\r\n      this.actionData = new ScanToFolderMobileActionData();\r\n      this.scanToFolderModal.open();\r\n    } else if (this.selectedAction.prompts.length) {\r\n      this.metaDataModal.open();\r\n    } else {\r\n      const actionData = new MobileActionData();\r\n\r\n      this.submitCapturedDocument(actionData);\r\n    }\r\n  };\r\n\r\n  submitCapturedDocument = (actionData: MobileActionData): void => {\r\n    this.loadingText = this.translateService.instant('mobile-capture.submitting') + ' ' + this.selectedAction.title;\r\n\r\n    actionData.id = this.selectedAction.id;\r\n    actionData.filename = this.documentName;\r\n    actionData.metadata = this.metaDataCollection;\r\n\r\n    this.spinnerState.show(this.loadingText, this.actionsDiv);\r\n    this.hydraApi.submitCapturedDocuments(\r\n      actionData.serializable(),\r\n      this.pages,\r\n      this.successSubmitCallBack,\r\n      this.failureSubmitCallBack\r\n    );\r\n  };\r\n\r\n  successSubmitCallBack = (result: ApiResults) => {\r\n    this.showFailureHeader = false;\r\n    this.submitSuccess = result.success;\r\n    this.spinnerState.hide();\r\n    this.faxFormSubmitted = false;\r\n    this.isFaxFormValid = false;\r\n\r\n    if (!this.submitSuccess) {\r\n      result.errors.forEach((err: string) => {\r\n        this.submitErrorText += err + '\\n';\r\n      });\r\n\r\n      this.submitErrorModal.open();\r\n      return;\r\n    }\r\n\r\n    this.submitSuccessModal.open();\r\n    this.autoCloseSuccessModal();\r\n  };\r\n\r\n  failureSubmitCallBack = (err) => {\r\n    this.showFailureHeader = true;\r\n    this.submitSuccess = false;\r\n    this.spinnerState.hide();\r\n    this.faxFormSubmitted = false;\r\n    this.isFaxFormValid = false;\r\n    this.submitErrorText = err.message;\r\n    this.submitErrorModal.open();\r\n  };\r\n\r\n  resetTimout = (): void => {\r\n    this.autoCloseTimerInSeconds = this.qrCodeMode ? 15 : 10;\r\n    this.setAutoCloseTimeString(this.autoCloseTimerInSeconds);\r\n  };\r\n\r\n  onQRCodeModeDone = (): void => {\r\n    this.qrCodeMode = false;\r\n    this.dismissSuccessModalHandler();\r\n  };\r\n\r\n  dismissSuccessModalHandler() {\r\n    this.goBackAndClearCaptures();\r\n    this.submitSuccessModal.close();\r\n    this.resetTimout();\r\n\r\n    this.submitSuccess = false;\r\n\r\n    this.resetMetaDataForm();\r\n  }\r\n\r\n  resetMetaDataForm() {\r\n    this.resetMetaDataModal();\r\n  }\r\n\r\n  autoCloseSuccessModal() {\r\n    this.successModalInterval = setInterval(() => {\r\n      if (this.autoCloseTimerInSeconds > 0) {\r\n        this.autoCloseTimerInSeconds--;\r\n        this.setAutoCloseTimeString(this.autoCloseTimerInSeconds);\r\n      } else {\r\n        this.qrCodeMode ? this.onQRCodeModeDone() : this.dismissSuccessModalHandler();\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  setAutoCloseTimeString(autoCloseTime: number) {\r\n    if (autoCloseTime < 10) {\r\n      this.autoCloseTimeString = '00:0' + autoCloseTime;\r\n    } else {\r\n      this.autoCloseTimeString = '00:' + autoCloseTime;\r\n    }\r\n  }\r\n\r\n  dismissSubmitErrorModalHandler() {\r\n    this.submitErrorText = '';\r\n    this.submitErrorModal.close();\r\n  }\r\n\r\n  submitFax() {\r\n    this.faxFormSubmitted = true;\r\n\r\n    if (!this.isFaxFormValid) return;\r\n\r\n    this.faxUIModal.close();\r\n\r\n    this.submitCapturedDocument(this.actionData);\r\n  }\r\n\r\n  cancelSubmittingFax = (): void => {\r\n    this.isFaxFormValid = false;\r\n    this.faxFormSubmitted = false;\r\n    this.faxUIModal.close();\r\n  };\r\n\r\n  setFaxFormValidity(isValid: boolean) {\r\n    this.isFaxFormValid = isValid;\r\n  }\r\n\r\n  displayDocumentNameError() {\r\n    this.submitErrorText += this.translateService.instant('mobile-capture.document-name-required') + '\\n';\r\n    this.showFailureHeader = false;\r\n    this.submitErrorModal.open();\r\n    return;\r\n  }\r\n\r\n  setOverallValidityStatus(event: OverallValidityStatusChangedData) {\r\n    this.overallValidityStatus = event.overallValidity;\r\n    this.metaDataCollection = event.metaDataCollection;\r\n  }\r\n\r\n  updateValidationInProgressState(event: ValidationInProgressChangedData) {\r\n    this.validationInprogress = event.inProgress;\r\n    let isInitialValidation = event.isInitial;\r\n\r\n    if (isInitialValidation) {\r\n      if (this.validationInprogress) {\r\n        this.loadingText = this.translateService.instant('workflow-indexing-panel.loading-defaults');\r\n        this.spinnerState.show(this.loadingText, this.metaDataContent.nativeElement);\r\n        return;\r\n      } else {\r\n        this.spinnerState.hide();\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!this.waitForValidation || this.validationInprogress) return;\r\n\r\n    this.waitForValidation = false;\r\n    this.spinnerState.hide();\r\n    this.submitToWorkflowWithPrompts();\r\n  }\r\n\r\n  submitToWorkflowWithPrompts() {\r\n    if (this.validationInprogress) {\r\n      this.waitForValidation = true;\r\n      this.loadingText = this.translateService.instant('workflow-indexing-panel.waiting');\r\n      this.spinnerState.show(this.loadingText, this.actionsDiv);\r\n      return;\r\n    }\r\n\r\n    if (this.overallValidityStatus !== MetaDataValidity.valid) {\r\n      this.toastr.error(this.translateService.instant('workflow-indexing-panel.overall-validity-invalid'));\r\n      return;\r\n    }\r\n\r\n    this.metaDataModal.close();\r\n\r\n    const actionData = new MobileActionData();\r\n\r\n    this.submitCapturedDocument(actionData);\r\n  }\r\n\r\n  submitToFolder() {\r\n    this.scanToFolderModal.close();\r\n    this.submitCapturedDocument(this.actionData);\r\n  }\r\n\r\n  resetMetaDataModal() {\r\n    this.selectedAction = null;\r\n    this.metaDataCollection = new MetaDataCollection();\r\n    this.overallValidityStatus = MetaDataValidity.unknown;\r\n  }\r\n\r\n  closeAndResetMetaDataModal() {\r\n    this.resetMetaDataModal();\r\n    this.metaDataModal.close();\r\n    this.spinnerState.hide();\r\n\r\n    if (this.qrCodeMode) this.dismissHandler();\r\n  }\r\n\r\n  isFaxAction() {\r\n    return this.selectedAction instanceof SendFaxMobileAction || this.selectedAction instanceof AccuRouteFax;\r\n  }\r\n\r\n  isScanToFolder() {\r\n    return this.selectedAction instanceof ScanToFolderMobileAction;\r\n  }\r\n\r\n  onFolderSelected = (folderId: string): void => {\r\n    (<ScanToFolderMobileActionData>this.actionData).folderId = folderId;\r\n  };\r\n\r\n  onFolderToggleBusy = (state: SpinnerState): void => {\r\n    if (state.state) {\r\n      this.spinnerState.show(\r\n        state.message ? state.message : this.translateService.instant('Common.Loading'),\r\n        this.actionsDiv\r\n      );\r\n      return;\r\n    }\r\n\r\n    this.spinnerState.hide();\r\n  };\r\n\r\n  getScanToFolderMobileAction = (): ScanToFolderMobileAction => {\r\n    return this.selectedAction as ScanToFolderMobileAction;\r\n  };\r\n\r\n  getFaxMobileActionData = (): FaxMobileActionData => {\r\n    return this.actionData as FaxMobileActionData;\r\n  };\r\n\r\n  getIMddAsMdd = () => this.metadata as MetaDataDefinition[];\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.unsubscribe();\r\n    this.backButtonService.removeBackButtonListener();\r\n  }\r\n}\r\n","<div class=\"actions-component-container\" #actionsContainer>\r\n  <div *ngIf=\"invalidQRCodeActionId\" class=\"capture-error-message\">\r\n    {{ 'mobile-capture.invalid-qrcode-workflow' | translate }}\r\n  </div>\r\n  <div class=\"actions-container\" *ngIf=\"!showCameraCapture && !qrCodeMode\">\r\n    <div class=\"back-dismiss-btns-container\" [ngClass]=\"{ 'justify-end': userMobileOS !== 'iOS' }\">\r\n      <button class=\"back-btn\" *ngIf=\"userMobileOS === 'iOS'\" (click)=\"goBackHandler()\">\r\n        <i class=\"fa fa-angle-left\"></i> <span class=\"back-txt\">{{ 'mobile-capture.back-btn' | translate }}</span>\r\n      </button>\r\n      <button class=\"dismiss-btn\" *ngIf=\"captures.length\" (click)=\"openDismissModal()\">\r\n        {{ 'mobile-capture.dismiss-btn' | translate }}\r\n      </button>\r\n    </div>\r\n\r\n    <ng-container *ngIf=\"captures.length\">\r\n      <div class=\"stack-and-data-row\">\r\n        <div class=\"images-stack-col\">\r\n          <div class=\"page first-page\">\r\n            <img src=\"{{ captures[0].capturedImage }}\" alt=\"{{ 'mobile-capture.first-image-alt' | translate }}\" />\r\n          </div>\r\n          <div *ngIf=\"captures.length > 1\" class=\"page second-page\"></div>\r\n          <div *ngIf=\"captures.length > 1\" class=\"page third-page\"></div>\r\n        </div>\r\n        <div class=\"data-information-col\">\r\n          <div class=\"data-information\">\r\n            <p>\r\n              {{ captures.length }}\r\n              <span *ngIf=\"captures.length === 1\"> {{ 'mobile-capture.page' | translate }} </span\r\n              ><span *ngIf=\"captures.length > 1\"> {{ 'mobile-capture.pages' | translate }} </span>\r\n            </p>\r\n            <p>{{ documentsSizeInMegaBytes }} MB</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"name-input-container\">\r\n        <app-field [field]=\"documentNameField\" [(value)]=\"documentName\"></app-field>\r\n      </div>\r\n      <div class=\"actions\">\r\n        <app-select-action\r\n          [actions]=\"availableUserActions\"\r\n          (actionSelected)=\"onSubmitActionSelected($event)\"\r\n        ></app-select-action>\r\n      </div>\r\n    </ng-container>\r\n\r\n    <div *ngIf=\"!captures.length\" class=\"no-captures-message\">\r\n      {{ 'mobile-capture.no-captured-pages-message' | translate }}\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<app-document-scanner-and-editor\r\n  *ngIf=\"showCameraCapture\"\r\n  [captures]=\"this.captures\"\r\n  (done)=\"onDone($event)\"\r\n  (close)=\"onCloseScanner()\"\r\n></app-document-scanner-and-editor>\r\n\r\n<ngx-smart-modal\r\n  [closable]=\"false\"\r\n  [escapable]=\"false\"\r\n  [dismissable]=\"false\"\r\n  customClass=\"mobile-modal\"\r\n  identifier=\"dismissActionModal\"\r\n>\r\n  <div class=\"modal-header\">\r\n    <span class=\"modal-title\">{{ 'mobile-capture.confirmaton' | translate }}</span>\r\n    <i class=\"fa fa-times close-icon\" (click)=\"closeDismissModal()\"></i>\r\n  </div>\r\n\r\n  <div class=\"modal-body\">\r\n    <p>{{ 'mobile-capture.dismiss-capture' | translate }}</p>\r\n  </div>\r\n\r\n  <div class=\"modal-footer\">\r\n    <button class=\"btn btn-minwidth btn-light\" (click)=\"closeDismissModal()\">\r\n      {{ 'mobile-capture.cancel' | translate }}\r\n    </button>\r\n    <button class=\"btn btn-minwidth btn-danger\" (click)=\"dismissHandler()\">\r\n      {{ 'mobile-capture.dismiss-btn' | translate }}\r\n    </button>\r\n  </div>\r\n</ngx-smart-modal>\r\n<ngx-smart-modal\r\n  [closable]=\"false\"\r\n  [escapable]=\"false\"\r\n  [dismissable]=\"false\"\r\n  customClass=\"mobile-modal success-modal\"\r\n  identifier=\"submitSuccessModal\"\r\n>\r\n  <div class=\"modal-header\">\r\n    <span class=\"modal-title\">{{ 'mobile-capture.success' | translate }}</span>\r\n    <i class=\"fa fa-times close-icon\" (click)=\"dismissSuccessModalHandler()\"></i>\r\n  </div>\r\n\r\n  <div class=\"modal-body\">\r\n    <p>\r\n      <span>{{ 'mobile-capture.submit-success' | translate }}</span>\r\n      <span class=\"action-title-span\"> {{ selectedAction?.title }}</span>\r\n    </p>\r\n    <p class=\"text-muted small\">\r\n      <span>{{ 'mobile-capture.autoCloseSuccessModal' | translate }}</span>\r\n      <span class=\"time-span\">{{ autoCloseTimeString }}</span>\r\n    </p>\r\n  </div>\r\n\r\n  <div class=\"modal-footer\">\r\n    <button class=\"btn btn-minwidth btn-secondary\" (click)=\"onQRCodeModeDone()\" *ngIf=\"qrCodeMode\">\r\n      {{ 'mobile-capture.done' | translate }}\r\n    </button>\r\n    <button class=\"btn btn-minwidth btn-primary\" (click)=\"dismissSuccessModalHandler()\">\r\n      {{ (qrCodeMode ? 'mobile-capture.submit-another-document' : 'mobile-capture.ok') | translate }}\r\n    </button>\r\n  </div>\r\n</ngx-smart-modal>\r\n\r\n<ngx-smart-modal\r\n  [closable]=\"false\"\r\n  [escapable]=\"false\"\r\n  [dismissable]=\"false\"\r\n  customClass=\"mobile-modal error-msg-modal\"\r\n  identifier=\"submitErrorModal\"\r\n>\r\n  <div class=\"modal-header\">\r\n    <span class=\"modal-title\">{{ 'mobile-capture.error' | translate }}</span>\r\n    <i class=\"fa fa-times close-icon\" (click)=\"dismissSubmitErrorModalHandler()\"></i>\r\n  </div>\r\n\r\n  <div class=\"modal-body\">\r\n    <p *ngIf=\"showFailureHeader\">{{ 'mobile-capture.submit-failure' | translate }}</p>\r\n    <p class=\"wrap-break-word\">{{ submitErrorText }}</p>\r\n  </div>\r\n\r\n  <div class=\"modal-footer\">\r\n    <button class=\"btn btn-minwidth btn-primary\" (click)=\"dismissSubmitErrorModalHandler()\">\r\n      {{ 'mobile-capture.ok' | translate }}\r\n    </button>\r\n  </div>\r\n</ngx-smart-modal>\r\n\r\n<ngx-smart-modal\r\n  [closable]=\"false\"\r\n  [escapable]=\"false\"\r\n  [dismissable]=\"false\"\r\n  customClass=\"mobile-modal fax-ui-modal\"\r\n  identifier=\"faxUIModal\"\r\n>\r\n  <div class=\"modal-header\">\r\n    <span class=\"modal-title\">{{ 'mobile-capture.fax-form-title' | translate }}</span>\r\n    <i class=\"fa fa-times close-icon\" (click)=\"cancelSubmittingFax()\"></i>\r\n  </div>\r\n\r\n  <div class=\"modal-body\">\r\n    <app-fax-submission-ui\r\n      *ngIf=\"isFaxAction()\"\r\n      [actionData]=\"getFaxMobileActionData()\"\r\n      [isFormSubmitted]=\"faxFormSubmitted\"\r\n      [spinnerService]=\"spinnerState\"\r\n      [interfaxService]=\"interfaxService\"\r\n      [allowRecipientsModals]=\"false\"\r\n      (onValidationChange)=\"setFaxFormValidity($event)\"\r\n    ></app-fax-submission-ui>\r\n  </div>\r\n\r\n  <div class=\"modal-footer\">\r\n    <button class=\"btn btn-minwidth btn-light\" (click)=\"cancelSubmittingFax()\">\r\n      {{ 'mobile-capture.cancel' | translate }}\r\n    </button>\r\n    <button class=\"btn btn-minwidth btn-primary\" [disabled]=\"!isFaxFormValid\" (click)=\"submitFax()\">\r\n      {{ 'mobile-capture.ok' | translate }}\r\n    </button>\r\n  </div>\r\n</ngx-smart-modal>\r\n\r\n<ngx-smart-modal\r\n  [closable]=\"false\"\r\n  [escapable]=\"false\"\r\n  [dismissable]=\"false\"\r\n  customClass=\"mobile-modal\"\r\n  identifier=\"metaDataModal\"\r\n>\r\n  <div #metaDataContent>\r\n    <div class=\"modal-header\">\r\n      <span class=\"modal-title\">{{ 'mobile-capture.meta-data-form-title' | translate }}</span>\r\n      <i class=\"fa fa-times close-icon\" (click)=\"closeAndResetMetaDataModal()\"></i>\r\n    </div>\r\n\r\n    <div class=\"modal-body\">\r\n      <app-workflow-indexing-panel\r\n        *ngIf=\"selectedAction\"\r\n        [prompts]=\"selectedAction.prompts\"\r\n        [metadata]=\"getIMddAsMdd()\"\r\n        [metaDataCollection]=\"metaDataCollection\"\r\n        (overallValidityStatusChanged)=\"setOverallValidityStatus($event)\"\r\n        (validationInProgressChanged)=\"updateValidationInProgressState($event)\"\r\n        (fieldTabbed)=\"submitToWorkflowWithPrompts()\"\r\n        [metaDataService]=\"hydraApi\"\r\n        [findMetaDataService]=\"userStateService\"\r\n        [metaDataValidator]=\"capture\"\r\n      ></app-workflow-indexing-panel>\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n      <button class=\"btn btn-minwidth btn-light\" (click)=\"closeAndResetMetaDataModal()\">\r\n        {{ 'mobile-capture.cancel' | translate }}\r\n      </button>\r\n      <button class=\"btn btn-minwidth btn-primary\" (click)=\"submitToWorkflowWithPrompts()\">\r\n        {{ 'mobile-capture.ok' | translate }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</ngx-smart-modal>\r\n\r\n<ngx-smart-modal\r\n  [closable]=\"false\"\r\n  [escapable]=\"false\"\r\n  [dismissable]=\"false\"\r\n  identifier=\"scanToFolderModal\"\r\n  customClass=\"mobile-modal scan-to-folder\"\r\n  #scanToFolderModal\r\n>\r\n  <div class=\"modal-content-wrapper d-flex flex-column test\" *ngIf=\"selectedAction\">\r\n    <div class=\"modal-header test\">\r\n      <span class=\"modal-title\">{{ selectedAction.title }}</span>\r\n      <i class=\"fa fa-times close-icon\" (click)=\"scanToFolderModal.close()\"></i>\r\n    </div>\r\n\r\n    <div class=\"modal-body d-flex flex-column col\">\r\n      <div class=\"col p-0\">\r\n        <app-selection\r\n          *ngIf=\"scanToFolderModal.isVisible()\"\r\n          [action]=\"getScanToFolderMobileAction()\"\r\n          [mode]=\"0\"\r\n          [api]=\"apiService\"\r\n          [showBreadcrumb]=\"getScanToFolderMobileAction().view?.showBreadcrumb\"\r\n          (onFolderSelected)=\"onFolderSelected($event)\"\r\n          (onToggleBusy)=\"onFolderToggleBusy($event)\"\r\n        ></app-selection>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"modal-footer\">\r\n      <button class=\"btn btn-minwidth btn-light\" (click)=\"scanToFolderModal.close()\">\r\n        {{ 'mobile-capture.cancel' | translate }}\r\n      </button>\r\n      <button class=\"btn btn-minwidth btn-primary\" (click)=\"submitToFolder()\">\r\n        {{ 'mobile-capture.ok' | translate }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</ngx-smart-modal>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { NgxSmartModalModule } from 'ngx-smart-modal';\r\n\r\nimport { FaxSubmissionUiModule, FieldsModule, SelectionModule, WorkflowIndexingPanelModule } from 'shared-code-lib';\r\nimport { DocumentScannerAndEditorModule } from './../../../blocks/components/document-scanner/document-scanner-and-editor.module';\r\nimport { SharedModule } from './../../../blocks/shared/shared.module';\r\nimport { CaptureRoutingModule } from './capture-routing.module';\r\nimport { CaptureComponent } from './capture.component';\r\n\r\n@NgModule({\r\n  declarations: [CaptureComponent],\r\n  imports: [\r\n    CommonModule,\r\n    CaptureRoutingModule,\r\n    TranslateModule,\r\n    SharedModule,\r\n    NgxSmartModalModule,\r\n    FormsModule,\r\n    DocumentScannerAndEditorModule,\r\n    FieldsModule,\r\n    WorkflowIndexingPanelModule,\r\n    FaxSubmissionUiModule,\r\n    SelectionModule,\r\n  ],\r\n})\r\nexport class CaptureModule {}\r\n"],"names":["NgxSmartModalService","ModalsUtilitiesService","constructor","ngxSmartModalService","isAnyModalOpened","openedModals","getOpenedModals","length","onlyHiddenScanToModal","id","document","querySelector","i0","ɵɵinject","i1","factory","ɵfac","providedIn","RouterModule","CaptureComponent","routes","path","component","pathMatch","CaptureRoutingModule","forChild","imports","exports","ChangeDetectorRef","ElementRef","TranslateService","ToastrService","Subscription","ActivatedRoute","AccuRouteFax","DelayService","FaxMobileActionData","FieldDefinition","MetaDataCollection","MetaDataType","MetaDataValidity","MobileActionData","MobileActionType","ScanToFolderMobileAction","ScanToFolderMobileActionData","SendFaxMobileAction","DateTimeFormat","BackButtonService","HydraApiService","SpinnerStateService","UserStateService","DocumentCaptureService","ApiService","InterFAXService","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","ɵɵlistener","CaptureComponent_div_3_button_2_Template_button_click_0_listener","ɵɵrestoreView","_r2","ctx_r2","ɵɵnextContext","ɵɵresetView","goBackHandler","ɵɵelement","ɵɵtextInterpolate","CaptureComponent_div_3_button_3_Template_button_click_0_listener","_r4","openDismissModal","ɵɵelementContainerStart","ɵɵtemplate","CaptureComponent_div_3_ng_container_4_div_6_Template","CaptureComponent_div_3_ng_container_4_div_7_Template","CaptureComponent_div_3_ng_container_4_span_12_Template","CaptureComponent_div_3_ng_container_4_span_13_Template","ɵɵtwoWayListener","CaptureComponent_div_3_ng_container_4_Template_app_field_valueChange_17_listener","$event","_r5","ɵɵtwoWayBindingSet","documentName","CaptureComponent_div_3_ng_container_4_Template_app_select_action_actionSelected_19_listener","onSubmitActionSelected","ɵɵpropertyInterpolate","captures","capturedImage","ɵɵsanitizeUrl","ɵɵproperty","documentsSizeInMegaBytes","documentNameField","ɵɵtwoWayProperty","availableUserActions","CaptureComponent_div_3_button_2_Template","CaptureComponent_div_3_button_3_Template","CaptureComponent_div_3_ng_container_4_Template","CaptureComponent_div_3_div_5_Template","ɵɵpureFunction1","_c2","userMobileOS","CaptureComponent_app_document_scanner_and_editor_4_Template_app_document_scanner_and_editor_done_0_listener","_r6","onDone","CaptureComponent_app_document_scanner_and_editor_4_Template_app_document_scanner_and_editor_close_0_listener","onCloseScanner","CaptureComponent_button_42_Template_button_click_0_listener","_r7","onQRCodeModeDone","CaptureComponent_app_fax_submission_ui_67_Template_app_fax_submission_ui_onValidationChange_0_listener","_r8","setFaxFormValidity","getFaxMobileActionData","faxFormSubmitted","spinnerState","interfaxService","CaptureComponent_app_workflow_indexing_panel_84_Template_app_workflow_indexing_panel_overallValidityStatusChanged_0_listener","_r9","setOverallValidityStatus","CaptureComponent_app_workflow_indexing_panel_84_Template_app_workflow_indexing_panel_validationInProgressChanged_0_listener","updateValidationInProgressState","CaptureComponent_app_workflow_indexing_panel_84_Template_app_workflow_indexing_panel_fieldTabbed_0_listener","submitToWorkflowWithPrompts","selectedAction","prompts","getIMddAsMdd","metaDataCollection","hydraApi","userStateService","capture","CaptureComponent_div_94_app_selection_7_Template_app_selection_onFolderSelected_0_listener","_r12","onFolderSelected","CaptureComponent_div_94_app_selection_7_Template_app_selection_onToggleBusy_0_listener","onFolderToggleBusy","getScanToFolderMobileAction","apiService","tmp_8_0","view","showBreadcrumb","CaptureComponent_div_94_Template_i_click_4_listener","_r10","scanToFolderModal_r11","ɵɵreference","close","CaptureComponent_div_94_app_selection_7_Template","CaptureComponent_div_94_Template_button_click_9_listener","CaptureComponent_div_94_Template_button_click_12_listener","submitToFolder","title","isVisible","translateService","toastr","cdr","delay","backButtonService","route","modalsUtilitiesService","Array","pages","submitErrorText","isFaxFormValid","delayPeriod","loading","submitSuccess","overallValidityStatus","unknown","validationInprogress","waitForValidation","metadata","showCameraCapture","qrCodeMode","subscriptions","handleBackButton","closeOpenedModals","dataURIToFile","capturedBase64URI","text","possibleText","i","charAt","Math","floor","random","File","dataURItoBlob","Date","valueOf","type","qrCodeAutoSubmission","actionId","snapshot","queryParamMap","get","wf","find","x","invalidQRCodeActionId","setDataFieldsFromUrl","keys","forEach","key","set","valid","trim","displayDocumentNameError","isFaxAction","actionData","faxUIModal","open","execute","faxFormFirstInput","getElementById","focus","isScanToFolder","scanToFolderModal","metaDataModal","submitCapturedDocument","loadingText","instant","filename","show","actionsDiv","submitCapturedDocuments","serializable","successSubmitCallBack","failureSubmitCallBack","result","showFailureHeader","success","hide","errors","err","submitErrorModal","submitSuccessModal","autoCloseSuccessModal","message","resetTimout","autoCloseTimerInSeconds","setAutoCloseTimeString","dismissSuccessModalHandler","cancelSubmittingFax","folderId","state","ngOnInit","user","metaData","add","visibilityChanged","subscribe","spinnerConfiguration","visible","preventBackButton","giveMobileCssClassToBody","Text","placeholder","required","getUserMobileOS","getAvailableActionsForUser","getCompactDateTime","replace","ngAfterViewInit","dismissActionModal","actionsContainer","nativeElement","detectChanges","modals","modalItem","modal","identifier","dismissSubmitErrorModalHandler","closeDismissModal","lookupModal","closeAndResetMetaDataModal","body","getElementsByTagName","className","userAgent","navigator","vendor","window","opera","test","MSStream","product","products","mobileAction","mobileActions","Route","push","clearInterval","successModalInterval","dismissHandler","clearCaptures","goBackAndClearCaptures","convertCapturesToFiles","calculateDocumentsSize","map","c","split","totalSizeInBytes","page","size","pow","toFixed","dataURI","byteString","atob","int8Array","Uint8Array","ArrayBuffer","charCodeAt","Blob","resetMetaDataForm","resetMetaDataModal","setInterval","autoCloseTime","autoCloseTimeString","submitFax","isValid","event","overallValidity","inProgress","isInitialValidation","isInitial","metaDataContent","error","ngOnDestroy","unsubscribe","removeBackButtonListener","ɵɵdirectiveInject","i2","i3","i4","i5","i6","i7","i8","i9","i10","i11","i12","i13","selectors","viewQuery","CaptureComponent_Query","rf","ctx","CaptureComponent_div_2_Template","CaptureComponent_div_3_Template","CaptureComponent_app_document_scanner_and_editor_4_Template","CaptureComponent_Template_i_click_10_listener","_r1","CaptureComponent_Template_button_click_16_listener","CaptureComponent_Template_button_click_19_listener","CaptureComponent_Template_i_click_27_listener","CaptureComponent_button_42_Template","CaptureComponent_Template_button_click_43_listener","CaptureComponent_Template_i_click_51_listener","CaptureComponent_p_53_Template","CaptureComponent_Template_button_click_57_listener","CaptureComponent_Template_i_click_65_listener","CaptureComponent_app_fax_submission_ui_67_Template","CaptureComponent_Template_button_click_69_listener","CaptureComponent_Template_button_click_72_listener","CaptureComponent_Template_i_click_82_listener","CaptureComponent_app_workflow_indexing_panel_84_Template","CaptureComponent_Template_button_click_86_listener","CaptureComponent_Template_button_click_89_listener","CaptureComponent_div_94_Template","CommonModule","FormsModule","TranslateModule","NgxSmartModalModule","FaxSubmissionUiModule","FieldsModule","SelectionModule","WorkflowIndexingPanelModule","DocumentScannerAndEditorModule","SharedModule","CaptureModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}