{"version":3,"file":"src_app_views_admin-olc_snippets_snippets_module_ts.js","mappings":"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","sources":["./src/app/views/admin-olc/snippets/properties-form/properties-form.component.ts","./src/app/views/admin-olc/snippets/properties-form/properties-form.component.html","./src/app/views/admin-olc/snippets/properties-snippet/properties-snippet.component.ts","./src/app/views/admin-olc/snippets/properties-snippet/properties-snippet.component.html","./src/app/views/admin-olc/snippets/snippets-routing.module.ts","./src/app/views/admin-olc/snippets/snippets.component.ts","./src/app/views/admin-olc/snippets/snippets.component.html","./src/app/views/admin-olc/snippets/snippets.module.ts"],"sourcesContent":["import { Component, OnInit, Input, ViewEncapsulation } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { UserStateService } from '../../../../blocks/services/user-state.service';\r\nimport { Tab } from 'shared-code-lib';\r\nimport { Snippet } from '../../models/snippet';\r\n\r\n@Component({\r\n  selector: 'app-properties-form',\r\n  templateUrl: './properties-form.component.html',\r\n  styleUrls: ['./properties-form.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class PropertiesFormComponent implements OnInit {\r\n  @Input() snippet: Snippet;\r\n\r\n  activeTab = 'snippet';\r\n  tabs = new Array<Tab>();\r\n\r\n  constructor(private translateService: TranslateService, private userStateService: UserStateService) {}\r\n\r\n  ngOnInit() {\r\n    this.tabs.push(new Tab('snippet', this.translateService.instant('admin-olc-snippets.snippet')));\r\n  }\r\n\r\n  activateTab = (tab) => {\r\n    this.activeTab = tab;\r\n  };\r\n}\r\n","<div class=\"admin-olc-snippet-properties h-100\">\r\n  <app-tab-bar [tabs]=\"tabs\" (tabSelected)=\"activateTab($event)\"></app-tab-bar>\r\n\r\n  <div class=\"tab-content content-padding h-100\">\r\n    <div class=\"h-100\" *ngIf=\"activeTab === 'snippet'\">\r\n      <app-properties-snippet class=\"h-100\" [snippet]=\"snippet\"></app-properties-snippet>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { RolePermissions } from '../../../../../../../../Bamba.Shared/src/models/role';\r\nimport { Snippet } from '../../models/snippet';\r\nimport { TemplateStyle } from '../../models/template';\r\nimport { OlcTemplateStylesService } from '../../shared/services/olc-template-styles.service';\r\nimport { UserStateService } from './../../../../blocks/services/user-state.service';\r\n\r\n@Component({\r\n  selector: 'app-properties-snippet',\r\n  templateUrl: './properties-snippet.component.html',\r\n  styleUrls: ['./properties-snippet.component.scss'],\r\n})\r\nexport class PropertiesSnippetComponent implements OnInit {\r\n  @Input() snippet: Snippet;\r\n  defaultOlcStyles: TemplateStyle[] = [];\r\n  canApplyMedia = false;\r\n\r\n  constructor(private olcTemplateStylesService: OlcTemplateStylesService, private userStateService: UserStateService) {}\r\n\r\n  ngOnInit() {\r\n    this.defaultOlcStyles = this.olcTemplateStylesService.defaultOlcStyles;\r\n    this.canApplyMedia = this.userStateService.hasRolePermission(RolePermissions.OLCTED_MEDIA_APPLY);\r\n  }\r\n\r\n  updateSnippetHTML = (html: string) => {\r\n    this.snippet.html = html;\r\n  };\r\n}\r\n","<div *ngIf=\"snippet\" class=\"h-100 w-100 properties-snippet\">\r\n  <app-html-editor\r\n    [isOlcTed]=\"true\"\r\n    [initialValue]=\"snippet.html\"\r\n    (valueChange)=\"updateSnippetHTML($event)\"\r\n    [placeholder]=\"'admin-olc-templates.item-text-placeholder' | translate\"\r\n    [showBarcode]=\"false\"\r\n    [showFontType]=\"false\"\r\n    [showFontSize]=\"false\"\r\n    [showBlockQuote]=\"false\"\r\n    [showUndoAndRedo]=\"true\"\r\n    [olcTedStyles]=\"defaultOlcStyles\"\r\n    [showImage]=\"canApplyMedia\"\r\n    [height]=\"'350px'\"\r\n  >\r\n  </app-html-editor>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { SnippetsComponent } from './snippets.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'duplicate/:snippetId',\r\n    component: SnippetsComponent,\r\n    data: { type: 'duplicate' },\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: 'create',\r\n    component: SnippetsComponent,\r\n    data: { type: 'create' },\r\n    pathMatch: 'full',\r\n  },\r\n  {\r\n    path: ':snippetId',\r\n    component: SnippetsComponent,\r\n    data: { type: 'properties' },\r\n    pathMatch: 'full',\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SnippetsRoutingModule {}\r\n","import { Location } from '@angular/common';\r\nimport { Component, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { Subscription, combineLatest } from 'rxjs';\r\nimport { FieldDefinition } from '../../../../../../../Bamba.Shared/src/models/field-definition';\r\nimport { MetaDataType } from '../../../../../../../Bamba.Shared/src/models/metadata-definition';\r\nimport { ErrorsService } from '../../../blocks/services/errors.service';\r\nimport { HydraApiService } from '../../../blocks/services/hydra-api.service';\r\nimport { ApiResult, Control } from '../../../blocks/services/models';\r\nimport { SpinnerStateService } from '../../../blocks/services/spinner-state.service';\r\nimport { Snippet } from '../models/snippet';\r\n\r\n@Component({\r\n  selector: 'app-snippets',\r\n  templateUrl: './snippets.component.html',\r\n  styleUrls: ['./snippets.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class SnippetsComponent implements OnInit, OnDestroy {\r\n  rightControls: Array<Control> = [];\r\n  fieldName: FieldDefinition;\r\n  fieldSlug: FieldDefinition;\r\n\r\n  snippet: Snippet;\r\n  routeDataType: string;\r\n\r\n  subscriptions = new Subscription();\r\n\r\n  constructor(\r\n    private translate: TranslateService,\r\n    private hydraApi: HydraApiService,\r\n    private route: ActivatedRoute,\r\n    private toastr: ToastrService,\r\n    private errorsService: ErrorsService,\r\n    private spinner: SpinnerStateService,\r\n    private location: Location\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.createButtons();\r\n    this.createFields();\r\n    this.getSnippetData();\r\n  }\r\n\r\n  getSnippetData() {\r\n    this.subscriptions.add(\r\n      combineLatest([this.route.params, this.route.data]).subscribe(([params, data]) => {\r\n        this.routeDataType = data.type;\r\n\r\n        if (['properties', 'duplicate'].includes(this.routeDataType)) {\r\n          this.spinner.show(this.translate.instant('Common.Loading'), document.documentElement);\r\n          this.hydraApi.getSnippet(params.snippetId, this.snippetLoaded, this.snippetLoadFailed);\r\n        }\r\n\r\n        if (this.routeDataType === 'create') {\r\n          this.snippetLoaded(\r\n            new Snippet({\r\n              id: '',\r\n              dateCreatedUTC: new Date(),\r\n              dateModifiedUTC: new Date(),\r\n              name: '',\r\n              html: '',\r\n              slug: '',\r\n            })\r\n          );\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  private snippetLoaded = (s: Snippet) => {\r\n    if (this.routeDataType === 'duplicate') {\r\n      s.name = `${this.translate.instant('Admin.CopyOf')} ${s.name}`;\r\n      s.id = '';\r\n    }\r\n\r\n    this.snippet = s;\r\n    this.spinner.hide();\r\n  };\r\n\r\n  private snippetLoadFailed = () => {\r\n    this.toastr.error(this.translate.instant('admin-olc-snippets.snippet-load-failed'));\r\n    this.spinner.hide();\r\n  };\r\n\r\n  private createFields = () => {\r\n    this.fieldName = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('admin-olc-snippets.name'),\r\n      placeholder: this.translate.instant('admin-olc-snippets.name-placeholder'),\r\n      required: true,\r\n    });\r\n\r\n    this.fieldSlug = new FieldDefinition({\r\n      type: MetaDataType.Text,\r\n      label: this.translate.instant('admin-olc-snippets.slug'),\r\n      placeholder: this.translate.instant('admin-olc-snippets.slug-placeholder'),\r\n      required: false,\r\n    });\r\n  };\r\n\r\n  private createButtons() {\r\n    const saveButton = new Control(\r\n      this.onSave,\r\n      this.translate.instant('admin-olc-snippets.save'),\r\n      'btn btn-primary btn-minwidth',\r\n      '',\r\n      '',\r\n      'btn',\r\n      false\r\n    );\r\n\r\n    const cancelButton = new Control(\r\n      this.onCancel,\r\n      this.translate.instant('admin-olc-snippets.cancel'),\r\n      'btn btn-light btn-minwidth',\r\n      '',\r\n      '',\r\n      'btn',\r\n      false\r\n    );\r\n\r\n    this.rightControls.push(saveButton);\r\n    this.rightControls.push(cancelButton);\r\n  }\r\n\r\n  onSave = () => {\r\n    this.spinner.showSavingSpinner();\r\n\r\n    if (this.snippet.id) {\r\n      this.hydraApi.updateSnippet(this.snippet, this.snippetSaved, this.snippetSaveFailed);\r\n    } else {\r\n      this.hydraApi.createSnippet(this.snippet, this.snippetSaved, this.snippetSaveFailed);\r\n    }\r\n  };\r\n\r\n  onCancel = () => {\r\n    this.returnToGrid();\r\n  };\r\n\r\n  snippetSaved = (result: ApiResult) => {\r\n    if (result.success) {\r\n      this.toastr.success(this.translate.instant('admin-olc-snippets.snippet-saved'));\r\n      this.returnToGrid();\r\n    } else {\r\n      this.errorsService.showErrorsModal(result.errors, 'admin-olc-snippets.validation-errors');\r\n    }\r\n\r\n    this.spinner.hide();\r\n  };\r\n\r\n  snippetSaveFailed = (err: any) => {\r\n    this.toastr.error(this.translate.instant('admin-olc-snippets.snippet-save-failed'));\r\n    this.spinner.hide();\r\n  };\r\n\r\n  returnToGrid = () => this.location.back();\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n}\r\n","<div *ngIf=\"snippet\" class=\"admin-olc-snippet d-flex flex-column\" appAutoFocusFirstInput [focusDelay]=\"5\">\r\n  <app-secondary-header [headerText]=\"'admin-olc-snippets.HeadText' | translate\" [rightControls]=\"rightControls\">\r\n  </app-secondary-header>\r\n  <div class=\"container-fluid col min-h-fit-content\">\r\n    <div class=\"row panel min-h-fit-content h-100 m-0\" id=\"spinnerPanel\">\r\n      <div class=\"col-12 col-md-3 properties-panel\">\r\n        <app-created-modified\r\n          [id]=\"snippet.id\"\r\n          [createdDate]=\"snippet.dateCreatedUTC\"\r\n          [modifiedDate]=\"snippet.dateModifiedUTC\"\r\n        ></app-created-modified>\r\n\r\n        <div class=\"col p-0\">\r\n          <app-field [field]=\"fieldName\" [(value)]=\"snippet.name\"></app-field>\r\n        </div>\r\n        <div class=\"col p-0\">\r\n          <app-field [field]=\"fieldSlug\" [(value)]=\"snippet.slug\"></app-field>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"col-12 col-md-9 p-0 step-panel d-flex flex-column\">\r\n        <div class=\"step-panel-wrapper vcenter\">\r\n          <div class=\"col step-panel-header\">\r\n            {{ 'admin-olc-snippets.properties' | translate }}\r\n          </div>\r\n        </div>\r\n\r\n        <app-properties-form class=\"d-flex flex-column col p-0\" [snippet]=\"snippet\"></app-properties-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { SnippetsComponent } from './snippets.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { AutoFocusFirstInputModule, FieldsModule, TabBarModule } from 'shared-code-lib';\r\nimport { SnippetsRoutingModule } from './snippets-routing.module';\r\nimport { PageModule } from '../../../blocks/page/page.module';\r\nimport { ComponentsModule } from '../../../blocks/components/components.module';\r\nimport { PropertiesFormComponent } from './properties-form/properties-form.component';\r\nimport { PropertiesSnippetComponent } from './properties-snippet/properties-snippet.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    SnippetsRoutingModule,\r\n    TranslateModule,\r\n    FieldsModule,\r\n    AutoFocusFirstInputModule,\r\n    TabBarModule,\r\n    PageModule,\r\n    ComponentsModule,\r\n  ],\r\n  declarations: [SnippetsComponent, PropertiesFormComponent, PropertiesSnippetComponent],\r\n})\r\nexport class SnippetsModule {}\r\n"],"names":["TranslateService","UserStateService","Tab","Snippet","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r0","snippet","PropertiesFormComponent","constructor","translateService","userStateService","activeTab","tabs","Array","activateTab","tab","ngOnInit","push","instant","ɵɵdirectiveInject","i1","i2","selectors","inputs","decls","vars","consts","template","PropertiesFormComponent_Template","rf","ctx","ɵɵlistener","PropertiesFormComponent_Template_app_tab_bar_tabSelected_1_listener","$event","ɵɵtemplate","PropertiesFormComponent_div_3_Template","RolePermissions","OlcTemplateStylesService","PropertiesSnippetComponent_div_0_Template_app_html_editor_valueChange_1_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","updateSnippetHTML","html","ɵɵpipeBind1","defaultOlcStyles","canApplyMedia","PropertiesSnippetComponent","olcTemplateStylesService","hasRolePermission","OLCTED_MEDIA_APPLY","PropertiesSnippetComponent_Template","PropertiesSnippetComponent_div_0_Template","RouterModule","SnippetsComponent","routes","path","component","data","type","pathMatch","SnippetsRoutingModule","forChild","imports","exports","Location","ActivatedRoute","ToastrService","Subscription","combineLatest","FieldDefinition","MetaDataType","ErrorsService","HydraApiService","Control","SpinnerStateService","ɵɵtwoWayListener","SnippetsComponent_div_0_Template_app_field_valueChange_8_listener","ɵɵtwoWayBindingSet","name","SnippetsComponent_div_0_Template_app_field_valueChange_10_listener","slug","ɵɵtext","rightControls","id","dateCreatedUTC","dateModifiedUTC","fieldName","ɵɵtwoWayProperty","fieldSlug","ɵɵtextInterpolate1","translate","hydraApi","route","toastr","errorsService","spinner","location","subscriptions","snippetLoaded","s","routeDataType","hide","snippetLoadFailed","error","createFields","Text","label","placeholder","required","onSave","showSavingSpinner","updateSnippet","snippetSaved","snippetSaveFailed","createSnippet","onCancel","returnToGrid","result","success","showErrorsModal","errors","err","back","createButtons","getSnippetData","add","params","subscribe","includes","show","document","documentElement","getSnippet","snippetId","Date","saveButton","cancelButton","ngOnDestroy","unsubscribe","i3","i4","i5","i6","i7","SnippetsComponent_Template","SnippetsComponent_div_0_Template","CommonModule","TranslateModule","AutoFocusFirstInputModule","FieldsModule","TabBarModule","PageModule","ComponentsModule","SnippetsModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}