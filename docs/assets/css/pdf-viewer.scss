.textLayer {
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  opacity: 1 !important;
  line-height: 1;

  > span {
    color: transparent;
    position: absolute;
    white-space: pre;
    cursor: text;
    -webkit-transform-origin: 0% 0%;
    transform-origin: 0% 0%;
  }

  .highlight {
    margin: -1px;
    padding: 1px;
    background-color: rgb(180, 0, 170);
    border-radius: 4px;

    &.begin {
      border-radius: 4px 0px 0px 4px;
    }

    &.end {
      border-radius: 0px 4px 4px 0px;
    }

    &.middle {
      border-radius: 0px;
    }

    &.selected {
      background-color: rgb(0, 100, 0);
    }
  }

  ::-moz-selection {
    background: rgb(0, 0, 255);
  }

  ::selection {
    background: rgb(0, 0, 255);
  }

  .endOfContent {
    display: block;
    position: absolute;
    left: 0px;
    top: 100%;
    right: 0px;
    bottom: 0px;
    z-index: -1;
    cursor: default;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

    &.active {
      top: 0px;
    }
  }
}

.annotationLayer {
  section {
    position: absolute;
  }

  .linkAnnotation > a,
  .buttonWidgetAnnotation.pushButton > a {
    position: absolute;
    font-size: 1em;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .linkAnnotation > a:hover,
  .buttonWidgetAnnotation.pushButton > a:hover {
    opacity: 0.2;
    background: #ff0;
    box-shadow: 0px 2px 10px #ff0;
  }

  .textAnnotation img {
    position: absolute;
    cursor: pointer;
  }

  .textWidgetAnnotation {
    input,
    textarea {
      background-color: rgba(0, 54, 255, 0.13);
      border: 1px solid transparent;
      box-sizing: border-box;
      font-size: 9px;
      height: 100%;
      margin: 0;
      padding: 0 3px;
      vertical-align: top;
      width: 100%;
    }
  }

  .choiceWidgetAnnotation select {
    background-color: rgba(0, 54, 255, 0.13);
    border: 1px solid transparent;
    box-sizing: border-box;
    font-size: 9px;
    height: 100%;
    margin: 0;
    padding: 0 3px;
    vertical-align: top;
    width: 100%;
  }

  .buttonWidgetAnnotation {
    &.checkBox input,
    &.radioButton input {
      background-color: rgba(0, 54, 255, 0.13);
      border: 1px solid transparent;
      box-sizing: border-box;
      font-size: 9px;
      height: 100%;
      margin: 0;
      padding: 0 3px;
      vertical-align: top;
      width: 100%;
    }
  }

  .choiceWidgetAnnotation select option {
    padding: 0;
  }

  .buttonWidgetAnnotation.radioButton input {
    border-radius: 50%;
  }

  .textWidgetAnnotation {
    textarea {
      font: message-box;
      font-size: 9px;
      resize: none;
    }

    input[disabled],
    textarea[disabled] {
      background: none;
      border: 1px solid transparent;
      cursor: not-allowed;
    }
  }

  .choiceWidgetAnnotation select[disabled] {
    background: none;
    border: 1px solid transparent;
    cursor: not-allowed;
  }

  .buttonWidgetAnnotation {
    &.checkBox input[disabled],
    &.radioButton input[disabled] {
      background: none;
      border: 1px solid transparent;
      cursor: not-allowed;
    }
  }

  .textWidgetAnnotation {
    input:hover,
    textarea:hover {
      border: 1px solid #000;
    }
  }

  .choiceWidgetAnnotation select:hover {
    border: 1px solid #000;
  }

  .buttonWidgetAnnotation {
    &.checkBox input:hover,
    &.radioButton input:hover {
      border: 1px solid #000;
    }
  }

  .textWidgetAnnotation {
    input:focus,
    textarea:focus {
      background: none;
      border: 1px solid transparent;
    }
  }

  .choiceWidgetAnnotation select:focus {
    background: none;
    border: 1px solid transparent;
  }

  .buttonWidgetAnnotation {
    &.checkBox input:checked {
      &:before,
      &:after {
        background-color: #000;
        content: '';
        display: block;
        position: absolute;
      }
    }

    &.radioButton input:checked:before {
      background-color: #000;
      content: '';
      display: block;
      position: absolute;
    }

    &.checkBox input:checked {
      &:before,
      &:after {
        height: 80%;
        left: 45%;
        width: 1px;
      }

      &:before {
        -webkit-transform: rotate(45deg);
        transform: rotate(45deg);
      }

      &:after {
        -webkit-transform: rotate(-45deg);
        transform: rotate(-45deg);
      }
    }

    &.radioButton input:checked:before {
      border-radius: 50%;
      height: 50%;
      left: 30%;
      top: 20%;
      width: 50%;
    }
  }

  .textWidgetAnnotation input.comb {
    font-family: monospace;
    padding-left: 2px;
    padding-right: 0;

    &:focus {
      /*
       * Letter spacing is placed on the right side of each character. Hence, the
       * letter spacing of the last character may be placed outside the visible
       * area, causing horizontal scrolling. We avoid this by extending the width
       * when the element has focus and revert this when it loses focus.
       */
      width: 115%;
    }
  }

  .buttonWidgetAnnotation {
    &.checkBox input,
    &.radioButton input {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      padding: 0;
    }
  }

  .popupWrapper {
    position: absolute;
    width: 20em;
  }

  .popup {
    position: absolute;
    z-index: 200;
    max-width: 20em;
    background-color: #ffff99;
    box-shadow: 0px 2px 5px #333;
    border-radius: 2px;
    padding: 0.6em;
    margin-left: 5px;
    cursor: pointer;
    font: message-box;
    word-wrap: break-word;

    h1 {
      font-size: 1em;
      border-bottom: 1px solid #000000;
      margin: 0;
      padding-bottom: 0.2em;
    }

    p {
      margin: 0;
      padding-top: 0.2em;
    }
  }

  .highlightAnnotation,
  .underlineAnnotation,
  .squigglyAnnotation,
  .strikeoutAnnotation,
  .lineAnnotation svg line,
  .squareAnnotation svg rect,
  .circleAnnotation svg ellipse,
  .polylineAnnotation svg polyline,
  .polygonAnnotation svg polygon,
  .inkAnnotation svg polyline,
  .stampAnnotation,
  .fileAttachmentAnnotation {
    cursor: pointer;
  }
}

.pdfViewer {
  .canvasWrapper {
    overflow: hidden;
  }

  .page {
    direction: ltr;
    width: 816px;
    height: 1056px;
    margin: 1px auto -8px auto;
    position: relative;
    overflow: visible;
    // https://stackoverflow.com/questions/21025212/border-image-not-showing-in-safari
    // "transparent" makes the border not show up in Safari. But adding a light transparent color did
    // rgba(0,0,0,0.01). But there needs to be an alpha value larger than 0.
    border: 9px solid rgba(0, 0, 0, 0.01);
    background-clip: content-box;
    -o-border-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=')
      9 9 repeat;
    border-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=')
      9 9 repeat;
    background-color: white;
  }

  &.removePageBorders .page {
    margin: 0px auto 10px auto;
    border: none;
  }

  padding-bottom: 10px;

  &.removePageBorders {
    padding-bottom: 0;
  }

  &.singlePageView {
    display: inline-block;

    .page {
      margin: 0;
      border: none;
    }
  }

  &.scrollHorizontal,
  &.scrollWrapped {
    margin-left: 3.5px;
    margin-right: 3.5px;
    text-align: center;
  }
}

.spread {
  margin-left: 3.5px;
  margin-right: 3.5px;
  text-align: center;
}

.pdfViewer.scrollHorizontal,
.spread {
  white-space: nowrap;
}

.pdfViewer {
  &.removePageBorders,
  &.scrollHorizontal .spread,
  &.scrollWrapped .spread {
    margin-left: 0;
    margin-right: 0;
  }
}

.spread .page {
  display: inline-block;
  vertical-align: middle;
}

.pdfViewer {
  &.scrollHorizontal .page,
  &.scrollWrapped .page,
  &.scrollHorizontal .spread,
  &.scrollWrapped .spread {
    display: inline-block;
    vertical-align: middle;
  }
}

.spread .page {
  margin-left: -3.5px;
  margin-right: -3.5px;
}

.pdfViewer {
  &.scrollHorizontal .page,
  &.scrollWrapped .page {
    margin-left: -3.5px;
    margin-right: -3.5px;
  }

  &.removePageBorders {
    .spread .page,
    &.scrollHorizontal .page,
    &.scrollWrapped .page {
      margin-left: 5px;
      margin-right: 5px;
    }
  }

  .page {
    canvas {
      margin: 0;
      display: block;

      &[hidden] {
        display: none;
      }
    }
  }
}

.pdfPresentationMode {
  .pdfViewer {
    margin-left: 0;
    margin-right: 0;

    .page,
    .spread {
      display: block;
    }

    .page,
    &.removePageBorders .page {
      margin-left: auto;
      margin-right: auto;
    }
  }

  &:-ms-fullscreen .pdfViewer .page {
    margin-bottom: 100% !important;
  }

  &:-webkit-full-screen .pdfViewer .page,
  &:-moz-full-screen .pdfViewer .page,
  &:fullscreen .pdfViewer .page {
    margin-bottom: 100%;
    border: 0;
  }
}
